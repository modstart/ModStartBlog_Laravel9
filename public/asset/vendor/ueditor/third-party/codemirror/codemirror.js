var CodeMirror=function(){function Ce(t,e){var n,S={},y=Ce.defaults;for(n in y)y.hasOwnProperty(n)&&(S[n]=(e&&e.hasOwnProperty(n)?e:y)[n]);var L=S.document,s=L.createElement("div"),k=(s.className="CodeMirror"+(S.lineWrapping?" CodeMirror-wrap":""),s.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',t.appendChild?t.appendChild(s):t(s),s.firstChild),l=k.firstChild,A=s.lastChild,z=A.firstChild,F=z.firstChild,T=F.firstChild,C=T.firstChild,E=T.nextSibling.firstChild,i=E.firstChild,o=i.nextSibling,W=o.nextSibling;Ft(),/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)&&(l.style.width="0px"),en||(E.draggable=!0),null!=S.tabindex&&(l.tabIndex=S.tabindex),S.gutter||S.lineNumbers||(T.style.display="none");try{qt("x")}catch(t){throw t=t.message.match(/runtime/i)?new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)"):t}var w,M,b,u,a,j,G,Y,c,_,N,q,f,X,D,$,Z,H,J,Q=new Ve,tt=new Ve,I=new We([new Ee([new Te("")])]),O=(Pt(),{from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1}),et=!1,nt=0,R=0,P=0,rt=0,U="",it=Vt(),h=(x(function(){lt(S.value||""),c=!1})(),new Ie);Be(A,"mousedown",x(function(e){Et(e.shiftKey);for(var t=Ue(e);t!=s;t=t.parentNode)if(t.parentNode==z&&t!=F)return;for(t=Ue(e);t!=s;t=t.parentNode)if(t.parentNode==C)return S.onGutterClick&&S.onGutterClick(B,Xe(C.childNodes,t)+R,e),Re(e);var i=se(e);switch(function(t){return t.which||(1&t.button?1:2&t.button?3:4&t.button?2:void 0)}(e)){case 3:return void(Ke&&!we&&ue(e));case 2:return void(i&&g(i.line,i.ch,!0))}if(i){u||ut();var n=+new Date;if(G&&G.time>n-400&&Ge(G.pos,i))return Re(e),setTimeout(Mt,20),function(t){m({line:t,ch:0},{line:t,ch:V(t).text.length})}(i.line);if(j&&j.time>n-400&&Ge(j.pos,i))return G={time:n,pos:i},Re(e),Ot(i);j={time:n,pos:i};var o,r,l,a=i;!tn||Ge(O.from,O.to)||Ye(i,O.from)||Ye(O.to,i)?(Re(e),g(i.line,i.ch,!0),r=Be(L,"mousemove",x(function(t){clearTimeout(o),Re(t),function t(e){var n=se(e,!0);{var r;n&&!Ge(n,a)&&(u||ut(),m(i,a=n),c=!1,r=Lt(),n.line>=r.to||n.line<r.from)&&(o=setTimeout(x(function(){t(e)}),150))}}(t)}),!0),l=Be(L,"mouseup",x(function(t){clearTimeout(o);var e=se(t);e&&m(i,e),Re(t),Mt(),c=!0,r(),l()}),!0)):(en&&(E.draggable=!0),l=Be(L,"mouseup",x(function(t){en&&(E.draggable=!1),Y=!1,l(),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(Re(t),g(i.line,i.ch,!0),Mt())}),!0),Y=!0)}else Ue(e)==A&&Re(e)})),Be(A,"dblclick",x(function(t){for(var e=Ue(t);e!=s;e=e.parentNode)if(e.parentNode==C)return Re(t);var n=se(t);n&&(G={time:+new Date,pos:n},Re(t),Ot(n))})),Be(E,"dragstart",function(t){var e=vt();qe(e),t.dataTransfer.setDragImage(_e,0,0),t.dataTransfer.setData("Text",e)}),Be(E,"selectstart",Re),Ke||Be(A,"contextmenu",ue),Be(A,"scroll",function(){At([]),S.fixedGutter&&(T.style.left=A.scrollLeft+"px"),S.onScroll&&S.onScroll(B)}),Be(window,"resize",function(){At(!0)}),Be(l,"keyup",x(function(t){S.onKeyEvent&&S.onKeyEvent(B,Oe(t))||16==t.keyCode&&(a=null)})),Be(l,"input",kt),Be(l,"keydown",x(function(t){u||ut();var e=t.keyCode;Fe&&27==e&&(t.returnValue=!1);Et(16==e||t.shiftKey),S.onKeyEvent&&S.onKeyEvent(B,Oe(t))||(e=at(t),window.opera&&(st=e?t.keyCode:null,!e)&&(we?t.metaKey:t.ctrlKey)&&88==t.keyCode&&pt(""))})),Be(l,"keypress",x(function(t){window.opera&&t.keyCode==st?(st=null,Re(t)):S.onKeyEvent&&S.onKeyEvent(B,Oe(t))||window.opera&&!t.which&&at(t)||(S.electricChars&&M.electricChars&&(t=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),-1<M.electricChars.indexOf(t))&&setTimeout(x(function(){Rt(O.to.line,"smart")}),75),kt())})),Be(l,"focus",ut),Be(l,"blur",ct),Be(A,"dragenter",Pe),Be(A,"dragover",Pe),Be(A,"drop",x(function(t){t.preventDefault();var e,n,r,i=se(t,!0),o=t.dataTransfer.files;if(i&&!S.readOnly)if(o&&o.length&&window.FileReader&&window.File)for(var l=o.length,a=Array(l),s=0,u=0;u<l;++u)!function(t,e){var n=new FileReader;n.onload=function(){a[e]=n.result,++s==l&&(i=v(i),x(function(){var t=d(a.join(""),i,i);m(i,t)})())},n.readAsText(t)}(o[u],u);else try{(a=t.dataTransfer.getData("Text"))&&(e=d(a,i,i),n=O.from,r=O.to,m(i,e),Y&&d("",n,r),Mt())}catch(t){}})),Be(A,"paste",function(){Mt(),kt()}),Be(l,"paste",kt),Be(l,"cut",x(function(){pt("")}));try{J=L.activeElement==l}catch(t){}function r(t){return 0<=t&&t<I.size}J?setTimeout(ut,20):ct();var B=s.CodeMirror={getValue:function(t){var e=[];return I.iter(0,I.size,function(t){e.push(t.text)}),e.join("\n")},setValue:x(lt),getSelection:vt,replaceSelection:x(pt),focus:function(){Mt(),ut(),kt()},setOption:function(t,e){var n=S[t];S[t]=e,"mode"==t||"indentUnit"==t?Pt():"readOnly"==t&&e?(ct(),l.blur()):"theme"==t?Ft():"lineWrapping"==t&&n!=e?x(Bt)():"tabSize"==t&&x(Kt)(),"lineNumbers"!=t&&"gutter"!=t&&"firstLineNumber"!=t&&"theme"!=t||x(Ut)()},getOption:function(t){return S[t]},undo:x(function(){ht(h.done,h.undone)}),redo:x(function(){ht(h.undone,h.done)}),indentLine:x(function(t,e){r(t)&&Rt(t,null==e?"smart":e?"add":"subtract")}),indentSelection:x(function(t){if(Ge(O.from,O.to))return Rt(O.from.line,t);for(var e=O.to.line-(O.to.ch?0:1),n=O.from.line;n<=e;++n)Rt(n,t)}),historySize:function(){return{undo:h.done.length,redo:h.undone.length}},clearHistory:function(){h=new Ie},matchBrackets:x(function(){he(!0)}),getTokenAt:x(function(t){return V((t=v(t)).line).getTokenAt(M,pe(t.line),t.ch)}),getStateAfter:function(t){return pe((t=Dt(null==t?I.size-1:t))+1)},cursorCoords:function(t){return ne((t=null==t?O.inverted:t)?O.from:O.to)},charCoords:function(t){return ne(v(t))},coordsChar:function(t){var e=je(E);return ee(t.x-e.left,t.y-e.top)},markText:x(Gt),setBookmark:function(t){var e=new Qe((t=v(t)).ch);return V(t.line).addMark(e),e},setMarker:x(function(t,e,n){"number"==typeof t&&(t=V(Dt(t)));return t.gutterMarker={text:e,style:n},D=!0,t}),clearMarker:x(function(t){"number"==typeof t&&(t=V(Dt(t)));t.gutterMarker=null,D=!0}),setLineClass:x(function(t,e){return Yt(t,function(t){return t.className!=e&&(t.className=e,1)})}),hideLine:x(function(t){return _t(t,!0)}),showLine:x(function(t){return _t(t,!1)}),onDeleteLine:function(t,e){if("number"==typeof t){if(!r(t))return null;t=V(t)}return(t.handlers||(t.handlers=[])).push(e),t},lineInfo:function(t){if("number"==typeof t){if(!r(t))return null;var e=t;if(!(t=V(t)))return null}else if(null==(e=Ne(t)))return null;var n=t.gutterMarker;return{line:e,handle:t,text:t.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:t.className}},addWidget:function(t,e,n,r,i){var o,l=(t=te(v(t))).yBot,a=t.x;e.style.position="absolute",z.appendChild(e),"over"==r?l=t.y:"near"==r&&(r=Math.max(A.offsetHeight,I.height*K()),o=Math.max(z.clientWidth,E.clientWidth)-ae(),t.yBot+e.offsetHeight>r&&t.y>e.offsetHeight&&(l=t.y-e.offsetHeight),a+e.offsetWidth>o)&&(a=o-e.offsetWidth),e.style.top=l+le()+"px",e.style.left=e.style.right="","right"==i?(a=z.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(z.clientWidth-e.offsetWidth)/2),e.style.left=a+ae()+"px"),n&&St(a,l,a+e.offsetWidth,l+e.offsetHeight)},lineCount:function(){return I.size},clipPos:v,getCursor:function(t){return null==t&&(t=O.inverted),{line:(t=t?O.from:O.to).line,ch:t.ch}},somethingSelected:function(){return!Ge(O.from,O.to)},setCursor:x(function(t,e,n){null==e&&"number"==typeof t.line?g(t.line,t.ch,n):g(t,e,n)}),setSelection:x(function(t,e,n){(n?m:Wt)(v(t),v(e||t))}),getLine:function(t){if(r(t))return V(t).text},getLineHandle:function(t){if(r(t))return V(t)},setLine:x(function(t,e){r(t)&&d(e,{line:t,ch:0},{line:t,ch:V(t).text.length})}),removeLine:x(function(t){r(t)&&d("",{line:t,ch:0},v({line:t+1,ch:0}))}),replaceRange:x(d),getRange:function(t,e){return gt(v(t),v(e))},execCommand:function(t){return be[t](B)},moveH:x(function(t,e){var n=t<0?O.from:O.to;(a||Ge(O.from,O.to))&&(n=Ht(t,e));g(n.line,n.ch,!0)}),deleteH:x(function(t,e){Ge(O.from,O.to)?t<0?d("",Ht(t,e),O.to):d("",O.from,Ht(t,e)):d("",O.from,O.to);_=!0}),moveV:x(function(t,e){var n=0,r=te(O.inverted?O.from:O.to,!0);null!=It&&(r.x=It);"page"==e?n=A.clientHeight:"line"==e&&(n=K());e=ee(r.x,r.y+n*t+2);g(e.line,e.ch,!0),It=r.x}),toggleOverwrite:function(){et=!et},posFromIndex:function(e){var n,r=0;return I.iter(0,I.size,function(t){t=t.text.length+1;if(e<t)return n=e,!0;e-=t,++r}),v({line:r,ch:n})},indexFromPos:function(t){var e;return t.line<0||t.ch<0?0:(e=t.ch,I.iter(0,t.line,function(t){e+=t.text.length+1}),e)},operation:function(t){return x(t)()},refresh:function(){At(!0)},getInputField:function(){return l},getWrapperElement:function(){return s},getScrollerElement:function(){return A},getGutterElement:function(){return T}};function V(t){for(var e=I,n=t;!e.lines;)for(var r=0;;++r){var i=e.children[r],o=i.chunkSize();if(n<o){e=i;break}n-=o}return e.lines[n]}function ot(t,e){D=!0;for(var n=e-t.height,r=t;r;r=r.parent)r.height+=n}function lt(t){var e={line:0,ch:0};ft(e,{line:I.size-1,ch:V(I.size-1).text.length},$e(t),e,e),c=!0}function at(t){var e,n,r=Ze[t.keyCode],i=Se[S.keyMap].auto;return null==r||t.altGraphKey?(i&&(S.keyMap=i),null):(t.altKey&&(r="Alt-"+r),t.ctrlKey&&(r="Ctrl-"+r),t.metaKey&&(r="Cmd-"+r),t.shiftKey&&(e=Je("Shift-"+r,S.extraKeys,S.keyMap))?n=!0:e=Je(r,S.extraKeys,S.keyMap),"string"==typeof e&&(e=be.propertyIsEnumerable(e)?be[e]:null),!i||!e&&function(t){t=Ze[t.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}(t)||(S.keyMap=i),!!e&&(n?(r=a,a=null,e(B),a=r):e(B),Re(t),!0))}var st=null;function ut(){S.readOnly||(u||(S.onFocus&&S.onFocus(B),u=!0,-1==s.className.search(/\bCodeMirror-focused\b/)&&(s.className+=" CodeMirror-focused"),X)||wt(!0),yt(),ce())}function ct(){u&&(S.onBlur&&S.onBlur(B),u=!1,s.className=s.className.replace(" CodeMirror-focused","")),clearInterval(w),setTimeout(function(){u||(a=null)},150)}function ft(t,e,n,r,i){if(h){var o=[];for(I.iter(t.line,e.line+1,function(t){o.push(t.text)}),h.addChange(t.line,n.length,o);h.done.length>S.undoDepth;)h.done.shift()}dt(t,e,n,r,i)}function ht(t,e){var n,r,t=t.pop();t&&(n=[],r=t.start+t.added,I.iter(t.start,r,function(t){n.push(t.text)}),e.push({start:t.start,added:t.old.length,old:n}),e=v({line:t.start+t.old.length-1,ch:function(t,e){if(!e)return t?t.length:0;if(!t)return e.length;for(var n=t.length,r=e.length;0<=n&&0<=r&&t.charAt(n)==e.charAt(r);--n,--r);return r+1}(n[n.length-1],t.old[t.old.length-1])}),dt({line:t.start,ch:0},{line:r-1,ch:V(r-1).text.length},t.old,e,e),c=!0)}function dt(t,e,n,r,i){var o,l=!1,a=U.length,s=(S.lineWrapping||I.iter(t.line,e.line,function(t){if(t.text.length==a)return l=!0}),(t.line!=e.line||1<n.length)&&(D=!0),e.line-t.line),u=V(t.line),c=V(e.line);if(0==t.ch&&0==e.ch&&""==n[n.length-1]){var f=[],h=null;t.line?(h=V(t.line-1)).fixMarkEnds(c):c.fixMarkStarts();for(var d=0,p=n.length-1;d<p;++d)f.push(Te.inheritMarks(n[d],h));s&&I.remove(t.line,s,$),f.length&&I.insert(t.line,f)}else if(u==c)if(1==n.length)u.replace(t.ch,e.ch,n[0]);else{c=u.split(e.ch,n[n.length-1]),u.replace(t.ch,null,n[0]),u.fixMarkEnds(c);for(f=[],d=1,p=n.length-1;d<p;++d)f.push(Te.inheritMarks(n[d],u));f.push(c),I.insert(t.line+1,f)}else if(1==n.length)u.replace(t.ch,null,n[0]),c.replace(null,e.ch,""),u.append(c),I.remove(t.line+1,s,$);else{f=[];u.replace(t.ch,null,n[0]),c.replace(null,e.ch,n[n.length-1]),u.fixMarkEnds(c);for(d=1,p=n.length-1;d<p;++d)f.push(Te.inheritMarks(n[d],u));1<s&&I.remove(t.line+1,s-1,$),I.insert(t.line+1,f)}S.lineWrapping?(o=A.clientWidth/oe()-3,I.iter(t.line,t.line+n.length,function(t){var e;t.hidden||(e=Math.ceil(t.text.length/o)||1)!=t.height&&ot(t,e)})):(I.iter(t.line,d+n.length,function(t){t=t.text;t.length>a&&(a=(U=t).length,H=null,l=!1)}),l&&(a=0,U="",H=null,I.iter(0,I.size,function(t){t=t.text;t.length>a&&(a=t.length,U=t)})));for(var m=[],g=n.length-s-1,d=0,v=b.length;d<v;++d){var x=b[d];x<t.line?m.push(x):x>e.line&&m.push(x+g)}var y,k,c=t.line+Math.min(n.length,500),s=(s=t.line,y=c,k=pe(s),I.iter(s,y,function(t){t.highlight(M,k,S.tabSize),t.stateAfter=Le(M,k)}),m.push(c),b=m,ge(100),N.push({from:t.line,to:e.line+1,diff:g}),{from:t,to:e,text:n});if(q){for(var C=q;C.next;C=C.next);C.next=s}else q=s;function w(t){return t<=Math.min(e.line,e.line+g)?t:t+g}Wt(r,i,w(O.from.line),w(O.to.line)),z.style.height=I.height*K()+2*le()+"px"}function d(r,i,o){function e(t){var e,n;return Ye(t,i)?t:Ye(o,t)?(e=t.line+r.length-(o.line-i.line)-1,n=t.ch,t.line==o.line&&(n+=r[r.length-1].length-(o.ch-(o.line==i.line?i.ch:0))),{line:e,ch:n}):l}var l;return i=v(i),o=o?v(o):i,mt(r=$e(r),i,o,function(t){return l=t,{from:e(O.from),to:e(O.to)}}),l}function pt(t,e){mt($e(t),O.from,O.to,function(t){return"end"==e?{from:t,to:t}:"start"==e?{from:O.from,to:O.from}:{from:O.from,to:t}})}function mt(t,e,n,r){var i=1==t.length?t[0].length+e.ch:t[t.length-1].length,r=r({line:e.line+t.length-1,ch:i});ft(e,n,t,r.from,r.to)}function gt(t,e){var n,r=t.line,i=e.line;return r==i?V(r).text.slice(t.ch,e.ch):(n=[V(r).text.slice(t.ch)],I.iter(r+1,i,function(t){n.push(t.text)}),n.push(V(i).text.slice(0,e.ch)),n.join("\n"))}function vt(){return gt(O.from,O.to)}var xt=!1;function yt(){xt||Q.set(S.pollInterval,function(){ve(),Ct(),u&&yt(),xe()})}function kt(){var e=!1;xt=!0,Q.set(20,function t(){ve(),Ct()||e?(xt=!1,yt()):(e=!0,Q.set(60,t)),xe()})}var p="";function Ct(){if(X||!u||rn(l))return!1;var t=l.value;if(t==p)return!1;a=null;for(var e=0,n=Math.min(p.length,t.length);e<n&&p[e]==t[e];)++e;return e<p.length?O.from={line:O.from.line,ch:O.from.ch-(p.length-e)}:et&&Ge(O.from,O.to)&&(O.to={line:O.to.line,ch:Math.min(V(O.to.line).text.length,O.to.ch+(t.length-e))}),pt(t.slice(e),"end"),p=t,!0}function wt(t){Ge(O.from,O.to)?t&&(p=l.value=""):(p="",l.value=vt(),l.select())}function Mt(){S.readOnly||l.focus()}function bt(){var t=te(O.inverted?O.from:O.to),e=S.lineWrapping?Math.min(t.x,E.offsetWidth):t.x;return St(e,t.y,e,t.yBot)}function St(t,e,n,r){var i=ae(),o=le(),l=K(),i=(r+=o,t+=i,n+=i,A.clientHeight),a=A.scrollTop,s=!1,u=!0,o=((e+=o)<a?(A.scrollTop=Math.max(0,e-2*l),s=!0):a+i<r&&(A.scrollTop=r+l-i,s=!0),A.clientWidth),e=A.scrollLeft,a=S.fixedGutter?T.clientWidth:0;return t<e+a?(t<50&&(t=0),A.scrollLeft=Math.max(0,t-10-a),s=!0):o+e-3<n&&(A.scrollLeft=n+10-o,s=!0,n>z.clientWidth)&&(u=!1),s&&S.onScroll&&S.onScroll(B),u}function Lt(){var t=K(),e=A.scrollTop-le(),n=Math.max(0,Math.floor(e/t)),e=Math.ceil((e+A.clientHeight)/t);return{from:De(I,n),to:De(I,e)}}function At(t,e){if(A.clientWidth){var n=Lt();if(!(!0!==t&&0==t.length&&n.from>=R&&n.to<=P)){for(var r=Math.max(n.from-100,0),i=Math.min(I.size,n.to+100),o=(R<r&&r-R<20&&(r=R),i<P&&P-i<20&&(i=Math.min(I.size,P)),!0===t?[]:function(t,e){for(var n=0,r=e.length||0;n<r;++n){for(var i=e[n],o=[],l=i.diff||0,a=0,s=t.length;a<s;++a){var u=t[a];i.to<=u.from&&i.diff?o.push({from:u.from+l,to:u.to+l,domStart:u.domStart}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from,domStart:u.domStart}),i.to<u.to&&o.push({from:i.to+l,to:u.to+l,domStart:u.domStart+(i.to-u.from)}))}t=o}return t}([{from:R,to:P,domStart:0}],t)),l=0,a=0;a<o.length;++a){var s=o[a];s.from<r&&(s.domStart+=r-s.from,s.from=r),s.to>i&&(s.to=i),s.from>=s.to?o.splice(a--,1):l+=s.to-s.from}if(l!=i-r){o.sort(function(t,e){return t.domStart-e.domStart});var u=K(),n=T.style.display,t=(W.style.display=T.style.display="none",r),c=i,f=o;if(f.length){function h(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}for(var d=0,p=W.firstChild,m=0;m<f.length;++m){for(var g=f[m];g.domStart>d;)p=h(p),d++;for(var v=0,x=g.to-g.from;v<x;++v)p=p.nextSibling,d++}for(;p;)p=h(p)}else W.innerHTML="";var y,k=f.shift(),p=W.firstChild,v=t,C=O.from.line,w=O.to.line,M=C<t&&t<=w,b=L.createElement("div"),t=(I.iter(t,c,function(t){var e=null,n=null;M?(e=0,w==v&&(M=!1,n=O.to.ch)):C==v&&(w==v?(e=O.from.ch,n=O.to.ch):(M=!0,e=O.from.ch)),!(k=k&&k.to==v?f.shift():k)||k.from>v?(t.hidden?b.innerHTML="<pre></pre>":b.innerHTML=t.getHTML(e,n,!0,it),W.insertBefore(b.firstChild,p)):p=p.nextSibling,++v}),W.style.display="",r!=R||i!=P||rt!=A.clientHeight+u);if(t&&(rt=A.clientHeight+u),P=i,nt=He(I,R=r),F.style.top=nt*u+"px",z.style.height=I.height*u+2*le()+"px",W.childNodes.length!=P-R)throw new Error("BAD PATCH! "+JSON.stringify(o)+" size="+(P-R)+" nodes="+W.childNodes.length);return S.lineWrapping?(H=A.clientWidth,y=W.firstChild,I.iter(R,P,function(t){var e;t.hidden||(e=Math.round(y.offsetHeight/u)||1,t.height!=e&&(ot(t,e),D=!0)),y=y.nextSibling})):(H=null==H?qt(U):H)>A.clientWidth?(E.style.width=H+"px",z.style.width="",z.style.width=A.scrollWidth+"px"):E.style.width=z.style.width="",T.style.display=n,(t||D)&&zt(),Tt(),!e&&S.onUpdate&&S.onUpdate(B),!0}}}else R=P=nt=0}function zt(){if(S.gutter||S.lineNumbers){for(var t=F.offsetHeight,e=A.clientHeight,i=(T.style.height=(t-e<2?e:t)+"px",[]),o=R,n=(I.iter(R,Math.max(P,R+1),function(t){if(t.hidden)i.push("<pre></pre>");else{var e=t.gutterMarker,n=S.lineNumbers?o+S.firstLineNumber:null;e&&e.text?n=e.text.replace("%N%",null!=n?n:""):null==n&&(n=" "),i.push(e&&e.style?'<pre class="'+e.style+'">':"<pre>",n);for(var r=1;r<t.height;++r)i.push("<br/>&#160;");i.push("</pre>")}++o}),T.style.display="none",C.innerHTML=i.join(""),String(I.size).length),e=C.firstChild,r=(t=e).textContent||t.innerText||t.nodeValue||"",l="";r.length+l.length<n;)l+=" ";l&&e.insertBefore(L.createTextNode(l),e.firstChild),T.style.display="",E.style.marginLeft=T.offsetWidth+"px",D=!1}}function Tt(){var t=O.inverted?O.from:O.to,t=(K(),te(t,!0)),e=je(s),n=je(W);k.style.top=t.y+n.top-e.top+"px",k.style.left=t.x+n.left-e.left+"px",Ge(O.from,O.to)?(o.style.top=t.y+"px",o.style.left=(S.lineWrapping?Math.min(t.x,E.offsetWidth):t.x)+"px",o.style.display=""):o.style.display="none"}function Et(t){a=t?a||(O.inverted?O.to:O.from):null}function m(t,e){var n=a&&v(a);n&&(Ye(n,t)?t=n:Ye(e,n)&&(e=n)),Wt(t,e),_=!0}function Wt(t,e,n,r){var i;(It=null)==n&&(n=O.from.line,r=O.to.line),Ge(O.from,t)&&Ge(O.to,e)||(Ye(e,t)&&(i=e,e=t,t=i),Ge(t=t.line!=n?Nt(t,n,O.from.ch):t,e=e.line!=r?Nt(e,r,O.to.ch):e)||Ge(t,O.to)?O.inverted=!1:Ge(e,O.from)&&(O.inverted=!0),Ge(t,e)?Ge(O.from,O.to)||N.push({from:n,to:r+1}):Ge(O.from,O.to)?N.push({from:t.line,to:e.line+1}):(Ge(t,O.from)||(t.line<n?N.push({from:t.line,to:Math.min(e.line,n)+1}):N.push({from:n,to:Math.min(r,t.line)+1})),Ge(e,O.to)||(e.line<r?N.push({from:Math.max(n,t.line),to:r+1}):N.push({from:Math.max(t.line,r),to:e.line+1}))),O.from=t,O.to=e,f=!0)}function Nt(o,t,l){function e(t){for(var e=o.line+t,n=1==t?I.size:-1;e!=n;){var r,i=V(e);if(!i.hidden)return r=o.ch,{line:e,ch:r=l<r||r>i.text.length?i.text.length:r};e+=t}}return V(o.line).hidden?o.line>=t?e(1)||e(-1):e(-1)||e(1):o}function g(t,e,n){t=v({line:t,ch:e||0});(n?m:Wt)(t,t)}function Dt(t){return Math.max(0,Math.min(t,I.size-1))}function v(t){var e,n;return t.line<0?{line:0,ch:0}:t.line>=I.size?{line:I.size-1,ch:V(I.size-1).text.length}:(e=t.ch,n=V(t.line).text.length,null==e||n<e?{line:t.line,ch:n}:e<0?{line:t.line,ch:0}:t)}function Ht(r,t){var e=O.inverted?O.from:O.to,i=e.line,n=e.ch,o=V(i);function l(t){if(n==(r<0?0:o.text.length)){if(t||!function(){for(var t=i+r,e=r<0?-1:I.size;t!=e;t+=r){var n=V(t);if(!n.hidden)return i=t,o=n,1}}())return;n=r<0?o.text.length:0}else n+=r;return 1}if("char"==t)l();else if("column"==t)l(!0);else if("word"==t)for(var a=!1;!(r<0)||l();){if(nn(o.text.charAt(n)))a=!0;else if(a){r<0&&(r=1,l());break}if(0<r&&!l())break}return{line:i,ch:n}}var It=null;function Ot(t){for(var e=V(t.line).text,n=t.ch,r=t.ch;0<n&&nn(e.charAt(n-1));)--n;for(;r<e.length&&nn(e.charAt(r));)++r;m({line:t.line,ch:n},{line:t.line,ch:r})}function Rt(t,e){"smart"==(e=e||"add")&&(M.indent?n=pe(t):e="prev");var n,r,i=V(t),o=i.indentation(S.tabSize),l=i.text.match(/^\s*/)[0];if("prev"==e?r=t?V(t-1).indentation(S.tabSize):0:"smart"==e?r=M.indent(n,i.text.slice(l.length),i.text):"add"==e?r=o+S.indentUnit:"subtract"==e&&(r=o-S.indentUnit),(r=Math.max(0,r))-o){var a="",s=0;if(S.indentWithTabs)for(var u=Math.floor(r/S.tabSize);u;--u)s+=S.tabSize,a+="\t";for(;s<r;)++s,a+=" "}else{if(O.from.line!=t&&O.to.line!=t)return;var a=l}d(a,{line:t,ch:0},{line:t,ch:l.length})}function Pt(){M=Ce.getMode(S,S.mode),I.iter(0,I.size,function(t){t.stateAfter=null}),b=[0],ge()}function Ut(){var t=S.gutter||S.lineNumbers;T.style.display=t?"":"none",t?D=!0:W.parentNode.style.marginLeft=0}function Bt(t,e){var n;S.lineWrapping?(s.className+=" CodeMirror-wrap",n=A.clientWidth/oe()-3,I.iter(0,I.size,function(t){var e;t.hidden||1!=(e=Math.ceil(t.text.length/n)||1)&&ot(t,e)}),E.style.width=z.style.width=""):(s.className=s.className.replace(" CodeMirror-wrap",""),H=null,U="",I.iter(0,I.size,function(t){1==t.height||t.hidden||ot(t,1),t.text.length>U.length&&(U=t.text)})),N.push({from:0,to:I.size})}function Vt(){for(var t='<span class="cm-tab">',e=0;e<S.tabSize;++e)t+=" ";return t+"</span>"}function Kt(){it=Vt(),At(!0)}function Ft(){A.className=A.className.replace(/\s*cm-s-\w+/g,"")+S.theme.replace(/(^|\s)\s*/g," cm-s-")}function jt(){this.set=[]}function Gt(t,e,n){t=v(t),e=v(e);var i=new jt;function r(t,e,n,r){V(t).addMark(new ze(e,n,r,i.set))}if(t.line==e.line)r(t.line,t.ch,e.ch,n);else{r(t.line,t.ch,null,n);for(var o=t.line+1,l=e.line;o<l;++o)r(o,null,null,n);r(e.line,null,e.ch,n)}return N.push({from:t.line,to:e.line+1}),i}function Yt(t,e){var n=t,r=t;return"number"==typeof t?r=V(Dt(t)):n=Ne(t),null!=n&&e(r,n)?(N.push({from:n,to:n+1}),r):null}function _t(t,n){return Yt(t,function(t,e){return t.hidden!=n&&(t.hidden=n,ot(t,n?0:1),!n||O.from.line!=e&&O.to.line!=e||Wt(Nt(O.from,O.from.line,O.from.ch),Nt(O.to,O.to.line,O.to.ch)),D=!0)})}function qt(t){return i.innerHTML="<pre><span>x</span></pre>",i.firstChild.firstChild.firstChild.nodeValue=t,i.firstChild.firstChild.offsetWidth||10}jt.prototype.clear=x(function(){for(var t=1/0,e=-1/0,n=0,r=this.set.length;n<r;++n){var i=this.set[n],o=i.marked;if(o&&i.parent)for(var i=Ne(i),t=Math.min(t,i),e=Math.max(e,i),l=0;l<o.length;++l)o[l].set==this.set&&o.splice(l--,1)}t!=1/0&&N.push({from:t,to:e+1})}),jt.prototype.find=function(){for(var t,e,n=0,r=this.set.length;n<r;++n)for(var i=this.set[n],o=i.marked,l=0;l<o.length;++l){var a,s=o[l];s.set!=this.set||null==s.from&&null==s.to||null!=(a=Ne(i))&&(null!=s.from&&(t={line:a,ch:s.from}),null!=s.to)&&(e={line:a,ch:s.to})}return{from:t,to:e}};var Xt,$t,Zt,Jt=Math.floor(16777215*Math.random()).toString(16);function Qt(t,e){var n="",r=(S.lineWrapping&&(r=t.text.indexOf(" ",e+2),n=qe(t.text.slice(e+1,r<0?t.text.length:r+(Fe?5:0)))),i.innerHTML="<pre>"+t.getHTML(null,null,!1,it,e)+'<span id="CodeMirror-temp-'+Jt+'">'+qe(t.text.charAt(e)||" ")+"</span>"+n+"</pre>",document.getElementById("CodeMirror-temp-"+Jt)),t=r.offsetTop,n=r.offsetLeft;return Fe&&e&&0==t&&0==n&&((e=document.createElement("span")).innerHTML="x",r.parentNode.insertBefore(e,r.nextSibling),t=e.offsetTop),{top:t,left:n}}function te(t,e){var n,r=K(),e=r*(He(I,t.line)-(e?nt:0));return 0==t.ch?n=0:(n=(t=Qt(V(t.line),t.ch)).left,S.lineWrapping&&(e+=Math.max(0,t.top))),{x:n,y:e,yBot:e+r}}function ee(t,e){e<0&&(e=0);var n=K(),r=oe(),e=nt+Math.floor(e/n),i=De(I,e);if(i>=I.size)return{line:I.size-1,ch:V(I.size-1).text.length};var o=V(i),l=o.text,a=S.lineWrapping,s=a?e-He(I,i):0;if(t<=0&&0==s)return{line:i,ch:0};function u(t){var e,t=Qt(o,t);return a?(e=Math.round(t.top/n),Math.max(0,t.left+(e-s)*A.clientWidth)):t.left}for(var c,f=0,h=0,d=l.length,p=Math.min(d,Math.ceil((t+s*A.clientWidth*.9)/r));;){var m=u(p);if(!(m<=t&&p<d)){c=m,d=p;break}p=Math.min(d,Math.ceil(1.2*p))}if(c<t)return{line:i,ch:d};for((m=u(p=Math.floor(.8*d)))<t&&(f=p,h=m);;){if(d-f<=1)return{line:i,ch:t-h<c-t?f:d};var g=Math.ceil((f+d)/2),v=u(g);t<v?(d=g,c=v):(f=g,h=v)}}function ne(t){var t=te(t,!0),e=je(E);return{x:e.left+t.x,y:e.top+t.y,yBot:e.top+t.yBot}}function K(){if(null==Zt){Zt="<pre>";for(var t=0;t<49;++t)Zt+="x<br/>";Zt+="x</pre>"}var e=W.clientHeight;return e!=$t&&($t=e,i.innerHTML=Zt,Xt=i.firstChild.offsetHeight/50||1,i.innerHTML=""),Xt}var re,ie=0;function oe(){return A.clientWidth==ie?re:(ie=A.clientWidth,re=qt("x"))}function le(){return E.offsetTop}function ae(){return E.offsetLeft}function se(t,e){var n,r,i=je(A,!0);try{n=t.clientX,r=t.clientY}catch(t){return null}return!e&&(n-i.left>A.clientWidth||r-i.top>A.clientHeight)?null:ee(n-(e=je(E,!0)).left,r-e.top)}function ue(t){var e,n,r,i=se(t);function o(){var t=$e(l.value).join("\n");t!=n&&x(pt)(t,"end"),k.style.position="relative",l.style.cssText=e,wt(!(X=!1)),yt()}i&&!window.opera&&(!Ge(O.from,O.to)&&!Ye(i,O.from)&&Ye(i,O.to)||x(g)(i.line,i.ch),e=l.style.cssText,k.style.position="absolute",l.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",X=!0,n=l.value=vt(),Mt(),l.select(),Ke?(Pe(t),r=Be(window,"mouseup",function(){r(),setTimeout(o,20)},!0)):setTimeout(o,50))}function ce(){clearInterval(w);var t=!0;o.style.visibility="",w=setInterval(function(){o.style.visibility=(t=!t)?"":"hidden"},650)}var fe={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function he(t){var e=O.inverted?O.from:O.to,n=V(e.line),r=e.ch-1,i=0<=r&&fe[n.text.charAt(r)]||fe[n.text.charAt(++r)];if(i){i.charAt(0);for(var h=">"==i.charAt(1),d=h?1:-1,o=n.styles,l=r+1,a=0,s=o.length;a<s;a+=2)if((l-=o[a].length)<=0){var p=o[a+1];break}for(var m=[n.text.charAt(r)],g=/[(){}[\]]/,a=e.line,s=h?Math.min(a+100,I.size):Math.max(-1,a-100);a!=s;a+=d){var n=V(a),u=a==e.line,c=function(t,e,n){if(t.text)for(var r,i=t.styles,o=h?0:t.text.length-1,l=h?0:i.length-2,a=h?i.length:-2;l!=a;l+=2*d){var s=i[l];if(null!=i[l+1]&&i[l+1]!=p)o+=d*s.length;else for(var u=h?0:s.length-1,c=h?s.length:-1;u!=c;u+=d,o+=d)if(e<=o&&o<n&&g.test(r=s.charAt(u))){var f=fe[r];if(">"==f.charAt(1)==h)m.push(r);else{if(m.pop()!=f.charAt(0))return{pos:o,match:!1};if(!m.length)return{pos:o,match:!0}}}}}(n,u&&h?r+1:0,u&&!h?r:n.text.length);if(c)break}var p=(c=c||{pos:null,match:!1}).match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",f=Gt({line:e.line,ch:r},{line:e.line,ch:r+1},p),v=null!=c.pos&&Gt({line:a,ch:c.pos},{line:a,ch:c.pos+1},p),i=x(function(){f.clear(),v&&v.clear()});t?setTimeout(i,800):Z=i}}function de(t){for(var e,n,r=t,i=t-40;i<r;--r){if(0==r)return 0;var o=V(r-1);if(o.stateAfter)return r;o=o.indentation(S.tabSize);(null==n||o<e)&&(n=r-1,e=o)}return n}function pe(t){var e=de(t),n=(n=e&&V(e-1).stateAfter)?Le(M,n):Ae(M);return I.iter(e,t,function(t){t.highlight(M,n,S.tabSize),t.stateAfter=Le(M,n)}),e<t&&N.push({from:e,to:t}),t<I.size&&!V(t).stateAfter&&b.push(t),n}function me(){for(var r,i=+new Date+S.workTime,t=b.length;b.length;)if(!((r=V(R).stateAfter?b.pop():R)>=I.size)){var e=de(r),o=(o=e&&V(e-1).stateAfter)?Le(M,o):Ae(M),l=0,a=M.compareStates,s=!1,u=e,c=!1;if(I.iter(u,I.size,function(t){var e=t.stateAfter;if(+new Date>i)return b.push(u),ge(S.workDelay),s&&N.push({from:r,to:u+1}),c=!0;var n=t.highlight(M,o,S.tabSize);if(n&&(s=!0),t.stateAfter=Le(M,o),a){if(e&&a(e,o))return!0}else if(!1===n&&e){if(3<++l&&(!M.indent||M.indent(e,"")==M.indent(o,"")))return!0}else l=0;++u}),c)return;s&&N.push({from:r,to:u+1})}t&&S.onHighlightComplete&&S.onHighlightComplete(B)}function ge(t){b.length&&tt.set(t,x(me))}function ve(){c=_=q=null,f=!(N=[]),$=[]}function xe(){var t,e,n=!1,n=(f&&(n=!bt()),N.length?t=At(N,!0):(f&&Tt(),D&&zt()),n&&bt(),f&&(o.getBoundingClientRect&&(n=o.getBoundingClientRect(),Fe&&n.top==n.bottom||(e=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),(n.top<0||n.bottom>e)&&o.scrollIntoView())),ce()),u&&!X&&(!0===c||!1!==c&&f)&&wt(_),f&&S.matchBrackets&&setTimeout(x(function(){Z&&(Z(),Z=null),Ge(O.from,O.to)&&he(!1)}),20),q),r=$;f&&S.onCursorActivity&&S.onCursorActivity(B),n&&S.onChange&&B&&S.onChange(B,n);for(var i=0;i<r.length;++i)r[i](B);t&&S.onUpdate&&S.onUpdate(B)}var ye,ke=0;function x(e){return function(){ke++||ve();try{var t=e.apply(this,arguments)}finally{--ke||xe()}return t}}for(ye in Me)Me.propertyIsEnumerable(ye)&&!B.propertyIsEnumerable(ye)&&(B[ye]=Me[ye]);return B}Ce.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var we=/Mac/.test(navigator.platform),i=(/Win/.test(navigator.platform),{}),o={},Me=(Ce.defineMode=function(t,e){Ce.defaults.mode||"null"==t||(Ce.defaults.mode=t),i[t]=e},Ce.defineMIME=function(t,e){o[t]=e},Ce.getMode=function(t,e){"string"==typeof(e="string"==typeof e&&o.hasOwnProperty(e)?o[e]:e)?(n=e,r={}):null!=e&&(n=e.name,r=e);var n,r,e=i[n];return e?e(t,r||{}):(window.console&&console.warn("No mode "+n+" found, falling back to plain text."),Ce.getMode(t,"text/plain"))},Ce.listModes=function(){var t,e=[];for(t in i)i.propertyIsEnumerable(t)&&e.push(t);return e},Ce.listMIMEs=function(){var t,e=[];for(t in o)o.propertyIsEnumerable(t)&&e.push({mime:t,mode:o[t]});return e},Ce.extensions={}),be=(Ce.defineExtension=function(t,e){Me[t]=e},Ce.commands={selectAll:function(t){t.setSelection({line:0,ch:0},{line:t.lineCount()-1})},killLine:function(t){var e=t.getCursor(!0),n=t.getCursor(!1),r=!Ge(e,n);r||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,r?n:{line:e.line}):t.replaceRange("",e,{line:e.line+1,ch:0})},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",{line:e,ch:0},{line:e})},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.setCursor(0,0,!0)},goDocEnd:function(t){t.setSelection({line:t.lineCount()-1},null,!0)},goLineStart:function(t){t.setCursor(t.getCursor().line,0,!0)},goLineStartSmart:function(t){var e=t.getCursor(),n=t.getLine(e.line),n=Math.max(0,n.search(/\S/));t.setCursor(e.line,e.ch<=n&&e.ch?0:n,!0)},goLineEnd:function(t){t.setSelection({line:t.getCursor().line},null,!0)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goWordRight:function(t){t.moveH(1,"word")},delCharLeft:function(t){t.deleteH(-1,"char")},delCharRight:function(t){t.deleteH(1,"char")},delWordLeft:function(t){t.deleteH(-1,"word")},delWordRight:function(t){t.deleteH(1,"word")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t","end")},transposeChars:function(t){var e=t.getCursor(),n=t.getLine(e.line);0<e.ch&&e.ch<n.length-1&&t.replaceRange(n.charAt(e.ch)+n.charAt(e.ch-1),{line:e.line,ch:e.ch-1},{line:e.line,ch:e.ch+1})},newlineAndIndent:function(t){t.replaceSelection("\n","end"),t.indentLine(t.getCursor().line)},toggleOverwrite:function(t){t.toggleOverwrite()}}),Se=Ce.keyMap={};function Je(t,e,n){function l(t,e,n){var r=e[t];if(null!=r)return r;if(null==(n=null==n?e.fallthrough:n))return e.catchall;if("string"==typeof n)return l(t,Se[n]);for(var i=0,o=n.length;i<o;++i)if(null!=(r=l(t,Se[n[i]])))return r;return null}return e?l(t,e,n):l(t,Se[n])}function Le(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n,r={};for(n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ae(t,e,n){return!t.startState||t.startState(e,n)}function f(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8}function ze(t,e,n,r){this.from=t,this.to=e,this.style=n,this.set=r}function Qe(t){this.from=t,this.to=t,this.line=null}function Te(t,e){this.styles=e||[t,null],this.text=t,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function u(t,e,n,r){for(var i=0,o=0,l=0;o<e;i+=2){var a=n[i],s=o+a.length;0==l?(t<s&&r.push(a.slice(t-o,Math.min(a.length,e-o)),n[i+1]),t<=s&&(l=1)):1==l&&(e<s?r.push(a.slice(0,e-o),n[i+1]):r.push(a,n[i+1])),o=s}}function Ee(t){this.lines=t,this.parent=null;for(var e=0,n=t.length,r=0;e<n;++e)t[e].parent=this,r+=t[e].height;this.height=r}function We(t){for(var e=0,n=0,r=0,i=(this.children=t).length;r<i;++r){var o=t[r];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}function Ne(t){if(null==t.parent)return null;for(var e=t.parent,n=Xe(e.lines,t),r=e.parent;r;r=(e=r).parent){var i=0;for(r.children.length;r.children[i]!=e;++i)n+=r.children[i].chunkSize()}return n}function De(t,e){var n=0;t:do{for(var r=0,i=t.children.length;r<i;++r){var o=t.children[r],l=o.height;if(e<l){t=o;continue t}e-=l,n+=o.chunkSize()}return n}while(!t.lines);for(r=0,i=t.lines.length;r<i;++r){var a=t.lines[r].height;if(e<a)break;e-=a}return n+r}function He(t,e){var n=0;t:do{for(var r=0,i=t.children.length;r<i;++r){var o=t.children[r],l=o.chunkSize();if(e<l){t=o;continue t}e-=l,n+=o.height}return n}while(!t.lines);for(r=0;r<e;++r)n+=t.lines[r].height;return n}function Ie(){this.time=0,this.done=[],this.undone=[]}function e(){Pe(this)}function Oe(t){return t.stop||(t.stop=e),t}function Re(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function n(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Pe(t){Re(t),n(t)}function Ue(t){return t.target||t.srcElement}function Be(t,e,n,r){if("function"==typeof t.addEventListener){if(t.addEventListener(e,n,!1),r)return function(){t.removeEventListener(e,n,!1)}}else{function i(t){n(t||window.event)}if(t.attachEvent("on"+e,i),r)return function(){t.detachEvent("on"+e,i)}}}function Ve(){this.id=null}Se.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},Se.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},Se.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},Se.default=we?Se.macDefault:Se.pcDefault,Se.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Ce.fromTextArea=function(e,t){function n(){e.value=o.getValue()}(t=t||{}).value=e.value,!t.tabindex&&e.tabindex&&(t.tabindex=e.tabindex),e.form&&(r=Be(e.form,"submit",n,!0),"function"==typeof e.form.submit)&&(i=e.form.submit,e.form.submit=function t(){n(),e.form.submit=i,e.form.submit(),e.form.submit=t}),e.style.display="none";var r,i,o=Ce(function(t){e.parentNode.insertBefore(t,e.nextSibling)},t);return o.save=n,o.getTextArea=function(){return e},o.toTextArea=function(){n(),e.parentNode.removeChild(o.getWrapperElement()),e.style.display="",e.form&&(r(),"function"==typeof e.form.submit)&&(e.form.submit=i)},o},Ce.copyState=Le,Ce.startState=Ae,f.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){t=this.string.indexOf(t,this.pos);if(-1<t)return this.pos=t,!0},backUp:function(t){this.pos-=t},column:function(){return l(this.string,this.start,this.tabSize)},indentation:function(){return l(this.string,null,this.tabSize)},match:function(t,e,n){var r;return"string"!=typeof t?((r=this.string.slice(this.pos).match(t))&&!1!==e&&(this.pos+=r[0].length),r):i(this.string).indexOf(i(t),this.pos)==this.pos?(!1!==e&&(this.pos+=t.length),!0):void 0;function i(t){return n?t.toLowerCase():t}},current:function(){return this.string.slice(this.start,this.pos)}},Ce.StringStream=f,ze.prototype={attach:function(t){this.set.push(t)},detach:function(t){t=Xe(this.set,t);-1<t&&this.set.splice(t,1)},split:function(t,e){return this.to<=t&&null!=this.to?null:new ze(this.from<t||null==this.from?null:this.from-t+e,null==this.to?null:this.to-t+e,this.style,this.set)},dup:function(){return new ze(null,null,this.style,this.set)},clipTo:function(t,e,n,r,i){null!=this.from&&this.from>=e&&(this.from=Math.max(r,this.from)+i),null!=this.to&&this.to>e&&(this.to=r<this.to?this.to+i:e),t&&r>this.from&&(r<this.to||null==this.to)&&(this.from=null),n&&(e<this.to||null==this.to)&&(e>this.from||null==this.from)&&(this.to=null)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(t){return this.set==t.set}},Qe.prototype={attach:function(t){this.line=t},detach:function(t){this.line==t&&(this.line=null)},split:function(t,e){if(t<this.from)return this.from=this.to=this.from-t+e,this},isDead:function(){return this.from>this.to},clipTo:function(t,e,n,r,i){(t||e<this.from)&&(n||r>this.to)?(this.from=0,this.to=-1):this.from>e&&(this.from=this.to=Math.max(r,this.from)+i)},sameSet:function(t){return!1},find:function(){return this.line&&this.line.parent?{line:Ne(this.line),ch:this.from}:null},clear:function(){var t;this.line&&(-1!=(t=Xe(this.line.marked,this))&&this.line.marked.splice(t,1),this.line=null)}},Te.inheritMarks=function(t,e){var n=new Te(t),r=e&&e.marked;if(r)for(var i,o,l=0;l<r.length;++l)null==r[l].to&&r[l].style&&(i=n.marked||(n.marked=[]),o=r[l].dup(),i.push(o),o.attach(n));return n},Te.prototype={replace:function(t,e,n){var r=[],i=this.marked,o=null==e?this.text.length:e;if(u(0,t,this.styles,r),n&&r.push(n,null),u(o,this.text.length,this.styles,r),this.styles=r,this.text=this.text.slice(0,t)+n+this.text.slice(o),this.stateAfter=null,i)for(var l=n.length-(o-t),a=0,s=i[a];a<i.length;++a)s.clipTo(null==t,t||0,null==e,o,l),s.isDead()&&(s.detach(this),i.splice(a--,1))},split:function(t,e){var n=[e,null],r=this.marked,i=(u(t,this.text.length,this.styles,n),new Te(e+this.text.slice(t),n));if(r)for(var o=0;o<r.length;++o){var l=r[o].split(t,e.length);l&&(i.marked||(i.marked=[]),i.marked.push(l),l.attach(i))}return i},append:function(t){var e=this.text.length,n=t.marked,r=this.marked;if(this.text+=t.text,u(0,t.text.length,t.styles,this.styles),r)for(var i=0;i<r.length;++i)null==r[i].to&&(r[i].to=e);if(n&&n.length){r||(this.marked=r=[]);t:for(i=0;i<n.length;++i){var o=n[i];if(!o.from)for(var l=0;l<r.length;++l){var a=r[l];if(a.to==e&&a.sameSet(o)){a.to=null==o.to?null:o.to+e,a.isDead()&&(a.detach(this),n.splice(i--,1));continue t}}r.push(o),o.attach(this),o.from+=e,null!=o.to&&(o.to+=e)}}},fixMarkEnds:function(t){var e=this.marked,n=t.marked;if(e)for(var r=0;r<e.length;++r){var i=e[r],o=null==i.to;if(o&&n)for(var l=0;l<n.length;++l)if(n[l].sameSet(i)){o=!1;break}o&&(i.to=this.text.length)}},fixMarkStarts:function(){var t=this.marked;if(t)for(var e=0;e<t.length;++e)null==t[e].from&&(t[e].from=0)},addMark:function(t){t.attach(this),null==this.marked&&(this.marked=[]),this.marked.push(t),this.marked.sort(function(t,e){return(t.from||0)-(e.from||0)})},highlight:function(t,e,n){var r,i=new f(this.text,n),o=this.styles,l=0,a=!1,s=o[0];for(""==this.text&&t.blankLine&&t.blankLine(e);!i.eol();){var u=t.token(i,e),c=this.text.slice(i.start,i.pos);if(i.start=i.pos,l&&o[l-1]==u?o[l-2]+=c:c&&(!a&&(o[l+1]!=u||l&&o[l-2]!=r)&&(a=!0),o[l++]=c,o[l++]=u,r=s,s=o[l]),5e3<i.pos){o[l++]=this.text.slice(i.pos),o[l++]=null;break}}return o.length!=l&&(o.length=l,a=!0),(a=l&&o[l-2]!=r?!0:a)||o.length<5&&this.text.length<10&&null},getTokenAt:function(t,e,n){for(var r=new f(this.text);r.pos<n&&!r.eol();){r.start=r.pos;var i=t.token(r,e)}return{start:r.start,end:r.pos,string:r.current(),className:i||null,state:e}},indentation:function(t){return l(this.text,null,t)},getHTML:function(t,e,n,r,i){var o=[],l=!0;function a(t,e){t&&(l&&Fe&&" "==t.charAt(0)&&(t=" "+t.slice(1)),l=!1,e?o.push('<span class="',e,'">',qe(t).replace(/\t/g,r),"</span>"):o.push(qe(t).replace(/\t/g,r)))}n&&o.push(this.className?'<pre class="'+this.className+'">':"<pre>");var s=this.styles,u=this.text,c=this.marked,f=(t==e&&(t=null),u.length);if(null!=i&&(f=Math.min(i,f)),u||null!=i)if(c||null!=t){var h=0,d=0,p="",m=-1,g=null;function v(){c&&(g=(m+=1)<c.length?c[m]:null)}for(v();h<f;){var x=f,y="";for(null!=t&&(h<t?x=t:(null==e||h<e)&&(y=" CodeMirror-selected",null!=e)&&(x=Math.min(x,e)));g&&null!=g.to&&g.to<=h;)v();for(g&&(g.from>h?x=Math.min(x,g.from):(y+=" "+g.style,null!=g.to&&(x=Math.min(x,g.to))));;){var k=h+p.length,C=y?b?b+y:y:b;if(a(x<k?p.slice(0,x-h):p,C),x<=k){p=p.slice(x-h),h=x;break}h=k,p=s[d++],b="cm-"+s[d++]}}null!=t&&null==e&&a(" ","CodeMirror-selected")}else for(var d=0,w=0;w<f;d+=2){var M=s[d],b=s[d+1],S=M.length;f<w+S&&(M=M.slice(0,f-w)),w+=S,a(M,b&&"cm-"+b)}else a(" ",null!=t&&null==e?"CodeMirror-selected":null);return n&&o.push("</pre>"),o.join("")},cleanUp:function(){if(this.parent=null,this.marked)for(var t=0,e=this.marked.length;t<e;++t)this.marked[t].detach(this)}},Ee.prototype={chunkSize:function(){return this.lines.length},remove:function(t,e,n){for(var r=t,i=t+e;r<i;++r){var o=this.lines[r];if(this.height-=o.height,o.cleanUp(),o.handlers)for(var l=0;l<o.handlers.length;++l)n.push(o.handlers[l])}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertHeight:function(t,e,n){this.height+=n,this.lines.splice.apply(this.lines,[t,0].concat(e));for(var r=0,i=e.length;r<i;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},We.prototype={chunkSize:function(){return this.size},remove:function(t,e,n){this.size-=e;for(var r,i=0;i<this.children.length;++i){var o=this.children[i],l=o.chunkSize();if(t<l){var a=Math.min(e,l-t),s=o.height;if(o.remove(t,a,n),this.height-=s-o.height,l==a&&(this.children.splice(i--,1),o.parent=null),0==(e-=a))break;t=0}else t-=l}this.size-e<25&&(this.collapse(r=[]),this.children=[new Ee(r)])},collapse:function(t){for(var e=0,n=this.children.length;e<n;++e)this.children[e].collapse(t)},insert:function(t,e){for(var n=0,r=0,i=e.length;r<i;++r)n+=e[r].height;this.insertHeight(t,e,n)},insertHeight:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r],l=o.chunkSize();if(t<=l){if(o.insertHeight(t,e,n),o.lines&&50<o.lines.length){for(;50<o.lines.length;){var a=new Ee(o.lines.splice(o.lines.length-25,25));o.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}t-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e,n=new We(t.children.splice(t.children.length-5,5))}while(t.parent?(t.size-=n.size,t.height-=n.height,e=Xe(t.parent.children,t),t.parent.children.splice(e+1,0,n)):(((e=new We(t.children)).parent=t).children=[e,n],t=e),n.parent=t.parent,10<t.children.length);t.parent.maybeSpill()}},iter:function(t,e,n){this.iterN(t,e-t,n)},iterN:function(t,e,n){for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r],l=o.chunkSize();if(t<l){var a=Math.min(e,l-t);if(o.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=l}}},Ie.prototype={addChange:function(t,e,n){this.undone.length=0;var r=+new Date,i=this.done[this.done.length-1];if(400<r-this.time||!i||i.start>t+e||i.start+i.added<t-i.added+i.old.length)this.done.push({start:t,added:e,old:n});else{var o=0;if(t<i.start){for(var l=i.start-t-1;0<=l;--l)i.old.unshift(n[l]);i.added+=i.start-t,i.start=t}else i.start<t&&(e+=o=t-i.start);for(var l=i.added-o,a=n.length;l<a;++l)i.old.push(n[l]);i.added<e&&(i.added=e)}this.time=r}},Ce.e_stop=Pe,Ce.e_preventDefault=Re,Ce.e_stopPropagation=n,Ce.connect=Be,Ve.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}};var r,tn=!/MSIE [1-8]\b/.test(navigator.userAgent)&&"draggable"in document.createElement("div"),Ke=/gecko\/\d{7}/i.test(navigator.userAgent),Fe=/MSIE \d/.test(navigator.userAgent),en=/WebKit\//.test(navigator.userAgent);function l(t,e,n){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var r=0,i=0;r<e;++r)"\t"==t.charAt(r)?i+=n-i%n:++i;return i}function je(t,e){for(var n=t.ownerDocument.body,r=0,i=0,o=!1,l=t;l;l=l.offsetParent){var a=l.offsetLeft,s=l.offsetTop;l==n?(r+=Math.abs(a),i+=Math.abs(s)):(r+=a,i+=s),e&&"fixed"==((a=l).currentStyle||window.getComputedStyle(a,null)).position&&(o=!0)}for(var u=e&&!o?null:n,l=t.parentNode;l!=u;l=l.parentNode)null!=l.scrollLeft&&(r-=l.scrollLeft,i-=l.scrollTop);return{left:r,top:i}}function Ge(t,e){return t.line==e.line&&t.ch==e.ch}function Ye(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}(r=document.createElement("textarea")).value="foo\nbar",r.value.indexOf("\r"),null!=document.documentElement.getBoundingClientRect&&(je=function(t,e){try{var n={top:(n=t.getBoundingClientRect()).top,left:n.left}}catch(t){n={top:0,left:0}}return e||(null==window.pageYOffset?(null==(t=document.documentElement||document.body.parentNode).scrollTop&&(t=document.body),n.top+=t.scrollTop,n.left+=t.scrollLeft):(n.top+=window.pageYOffset,n.left+=window.pageXOffset)),n});var _e=document.createElement("pre");function qe(t){return _e.textContent=t,_e.innerHTML}function Xe(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;++n)if(t[n]==e)return n;return-1}function nn(t){return/\w/.test(t)||t.toUpperCase()!=t.toLowerCase()}"\na"==qe("a")?qe=function(t){return _e.textContent=t,_e.innerHTML.slice(1)}:"\t"!=qe("\t")&&(qe=function(t){return _e.innerHTML="",_e.appendChild(document.createTextNode(t)),_e.innerHTML}),Ce.htmlEscape=qe;var $e=3!="\n\nb".split(/\n/).length?function(t){for(var e,n=0,r=[];-1<(e=t.indexOf("\n",n));)r.push(t.slice(n,"\r"==t.charAt(e-1)?e-1:e)),n=e+1;return r.push(t.slice(n)),r}:function(t){return t.split(/\r?\n/)},rn=(Ce.splitLines=$e,window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)}),Ze=(Ce.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),Ce.defineMIME("text/plain","null"),{3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"});Ce.keyNames=Ze;for(var t=0;t<10;t++)Ze[t+48]=String(t);for(t=65;t<=90;t++)Ze[t]=String.fromCharCode(t);for(t=1;t<=12;t++)Ze[t+111]=Ze[t+63235]="F"+t;return Ce}();CodeMirror.defineMode("xml",function(t,e){var o,l,i,a,s=t.indentUnit,u=e.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},c=e.alignCDATA;function f(e,n){function t(t){return(n.tokenize=t)(e,n)}var r,i=e.next();if("<"!=i)return"&"==i?(e.eatWhile(/[^;]/),e.eat(";"),"atom"):(e.eatWhile(/[^&<]/),null);if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?t(d("atom","]]>")):null:e.match("--")?t(d("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),t(function r(i){return function(t,e){for(var n;null!=(n=t.next());){if("<"==n)return e.tokenize=r(i+1),e.tokenize(t,e);if(">"==n){if(1!=i)return e.tokenize=r(i-1),e.tokenize(t,e);e.tokenize=f;break}}return"meta"}}(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),n.tokenize=d("meta","?>"),"meta";for(l=e.eat("/")?"closeTag":"openTag",e.eatSpace(),o="";r=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)o+=r;return n.tokenize=h,"tag"}function h(t,e){var n,r=t.next();return">"==r||"/"==r&&t.eat(">")?(e.tokenize=f,l=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(l="equals",null):/[\'\"]/.test(r)?(e.tokenize=(n=r,function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=h;break}return"string"}),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function d(n,r){return function(t,e){for(;!t.eol();){if(t.match(r)){e.tokenize=f;break}t.next()}return n}}function n(){for(var t=arguments.length-1;0<=t;t--)i.cc.push(arguments[t])}function p(){return n.apply(null,arguments),!0}function r(t){var e,r;return"openTag"==t?(i.tagName=o,p(m,(r=i.startOfLine,function(t){var e,n;return"selfcloseTag"==t||"endTag"==t&&u.autoSelfClosers.hasOwnProperty(i.tagName.toLowerCase())||"endTag"==t&&(t=i.tagName,e=r,n=u.doNotIndent.hasOwnProperty(t)||i.context&&i.context.noIndent,i.context={prev:i.context,tagName:t,indent:i.indented,startOfLine:e,noIndent:n}),p()}))):"closeTag"==t?(t=!1,(t=!i.context||i.context.tagName!=o)&&(a="error"),p((e=t,function(t){return e&&(a="error"),"endTag"==t?(i.context&&(i.context=i.context.prev),p()):(a="error",p(arguments.callee))}))):p()}function m(t){return"word"==t?(a="attribute",p(m)):"equals"==t?p(g,m):"string"==t?(a="error",p(m)):n()}function g(t){return"word"==t&&u.allowUnquoted?(a="string",p()):"string"==t?p(v):n()}function v(t){return"string"==t?p(v):n()}return{startState:function(){return{tokenize:f,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;a=l=o=null;var n=e.tokenize(t,e);if(e.type=l,(n||l)&&"comment"!=n)for(i=e;;)if((e.cc.pop()||r)(l||n))break;return e.startOfLine=!1,a||n},indent:function(t,e,n){var r=t.context;if(t.tokenize!=h&&t.tokenize!=f||r&&r.noIndent)return n?n.match(/^(\s*)/)[0].length:0;if(c&&/<!\[CDATA\[/.test(e))return 0;for(r&&/^<\//.test(e)&&(r=r.prev);r&&!r.startOfLine;)r=r.prev;return r?r.indent+s:0},compareStates:function(t,e){if(t.indented!=e.indented||t.tokenize!=e.tokenize)return!1;for(var n=t.context,r=e.context;;n=n.prev,r=r.prev){if(!n||!r)return n==r;if(n.tagName!=r.tagName)return!1}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("javascript",function(t,e){var n,r,o=t.indentUnit,O=e.json,i=(t=l("keyword a"),e=l("keyword b"),n=l("keyword c"),r=l("operator"),{if:t,while:t,with:t,else:e,do:e,try:e,finally:e,return:n,break:n,continue:n,new:n,delete:n,throw:n,var:l("var"),const:l("var"),let:l("var"),function:l("function"),catch:l("catch"),for:l("for"),switch:l("switch"),case:l("case"),default:l("default"),in:r,typeof:r,instanceof:r,true:t={type:"atom",style:"atom"},false:t,null:t,undefined:t,NaN:t,Infinity:t});function l(t){return{type:t,style:"keyword"}}var a,s,u=/[+\-*&%=<>!?|]/;function c(t,e,n){return(e.tokenize=n)(t,e)}function f(t,e){for(var n,r=!1;null!=(n=t.next());){if(n==e&&!r)return;r=!r&&"\\"==n}return r}function h(t,e,n){return a=t,s=n,e}function d(t,e){var n,r=t.next();return'"'==r||"'"==r?c(t,e,(n=r,function(t,e){return f(t,n)||(e.tokenize=d),h("string","string")})):/[\[\]{}\(\),;\:\.]/.test(r)?h(r):"0"==r&&t.eat(/x/i)?(t.eatWhile(/[\da-f]/i),h("number","number")):/\d/.test(r)?(t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),h("number","number")):"/"==r?t.eat("*")?c(t,e,R):t.eat("/")?(t.skipToEnd(),h("comment","comment")):e.reAllowed?(f(t,"/"),t.eatWhile(/[gimy]/),h("regexp","string")):(t.eatWhile(u),h("operator",null,t.current())):"#"==r?(t.skipToEnd(),h("error","error")):u.test(r)?(t.eatWhile(u),h("operator",null,t.current())):(t.eatWhile(/[\w\$_]/),r=t.current(),(t=i.propertyIsEnumerable(r)&&i[r])&&e.kwAllowed?h(t.type,t.style,r):h("variable","variable",r))}function R(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=d;break}r="*"==n}return h("comment","comment")}var p={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};function m(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function P(t,e,n,r,i){var o=t.cc;for(g.state=t,g.stream=i,g.marked=null,g.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((o.length?o.pop():O?L:S)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return g.marked?g.marked:"variable"==n&&function(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return 1}(t,r)?"variable-2":e}}var g={state:null,column:null,marked:null,cc:null};function v(){for(var t=arguments.length-1;0<=t;t--)g.cc.push(arguments[t])}function x(){return v.apply(null,arguments),!0}function y(t){var e=g.state;if(e.context){g.marked="def";for(var n=e.localVars;n;n=n.next)if(n.name==t)return;e.localVars={name:t,next:e.localVars}}}var U={name:"this",next:{name:"arguments"}};function k(){g.state.context||(g.state.localVars=U),g.state.context={prev:g.state.context,vars:g.state.localVars}}function C(){g.state.localVars=g.state.context.vars,g.state.context=g.state.context.prev}function w(e,n){function t(){var t=g.state;t.lexical=new m(t.indented,g.stream.column(),e,null,t.lexical,n)}return t.lex=!0,t}function M(){var t=g.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function b(e){return function(t){return t==e?x():";"==e?v():x(arguments.callee)}}function S(t){return"var"==t?x(w("vardef"),E,b(";"),M):"keyword a"==t?x(w("form"),L,S,M):"keyword b"==t?x(w("form"),S,M):"{"==t?x(w("}"),T,M):";"==t?x():"function"==t?x(H):"for"==t?x(w("form"),b("("),w(")"),j,b(")"),M,S,M):"variable"==t?x(w("stat"),V):"switch"==t?x(w("form"),L,w("}","switch"),b("{"),T,M,M):"case"==t?x(L,b(":")):"default"==t?x(b(":")):"catch"==t?x(w("form"),k,b("("),I,b(")"),S,M,C):v(w("stat"),L,b(";"),M)}function L(t){return p.hasOwnProperty(t)?x(A):"function"==t?x(H):"keyword c"==t?x(B):"("==t?x(w(")"),L,b(")"),M,A):"operator"==t?x(L):"["==t?x(w("]"),z(L,"]"),M,A):"{"==t?x(w("}"),z(F,"}"),M,A):x()}function B(t){return t.match(/[;\}\)\],]/)?v():v(L)}function A(t,e){return"operator"==t&&/\+\+|--/.test(e)?x(A):"operator"==t?x(L):";"!=t?"("==t?x(w(")"),z(L,")"),M,A):"."==t?x(K,A):"["==t?x(w("]"),L,b("]"),M,A):void 0:void 0}function V(t){return":"==t?x(M,S):v(A,b(";"),M)}function K(t){if("variable"==t)return g.marked="property",x()}function F(t){if("variable"==t&&(g.marked="property"),p.hasOwnProperty(t))return x(b(":"),L)}function z(e,n){function r(t){return","==t?x(e,r):t==n?x():x(b(n))}return function(t){return t==n?x():v(e,r)}}function T(t){return"}"==t?x():v(S,T)}function E(t,e){return"variable"==t?(y(e),x(W)):x()}function W(t,e){return"="==e?x(L,W):","==t?x(E):void 0}function j(t){return"var"==t?x(E,N):";"!=t&&"variable"==t?x(G):v(N)}function G(t,e){return"in"==e?x(L):x(A,N)}function N(t,e){return";"==t?x(D):"in"==e?x(L):x(L,b(";"),D)}function D(t){")"!=t&&x(L)}function H(t,e){return"variable"==t?(y(e),x(H)):"("==t?x(w(")"),k,z(I,")"),M,S,C):void 0}function I(t,e){if("variable"==t)return y(e),x()}return M.lex=!0,{startState:function(t){return{tokenize:d,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new m((t||0)-o,0,"block",!1),localVars:null,context:null,indented:0}},token:function(t,e){var n;return t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),t.eatSpace()?null:(n=e.tokenize(t,e),"comment"==a?n:(e.reAllowed="operator"==a||"keyword c"==a||a.match(/^[\[{}\(,;:]$/),e.kwAllowed="."!=a,P(e,n,a,s,t)))},indent:function(t,e){var n,r,i;return t.tokenize!=d?0:(i=(n=e&&e.charAt(0))==(r=(t=t.lexical).type),"vardef"==r?t.indented+4:"form"==r&&"{"==n?t.indented:"stat"==r||"form"==r?t.indented+o:"switch"!=t.info||i?t.align?t.column+(i?0:1):t.indented+(i?0:o):t.indented+(/^(?:case|default)\b/.test(e)?o:2*o))},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("css",function(t){var o,r=t.indentUnit;function l(t,e){return o=e,t}function a(t,e){var i,n=t.next();return"@"==n?(t.eatWhile(/[\w\\\-]/),l("meta",t.current())):"/"==n&&t.eat("*")?(e.tokenize=s)(t,e):"<"==n&&t.eat("!")?(e.tokenize=u)(t,e):"="!=n?"~"!=n&&"|"!=n||!t.eat("=")?'"'==n||"'"==n?(e.tokenize=(i=n,function(t,e){for(var n,r=!1;null!=(n=t.next())&&(n!=i||r);)r=!r&&"\\"==n;return r||(e.tokenize=a),o="string"}),e.tokenize(t,e)):"#"==n?(t.eatWhile(/[\w\\\-]/),o="hash","atom"):"!"==n?(t.match(/^\s*\w*/),o="important","keyword"):/\d/.test(n)?(t.eatWhile(/[\w.%]/),o="unit","number"):/[,.+>*\/]/.test(n)?(o="select-op",null):/[;{}:\[\]]/.test(n)?l(null,n):(t.eatWhile(/[\w\\\-]/),o="variable"):(o="compare",null):void(o="compare")}function s(t,e){for(var n,r=!1;null!=(n=t.next());){if(r&&"/"==n){e.tokenize=a;break}r="*"==n}return o="comment"}function u(t,e){for(var n,r=0;null!=(n=t.next());){if(2<=r&&">"==n){e.tokenize=a;break}r="-"==n?r+1:0}return o="comment"}return{startState:function(t){return{tokenize:a,baseIndent:t||0,stack:[]}},token:function(t,e){var n;return t.eatSpace()?null:(t=e.tokenize(t,e),n=e.stack[e.stack.length-1],"hash"==o&&"rule"==n?t="atom":"variable"==t&&("rule"==n?t="number":n&&"@media{"!=n||(t="tag")),"rule"==n&&/^[\{\};]$/.test(o)&&e.stack.pop(),"{"==o?"@media"==n?e.stack[e.stack.length-1]="@media{":e.stack.push("{"):"}"==o?e.stack.pop():"@media"==o?e.stack.push("@media"):"{"==n&&"comment"!=o&&e.stack.push("rule"),t)},indent:function(t,e){var n=t.stack.length;return/^\}/.test(e)&&(n-="rule"==t.stack[t.stack.length-1]?2:1),t.baseIndent+n*r},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlmixed",function(t,e){var r=CodeMirror.getMode(t,{name:"xml",htmlMode:!0}),i=CodeMirror.getMode(t,"javascript"),o=CodeMirror.getMode(t,"css");function n(t,e){var n=r.token(t,e.htmlState);return"tag"==n&&">"==t.current()&&e.htmlState.context&&(/^script$/i.test(e.htmlState.context.tagName)?(e.token=a,e.localState=i.startState(r.indent(e.htmlState,"")),e.mode="javascript"):/^style$/i.test(e.htmlState.context.tagName)&&(e.token=s,e.localState=o.startState(r.indent(e.htmlState,"")),e.mode="css")),n}function l(t,e,n){var r=t.current(),e=r.search(e);return-1<e&&t.backUp(r.length-e),n}function a(t,e){return t.match(/^<\/\s*script\s*>/i,!1)?(e.token=n,e.curState=null,e.mode="html",n(t,e)):l(t,/<\/\s*script\s*>/,i.token(t,e.localState))}function s(t,e){return t.match(/^<\/\s*style\s*>/i,!1)?(e.token=n,e.localState=null,e.mode="html",n(t,e)):l(t,/<\/\s*style\s*>/,o.token(t,e.localState))}return{startState:function(){return{token:n,localState:null,mode:"html",htmlState:r.startState()}},copyState:function(t){var e;return t.localState&&(e=CodeMirror.copyState(t.token==s?o:i,t.localState)),{token:t.token,localState:e,mode:t.mode,htmlState:CodeMirror.copyState(r,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,e){return t.token==n||/^\s*<\//.test(e)?r.indent(t.htmlState,e):(t.token==a?i:o).indent(t.localState,e)},compareStates:function(t,e){return r.compareStates(t.htmlState,e.htmlState)},electricChars:"/{}:"}}),CodeMirror.defineMIME("text/html","htmlmixed");