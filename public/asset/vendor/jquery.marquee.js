!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(A){A.fn.marquee=function(k){return this.each(function(){function a(e,t,a){for(var r=["webkit","moz","MS","o",""],n=0;n<r.length;n++)r[n]||(t=t.toLowerCase()),e.addEventListener(r[n]+t,a,!1)}function r(){p.timer=setTimeout(V,d.delayBeforeStart)}var n,i,s,o,u,d=A.extend({},A.fn.marquee.defaults,k),p=A(this),l=3,e="animation-play-state",f=!1,t={pause:function(){f&&d.allowCss3Support?n.css(e,"paused"):A.fn.pause&&n.pause(),p.data("runningStatus","paused"),p.trigger("paused")},resume:function(){f&&d.allowCss3Support?n.css(e,"running"):A.fn.resume&&n.resume(),p.data("runningStatus","resumed"),p.trigger("resumed")},toggle:function(){t["resumed"===p.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(p.timer),p.find("*").addBack().off(),p.html(p.find(".js-marquee:first").html())}};if("string"!=typeof k){var c;A.each(d,function(e){if(void 0!==(c=p.attr("data-"+e))){switch(c){case"true":c=!0;break;case"false":c=!1}d[e]=c}}),d.speed&&(d.duration=parseInt(p.width(),10)/d.speed*1e3),o="up"===d.direction||"down"===d.direction,d.gap=d.duplicated?parseInt(d.gap):0,p.wrapInner('<div class="js-marquee"></div>');var m,g,h=p.find(".js-marquee").css({"margin-right":d.gap,float:"left"});if(d.duplicated&&h.clone(!0).appendTo(p),p.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),n=p.find(".js-marquee-wrapper"),o?(m=p.height(),n.removeAttr("style"),p.height(m),p.find(".js-marquee").css({float:"none","margin-bottom":d.gap,"margin-right":0}),d.duplicated&&p.find(".js-marquee:last").css({"margin-bottom":0}),g=p.find(".js-marquee:first").height()+d.gap,d.startVisible&&!d.duplicated?(d._completeDuration=(parseInt(g,10)+parseInt(m,10))/parseInt(m,10)*d.duration,d.duration=parseInt(g,10)/parseInt(m,10)*d.duration):d.duration=(parseInt(g,10)+parseInt(m,10))/parseInt(m,10)*d.duration):(u=p.find(".js-marquee:first").width()+d.gap,i=p.width(),d.startVisible&&!d.duplicated?(d._completeDuration=(parseInt(u,10)+parseInt(i,10))/parseInt(i,10)*d.duration,d.duration=parseInt(u,10)/parseInt(i,10)*d.duration):d.duration=(parseInt(u,10)+parseInt(i,10))/parseInt(i,10)*d.duration),d.duplicated&&(d.duration=d.duration/2),d.allowCss3Support){var y=document.body||document.createElement("div"),x="marqueeAnimation-"+Math.floor(1e7*Math.random()),v="Webkit Moz O ms Khtml".split(" "),I="animation",w="",S="";if(void 0!==y.style.animation&&(S="@keyframes "+x+" ",f=!0),!1===f)for(var b=0;b<v.length;b++)if(void 0!==y.style[v[b]+"AnimationName"]){var q="-"+v[b].toLowerCase()+"-",I=q+I,e=q+e,S="@"+q+"keyframes "+x+" ",f=!0;break}f&&(w=x+" "+d.duration/1e3+"s "+d.delayBeforeStart/1e3+"s infinite "+d.css3easing,p.data("css3AnimationIsSupported",!0))}function j(){n.css("transform","translateY("+("up"===d.direction?m+"px":"-"+g+"px")+")")}function C(){n.css("transform","translateX("+("left"===d.direction?i+"px":"-"+u+"px")+")")}d.duplicated?(o?d.startVisible?n.css("transform","translateY(0)"):n.css("transform","translateY("+("up"===d.direction?m+"px":"-"+(2*g-d.gap)+"px")+")"):d.startVisible?n.css("transform","translateX(0)"):n.css("transform","translateX("+("left"===d.direction?i+"px":"-"+(2*u-d.gap)+"px")+")"),d.startVisible||(l=1)):d.startVisible?l=2:(o?j:C)();var V=function(){var e,t;d.duplicated&&(1===l?(d._originalDuration=d.duration,d.duration=o?"up"===d.direction?d.duration+m/(g/d.duration):2*d.duration:"left"===d.direction?d.duration+i/(u/d.duration):2*d.duration,w=w&&x+" "+d.duration/1e3+"s "+d.delayBeforeStart/1e3+"s "+d.css3easing,l++):2===l&&(d.duration=d._originalDuration,w&&(x+="0",S=A.trim(S)+"0 ",w=x+" "+d.duration/1e3+"s 0s infinite "+d.css3easing),l++)),o?d.duplicated?(2<l&&n.css("transform","translateY("+("up"===d.direction?0:"-"+g+"px")+")"),s={transform:"translateY("+("up"===d.direction?"-"+g+"px":0)+")"}):d.startVisible?2===l?(w=w&&x+" "+d.duration/1e3+"s "+d.delayBeforeStart/1e3+"s "+d.css3easing,s={transform:"translateY("+("up"===d.direction?"-"+g+"px":m+"px")+")"},l++):3===l&&(d.duration=d._completeDuration,w&&(x+="0",S=A.trim(S)+"0 ",w=x+" "+d.duration/1e3+"s 0s infinite "+d.css3easing),j()):(j(),s={transform:"translateY("+("up"===d.direction?"-"+n.height()+"px":m+"px")+")"}):d.duplicated?(2<l&&n.css("transform","translateX("+("left"===d.direction?0:"-"+u+"px")+")"),s={transform:"translateX("+("left"===d.direction?"-"+u+"px":0)+")"}):d.startVisible?2===l?(w=w&&x+" "+d.duration/1e3+"s "+d.delayBeforeStart/1e3+"s "+d.css3easing,s={transform:"translateX("+("left"===d.direction?"-"+u+"px":i+"px")+")"},l++):3===l&&(d.duration=d._completeDuration,w&&(x+="0",S=A.trim(S)+"0 ",w=x+" "+d.duration/1e3+"s 0s infinite "+d.css3easing),C()):(C(),s={transform:"translateX("+("left"===d.direction?"-"+u+"px":i+"px")+")"}),p.trigger("beforeStarting"),f?(n.css(I,w),e=S+" { 100%  "+function(e){var t,a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t+":"+e[t]);return a.push(),"{"+a.join(",")+"}"}(s)+"}",0!==(t=n.find("style")).length?t.filter(":last").html(e):A("head").append("<style>"+e+"</style>"),a(n[0],"AnimationIteration",function(){p.trigger("finished")}),a(n[0],"AnimationEnd",function(){V(),p.trigger("finished")})):n.animate(s,d.duration,d.easing,function(){p.trigger("finished"),(d.pauseOnCycle?r:V)()}),p.data("runningStatus","resumed")};p.on("pause",t.pause),p.on("resume",t.resume),d.pauseOnHover&&(p.on("mouseenter",t.pause),p.on("mouseleave",t.resume)),(f&&d.allowCss3Support?V:r)()}else A.isFunction(t[k])&&(n=n||p.find(".js-marquee-wrapper"),!0===p.data("css3AnimationIsSupported")&&(f=!0),t[k]())})},A.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,speed:0,gap:20,pauseOnCycle:!1,pauseOnHover:!1,startVisible:!1}});