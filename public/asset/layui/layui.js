!function(h){"use strict";function a(){this.v="2.6.8","layer"in window&&(this.layer=window.layer,m.status.layer=!0)}function f(e,t){t=t||"log",h.console&&console[t]&&console[t]("layui error hint: "+e)}var e,p=h.document,m={modules:{},status:{},timeout:10,event:{}},t=h.LAYUI_GLOBAL||{},v=(e=p.currentScript?p.currentScript.src:function(){for(var e,t=p.scripts,i=t.length-1,a=i;0<a;a--)if("interactive"===t[a].readyState){e=t[a].src;break}return e||t[i].src}(),m.dir=t.dir||e.substring(0,e.lastIndexOf("/")+1)),g="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),b=m.builtin={lay:"lay",layer:"layer",laydate:"laydate",laypage:"laypage",laytpl:"laytpl",layedit:"layedit",form:"form",upload:"upload",dropdown:"dropdown",transfer:"transfer",tree:"tree",table:"table",element:"element",rate:"rate",colorpicker:"colorpicker",slider:"slider",carousel:"carousel",flow:"flow",util:"util",code:"code",jquery:"jquery",all:"all","layui.all":"layui.all"};a.prototype.cache=m,a.prototype.define=function(e,a){return"function"==typeof e&&(a=e,e=[]),this.use(e,function(){function i(e,t){layui[e]=t,m.status[e]=!0}return"function"==typeof a&&a(function(e,t){i(e,t),m.callback[e]=function(){a(i)}}),this},null,"define"),this},a.prototype.use=function(i,e,t,a){function n(e,t){var i="PLaySTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;"load"!==e.type&&!i.test((e.currentTarget||e.srcElement).readyState)||(m.modules[c]=t,s.removeChild(d),function e(){return++u>1e3*m.timeout/4?f(c+" is not a valid module","error"):void(m.status[c]?l():setTimeout(e,4))}())}function l(){t.push(layui[c]),1<i.length?o.use(i.slice(1),e,t,a):"function"==typeof e&&(layui.jquery&&"function"==typeof layui.jquery&&"define"!==a?layui.jquery(function(){e.apply(layui,t)}):e.apply(layui,t))}var o=this,r=m.dir=m.dir||v,s=p.getElementsByTagName("head")[0];i="string"==typeof i?[i]:"function"==typeof i?(e=i,["all"]):i,h.jQuery&&jQuery.fn.on&&(o.each(i,function(e,t){"jquery"===t&&i.splice(e,1)}),layui.jquery=layui.$=jQuery);var c=i[0],u=0;if(t=t||[],m.host=m.host||(r.match(/\/\/([\s\S]+?)\//)||["//"+location.host+"/"])[0],0===i.length||layui["layui.all"]&&b[c])return l(),o;var d,y=(y=(b[c]?r+"modules/":!/^\{\/\}/.test(o.modules[c])&&m.base||"")+(o.modules[c]||c)+".js").replace(/^\{\/\}/,"");return!m.modules[c]&&layui[c]&&(m.modules[c]=y),m.modules[c]?function e(){return++u>1e3*m.timeout/4?f(c+" is not a valid module","error"):void("string"==typeof m.modules[c]&&m.status[c]?l():setTimeout(e,4))}():((d=p.createElement("script")).async=!0,d.charset="utf-8",d.src=y+((r=!0===m.version?m.v||(new Date).getTime():m.version||"")?"?v="+r:""),s.appendChild(d),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||g?d.addEventListener("load",function(e){n(e,y)},!1):d.attachEvent("onreadystatechange",function(e){n(e,y)}),m.modules[c]=y),o},a.prototype.getStyle=function(e,t){e=e.currentStyle||h.getComputedStyle(e,null);return e[e.getPropertyValue?"getPropertyValue":"getAttribute"](t)},a.prototype.link=function(a,n,e){var l=this,t=p.getElementsByTagName("head")[0],i=p.createElement("link"),e=((e="string"==typeof n?n:e)||a).replace(/\.|\//g,""),o=i.id="layuicss-"+e,r="creating",s=0;return i.rel="stylesheet",i.href=a+(m.debug?"?v="+(new Date).getTime():""),i.media="all",p.getElementById(o)||t.appendChild(i),"function"!=typeof n||function e(t){var i=p.getElementById(o);return++s>1e3*m.timeout/100?f(a+" timeout"):void(1989===parseInt(l.getStyle(i,"width"))?(t===r&&i.removeAttribute("lay-status"),i.getAttribute("lay-status")===r?setTimeout(e,100):n()):(i.setAttribute("lay-status",r),setTimeout(function(){e(r)},100)))}(),l},a.prototype.addcss=function(e,t,i){return layui.link(m.dir+"css/"+e,t,i)},m.callback={},a.prototype.factory=function(e){if(layui[e])return"function"==typeof m.callback[e]?m.callback[e]:null},a.prototype.img=function(e,t,i){var a=new Image;return a.src=e,a.complete?t(a):(a.onload=function(){a.onload=null,"function"==typeof t&&t(a)},void(a.onerror=function(e){a.onerror=null,"function"==typeof i&&i(e)}))},a.prototype.config=function(e){for(var t in e=e||{})m[t]=e[t];return this},a.prototype.modules=function(){var e,t={};for(e in b)t[e]=b[e];return t}(),a.prototype.extend=function(e){for(var t in e=e||{})this[t]||this.modules[t]?f(t+" Module already exists","error"):this.modules[t]=e[t];return this},a.prototype.router=function(e){var i={path:[],search:{},hash:((e=e||location.hash).match(/[^#](#.*$)/)||[])[1]||""};return/^#\//.test(e)&&(e=e.replace(/^#\//,""),i.href="/"+e,e=e.replace(/([^#])(#.*$)/,"$1").split("/")||[],this.each(e,function(e,t){/^\w+=/.test(t)?(t=t.split("="),i.search[t[0]]=t[1]):i.path.push(t)})),i},a.prototype.url=function(e){var n,t,i=this;return{pathname:(e?((e.match(/\.[^.]+?\/.+/)||[])[0]||"").replace(/^[^\/]+/,"").replace(/\?.+/,""):location.pathname).replace(/^\//,"").split("/"),search:(n={},t=(e?((e.match(/\?.+/)||[])[0]||"").replace(/\#.+/,""):location.search).replace(/^\?+/,"").split("&"),i.each(t,function(e,t){var i=t.indexOf("="),a=i<0?t.substr(0,t.length):0!==i&&t.substr(0,i);a&&(n[a]=0<i?t.substr(i+1):null)}),n),hash:i.router(e?(e.match(/#.+/)||[])[0]||"/":location.hash)}},a.prototype.data=function(e,t,i){if(e=e||"layui",i=i||localStorage,h.JSON&&h.JSON.parse){if(null===t)return delete i[e];t="object"==typeof t?t:{key:t};try{var a=JSON.parse(i[e])}catch(e){a={}}return"value"in t&&(a[t.key]=t.value),t.remove&&delete a[t.key],i[e]=JSON.stringify(a),t.key?a[t.key]:a}},a.prototype.sessionData=function(e,t){return this.data(e,t,sessionStorage)},a.prototype.device=function(e){function t(e){var t=new RegExp(e+"/([^\\s\\_\\-]+)");return(e=(i.match(t)||[])[1])||!1}var i=navigator.userAgent.toLowerCase(),a={os:/windows/.test(i)?"windows":/linux/.test(i)?"linux":/iphone|ipod|ipad|ios/.test(i)?"ios":/mac/.test(i)?"mac":void 0,ie:!!(h.ActiveXObject||"ActiveXObject"in h)&&((i.match(/msie\s(\d+)/)||[])[1]||"11"),weixin:t("micromessenger")};return e&&!a[e]&&(a[e]=t(e)),a.android=/android/.test(i),a.ios="ios"===a.os,a.mobile=!(!a.android&&!a.ios),a},a.prototype.hint=function(){return{error:f}},a.prototype._typeof=function(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?(t=(t=Object.prototype.toString.call(e).match(/\s(.+)\]$/)||[])[1]||"Object",new RegExp("\\b(Function|Array|Date|RegExp|Object|Error|Symbol)\\b").test(t)?t.toLowerCase():"object"):typeof e;var t},a.prototype._isArray=function(e){var t,i=this._typeof(e);return!(!e||"object"!=typeof e||e===h)&&(t="length"in e&&e.length,"array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)},a.prototype.each=function(e,i){function t(e,t){return i.call(t[e],e,t[e])}if("function"!=typeof i)return this;if(this._isArray(e=e||[]))for(a=0;a<e.length&&!t(a,e);a++);else for(var a in e)if(t(a,e))break;return this},a.prototype.sort=function(e,a,t){e=JSON.parse(JSON.stringify(e||[]));return a&&(e.sort(function(e,t){var i=e[a],e=t[a],t=[!isNaN(i),!isNaN(e)];return t[0]&&t[1]?i&&!e&&0!==e?1:!i&&0!==i&&e?-1:i-e:t[0]||t[1]?t[0]||!t[1]?-1:!t[0]||t[1]?1:void 0:e<i?1:i<e?-1:0}),t&&e.reverse()),e},a.prototype.stope=function(t){t=t||h.event;try{t.stopPropagation()}catch(e){t.cancelBubble=!0}};var c="LAYUI-EVENT-REMOVE";a.prototype.onevent=function(e,t,i){return"string"!=typeof e||"function"!=typeof i?this:a.event(e,t,null,i)},a.prototype.event=a.event=function(e,t,i,a){function n(e,t){!1===(t&&t.call(l,i))&&null===o&&(o=!1)}var l=this,o=null,r=(t||"").match(/\((.*)\)$/)||[],t=(e+"."+t).replace(r[0],""),s=r[1]||"";return i===c?(delete(l.cache.event[t]||{})[s],l):a?(m.event[t]=m.event[t]||{},m.event[t][s]=[a],this):(layui.each(m.event[t],function(e,t){return"{*}"===s?void layui.each(t,n):(""===e&&layui.each(t,n),void(s&&e===s&&layui.each(t,n)))}),o)},a.prototype.on=function(e,t,i){return this.onevent.call(this,t,e,i)},a.prototype.off=function(e,t){return this.event.call(this,t,e,c)},h.layui=new a}(window),layui.define(function(e){var t=layui.cache;layui.config({dir:t.dir.replace(/lay\/dest\/$/,"")}),e("layui.all",layui.v)}),function(u){"use strict";function d(e){return new n(e)}var e,y=u.document,n=function(e){for(var t=0,i="object"==typeof e?[e]:(this.selector=e,y.querySelectorAll(e||null));t<i.length;t++)this.push(i[t])};n.prototype=[],n.prototype.constructor=n,d.extend=function(){var e=1,t=arguments,a=function(e,t){for(var i in e=e||("array"===layui._typeof(t)?[]:{}),t)e[i]=t[i]&&t[i].constructor===Object?a(e[i],t[i]):t[i];return e};for(t[0]="object"==typeof t[0]?t[0]:{};e<t.length;e++)"object"==typeof t[e]&&a(t[0],t[e]);return t[0]},d.v="1.0.8",d.ie=(e=navigator.userAgent.toLowerCase(),!!(u.ActiveXObject||"ActiveXObject"in u)&&((e.match(/msie\s(\d+)/)||[])[1]||"11")),d.layui=layui||{},d.getPath=layui.cache.dir,d.stope=layui.stope,d.each=function(){return layui.each.apply(layui,arguments),this},d.digit=function(e,t,i){var a="";t=t||2;for(var n=(e=String(e)).length;n<t;n++)a+="0";return e<Math.pow(10,t)?a+(0|e):e},d.elem=function(e,t){var i=y.createElement(e);return d.each(t||{},function(e,t){i.setAttribute(e,t)}),i},d.hasScrollbar=function(){return y.body.scrollHeight>(u.innerHeight||y.documentElement.clientHeight)},d.position=function(e,t,i){var a,n,l,o,r,s,c;t&&(i=i||{},e!==y&&e!==d("body")[0]||(i.clickType="right"),a="right"===i.clickType?{left:(c=i.e||u.event||{}).clientX,top:c.clientY,right:c.clientX,bottom:c.clientY}:e.getBoundingClientRect(),n=t.offsetWidth,r=t.offsetHeight,s=function(e){return y.body[e=e?"scrollLeft":"scrollTop"]|y.documentElement[e]},l=a.left,o=a.bottom,"center"===i.align?l-=(n-e.offsetWidth)/2:"right"===i.align&&(l=l-n+e.offsetWidth),(l=l+n+5>(c=function(e){return y.documentElement[e?"clientWidth":"clientHeight"]})("width")?c("width")-n-5:l)<5&&(l=5),o+r+5>c()&&(a.top>r+5?o=a.top-r-10:"right"!==i.clickType||(o=c()-r-10)<0&&(o=0)),(r=i.position)&&(t.style.position=r),t.style.left=l+("fixed"===r?0:s(1))+"px",t.style.top=o+("fixed"===r?0:s())+"px",d.hasScrollbar()||(s=t.getBoundingClientRect(),!i.SYSTEM_RELOAD&&s.bottom+5>c()&&(i.SYSTEM_RELOAD=!0,setTimeout(function(){d.position(e,t,i)},50))))},d.options=function(e,t){e=d(e),t=t||"lay-options";try{return new Function("return "+(e.attr(t)||"{}"))()}catch(e){return hint.error("parseerror："+e,"error"),{}}},d.isTopElem=function(i){var e=[y,d("body")[0]],a=!1;return d.each(e,function(e,t){if(t===i)return a=!0}),a},n.addStr=function(i,e){return i=i.replace(/\s+/," "),e=e.replace(/\s+/," ").split(" "),d.each(e,function(e,t){new RegExp("\\b"+t+"\\b").test(i)||(i=i+" "+t)}),i.replace(/^\s|\s$/,"")},n.removeStr=function(i,e){return i=i.replace(/\s+/," "),e=e.replace(/\s+/," ").split(" "),d.each(e,function(e,t){t=new RegExp("\\b"+t+"\\b");t.test(i)&&(i=i.replace(t,""))}),i.replace(/\s+/," ").replace(/^\s|\s$/,"")},n.prototype.find=function(a){var n=this,l=0,o=[],r="object"==typeof a;return this.each(function(e,t){for(var i=r?t.contains(a):t.querySelectorAll(a||null);l<i.length;l++)o.push(i[l]);n.shift()}),r||(n.selector=(n.selector?n.selector+" ":"")+a),d.each(o,function(e,t){n.push(t)}),n},n.prototype.each=function(e){return d.each.call(this,this,e)},n.prototype.addClass=function(i,a){return this.each(function(e,t){t.className=n[a?"removeStr":"addStr"](t.className,i)})},n.prototype.removeClass=function(e){return this.addClass(e,!0)},n.prototype.hasClass=function(i){var a=!1;return this.each(function(e,t){new RegExp("\\b"+i+"\\b").test(t.className)&&(a=!0)}),a},n.prototype.css=function(t,a){function n(e){return isNaN(e)?e:e+"px"}var e=this;return"string"==typeof t&&void 0===a?function(){if(0<e.length)return e[0].style[t]}():e.each(function(e,i){"object"==typeof t?d.each(t,function(e,t){i.style[e]=n(t)}):i.style[t]=n(a)})},n.prototype.width=function(i){var a=this;return void 0===i?function(){if(0<a.length)return a[0].offsetWidth}():a.each(function(e,t){a.css("width",i)})},n.prototype.height=function(i){var a=this;return void 0===i?function(){if(0<a.length)return a[0].offsetHeight}():a.each(function(e,t){a.css("height",i)})},n.prototype.attr=function(i,a){var e=this;return void 0===a?function(){if(0<e.length)return e[0].getAttribute(i)}():e.each(function(e,t){t.setAttribute(i,a)})},n.prototype.removeAttr=function(i){return this.each(function(e,t){t.removeAttribute(i)})},n.prototype.html=function(i){var e=this;return void 0===i?function(){if(0<e.length)return e[0].innerHTML}():this.each(function(e,t){t.innerHTML=i})},n.prototype.val=function(i){var e=this;return void 0===i?function(){if(0<e.length)return e[0].value}():this.each(function(e,t){t.value=i})},n.prototype.append=function(i){return this.each(function(e,t){"object"==typeof i?t.appendChild(i):t.innerHTML=t.innerHTML+i})},n.prototype.remove=function(i){return this.each(function(e,t){i?t.removeChild(i):t.parentNode.removeChild(t)})},n.prototype.on=function(i,a){return this.each(function(e,t){t.attachEvent?t.attachEvent("on"+i,function(e){e.target=e.srcElement,a.call(t,e)}):t.addEventListener(i,a,!1)})},n.prototype.off=function(i,a){return this.each(function(e,t){t.detachEvent?t.detachEvent("on"+i,a):t.removeEventListener(i,a,!1)})},u.lay=d,u.layui&&layui.define&&layui.define(function(e){e("lay",d)})}(window,window.document),layui.define(function(e){"use strict";function t(e){this.tpl=e}var l={open:"{{",close:"}}"},o=function(e,t,i){return c((t||"")+l.open+["#([\\s\\S])+?","([^{#}])*?"][e||0]+l.close+(i||""))},r=function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},s=function(e,t){var i="Laytpl Error: ";return"object"==typeof console&&console.error(i+e+"\n"+(t||"")),i+e},c=function(e){return new RegExp(e,"g")};t.pt=t.prototype,window.errors=0,t.pt.parse=function(e,t){var i=e,a=c("^"+l.open+"#",""),n=c(l.close+"$","");e='"use strict";var view = "'+(e=e.replace(/\s+|\r|\t|\n/g," ").replace(c(l.open+"#"),l.open+"# ").replace(c(l.close+"}"),"} "+l.close).replace(/\\/g,"\\\\").replace(c(l.open+"!(.+?)!"+l.close),function(e){return e.replace(c("^"+l.open+"!"),"").replace(c("!"+l.close),"").replace(c(l.open+"|"+l.close),function(e){return e.replace(/(.)/g,"\\$1")})}).replace(/(?="|')/g,"\\").replace(o(),function(e){return'";'+(e=e.replace(a,"").replace(n,"")).replace(/\\(.)/g,"$1")+';view+="'}).replace(o(1),function(e){var t='"+(';return e.replace(/\s/g,"")===l.open+l.close?"":(e=e.replace(c(l.open+"|"+l.close),""),/^=/.test(e)&&(e=e.replace(/^=/,""),t='"+_escape_('),t+e.replace(/\\(.)/g,"$1")+')+"')}))+'";return view;';try{return this.cache=e=new Function("d, _escape_",e),e(t,r)}catch(e){return delete this.cache,s(e,i)}},t.pt.render=function(e,t){return e?(e=this.cache?this.cache(e,r):this.parse(this.tpl,e),t?void t(e):e):s("no data")};function i(e){return"string"!=typeof e?s("Template not found"):new t(e)}i.config=function(e){for(var t in e=e||{})l[t]=e[t]},i.v="1.2.0",e("laytpl",i)}),layui.define(function(e){"use strict";function t(e){this.config=e||{},this.config.index=++d.index,this.render(!0)}var l=document,o="getElementById",u="getElementsByTagName",s="layui-disabled";t.prototype.type=function(){var e=this.config;if("object"==typeof e.elem)return void 0===e.elem.length?2:3},t.prototype.view=function(){var n=this.config,l=n.groups="groups"in n?0|n.groups:5;n.layout="object"==typeof n.layout?n.layout:["prev","page","next"],n.count=0|n.count,n.curr=0|n.curr||1,n.limits="object"==typeof n.limits?n.limits:[10,20,30,40,50],n.limit=0|n.limit||10,n.pages=Math.ceil(n.count/n.limit)||1,n.curr>n.pages&&(n.curr=n.pages),l<0?l=1:l>n.pages&&(l=n.pages),n.prev="prev"in n?n.prev:"&#x4E0A;&#x4E00;&#x9875;",n.next="next"in n?n.next:"&#x4E0B;&#x4E00;&#x9875;";var i,a,o=n.pages>l?Math.ceil((n.curr+(1<l?1:0))/(0<l?l:1)):1,r={prev:n.prev?'<a href="javascript:;" class="layui-laypage-prev'+(1==n.curr?" "+s:"")+'" data-page="'+(n.curr-1)+'">'+n.prev+"</a>":"",page:function(){var e=[];if(n.count<1)return"";1<o&&!1!==n.first&&0!==l&&e.push('<a href="javascript:;" class="layui-laypage-first" data-page="1"  title="&#x9996;&#x9875;">'+(n.first||1)+"</a>");var t=Math.floor((l-1)/2),i=1<o?n.curr-t:1,a=1<o?(t=n.curr+(l-t-1))>n.pages?n.pages:t:l;for(a-i<l-1&&(i=a-l+1),!1!==n.first&&2<i&&e.push('<span class="layui-laypage-spr">&#x2026;</span>');i<=a;i++)i===n.curr?e.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(n.theme)?'style="background-color:'+n.theme+';"':"")+"></em><em>"+i+"</em></span>"):e.push('<a href="javascript:;" data-page="'+i+'">'+i+"</a>");return n.pages>l&&n.pages>a&&!1!==n.last&&(a+1<n.pages&&e.push('<span class="layui-laypage-spr">&#x2026;</span>'),0!==l&&e.push('<a href="javascript:;" class="layui-laypage-last" title="&#x5C3E;&#x9875;"  data-page="'+n.pages+'">'+(n.last||n.pages)+"</a>")),e.join("")}(),next:n.next?'<a href="javascript:;" class="layui-laypage-next'+(n.curr==n.pages?" "+s:"")+'" data-page="'+(n.curr+1)+'">'+n.next+"</a>":"",count:'<span class="layui-laypage-count">共 '+n.count+" 条</span>",limit:(i=['<span class="layui-laypage-limits"><select lay-ignore>'],layui.each(n.limits,function(e,t){i.push('<option value="'+t+'"'+(t===n.limit?"selected":"")+">"+t+" 条/页</option>")}),i.join("")+"</select></span>"),refresh:['<a href="javascript:;" data-page="'+n.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"></i>',"</a>"].join(""),skip:['<span class="layui-laypage-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+n.curr+'" class="layui-input">','&#x9875;<button type="button" class="layui-laypage-btn">&#x786e;&#x5b9a;</button>',"</span>"].join("")};return['<div class="layui-box layui-laypage layui-laypage-'+(n.theme?/^#/.test(n.theme)?"molv":n.theme:"default")+'" id="layui-laypage-'+n.index+'">',(a=[],layui.each(n.layout,function(e,t){r[t]&&a.push(r[t])}),a.join("")),"</div>"].join("")},t.prototype.jump=function(e,t){if(e){var i=this,a=i.config,n=e.children,l=e[u]("button")[0],o=e[u]("input")[0],e=e[u]("select")[0],r=function(){var e=0|o.value.replace(/\s|\D/g,"");e&&(a.curr=e,i.render())};if(t)return r();for(var s=0,c=n.length;s<c;s++)"a"===n[s].nodeName.toLowerCase()&&d.on(n[s],"click",function(){var e=0|this.getAttribute("data-page");e<1||e>a.pages||(a.curr=e,i.render())});e&&d.on(e,"change",function(){var e=this.value;a.curr*e>a.count&&(a.curr=Math.ceil(a.count/e)),a.limit=e,i.render()}),l&&d.on(l,"click",function(){r()})}},t.prototype.skip=function(i){var a,e;i&&(a=this,(e=i[u]("input")[0])&&d.on(e,"keyup",function(e){var t=this.value,e=e.keyCode;/^(37|38|39|40)$/.test(e)||(/\D/.test(t)&&(this.value=t.replace(/\D/,"")),13===e&&a.jump(i,!0))}))},t.prototype.render=function(e){var t=this,i=t.config,a=t.type(),n=t.view();2===a?i.elem&&(i.elem.innerHTML=n):3===a?i.elem.html(n):l[o](i.elem)&&(l[o](i.elem).innerHTML=n),i.jump&&i.jump(i,e);n=l[o]("layui-laypage-"+i.index);t.jump(n),i.hash&&!e&&(location.hash="!"+i.hash+"="+i.curr),t.skip(n)};var d={render:function(e){return new t(e).index},index:layui.laypage?layui.laypage.index+1e4:0,on:function(t,e,i){return t.attachEvent?t.attachEvent("on"+e,function(e){e.target=e.srcElement,i.call(t,e)}):t.addEventListener(e,i,!1),this}};e("laypage",d)}),function(n,o){"use strict";function h(e){var t=this;t.index=++f.index,t.config=lay.extend({},t.config,f.config,e),(e=t.config).id="id"in e?e.id:t.index,f.ready(function(){t.init()})}var a=n.layui&&layui.define,l={getPath:n.lay&&lay.getPath?lay.getPath:"",link:function(e,t,i){f.path&&n.lay&&lay.layui&&lay.layui.link(f.path+e,t,i)}},e=n.LAYUI_GLOBAL||{},f={v:"5.3.1",config:{},index:n.laydate&&n.laydate.v?1e5:0,path:e.laydate_dir||l.getPath,set:function(e){return this.config=lay.extend({},this.config,e),this},ready:function(e){var t="laydate",i=(a?"modules/laydate/":"theme/")+"default/laydate.css?v="+f.v;return a?layui.addcss(i,e,t):l.link(i,e,t),this}},r=function(){var t=this,e=t.config.id;return{hint:function(e){t.hint.call(t,e)},config:(r.that[e]=t).config}},i="laydate",k="layui-this",C="laydate-disabled",p=[100,2e5],m="layui-laydate-static",w="layui-laydate-list",s="layui-laydate-hint",T=".laydate-btns-confirm",E="laydate-time-text",D="laydate-btns-time",v="layui-laydate-preview",c="yyyy|y|MM|M|dd|d|HH|H|mm|m|ss|s";r.formatArr=function(e){return(e||"").match(new RegExp(c+"|.","g"))||[]},h.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},h.prototype.config={type:"date",range:!1,format:"yyyy-MM-dd",value:null,isInitValue:!0,min:"1900-1-1",max:"2099-12-31",trigger:"click",show:!1,showBottom:!0,isPreview:!0,btns:["clear","now","confirm"],lang:"cn",theme:"default",position:null,calendar:!1,mark:{},zIndex:null,done:null,change:null},h.prototype.lang=function(){var e={cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一","二","三","四","五","六","七","八","九","十","十一","十二"],tools:{confirm:"确定",clear:"清空",now:"现在"},timeout:"结束时间不能早于开始时间<br>请重新选择",invalidDate:"不在有效日期或时间范围内",formatError:["日期格式不合法<br>必须遵循下述格式：<br>","<br>已为你重置"],preview:"当前选中的结果"},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"},timeout:"End time cannot be less than start Time<br>Please re-select",invalidDate:"Invalid date",formatError:["The date format error<br>Must be followed：<br>","<br>It has been reset"],preview:"The selected result"}};return e[this.config.lang]||e.cn},h.prototype.init=function(){var i=this,o=i.config,e="static"===o.position,t={year:"yyyy",month:"yyyy-MM",date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss"};o.elem=lay(o.elem),o.eventElem=lay(o.eventElem),o.elem[0]&&(i.rangeStr=o.range?"string"==typeof o.range?o.range:"-":"","array"===layui._typeof(o.range)&&(i.rangeElem=[lay(o.range[0]),lay(o.range[1])]),t[o.type]||(n.console&&console.error&&console.error("laydate type error:'"+o.type+"' is not supported"),o.type="date"),o.format===t.date&&(o.format=t[o.type]||t.date),i.format=r.formatArr(o.format),i.EXP_IF="",i.EXP_SPLIT="",lay.each(i.format,function(e,t){t=new RegExp(c).test(t)?"\\d{"+(new RegExp(c).test(i.format[0===e?e+1:e-1]||"")?/^yyyy|y$/.test(t)?4:t.length:/^yyyy$/.test(t)?"1,4":/^y$/.test(t)?"1,308":"1,2")+"}":"\\"+t;i.EXP_IF=i.EXP_IF+t,i.EXP_SPLIT=i.EXP_SPLIT+"("+t+")"}),i.EXP_IF_ONE=new RegExp("^"+i.EXP_IF+"$"),i.EXP_IF=new RegExp("^"+(o.range?i.EXP_IF+"\\s\\"+i.rangeStr+"\\s"+i.EXP_IF:i.EXP_IF)+"$"),i.EXP_SPLIT=new RegExp("^"+i.EXP_SPLIT+"$",""),i.isInput(o.elem[0])||"focus"===o.trigger&&(o.trigger="click"),o.elem.attr("lay-key")||(o.elem.attr("lay-key",i.index),o.eventElem.attr("lay-key",i.index)),o.mark=lay.extend({},o.calendar&&"cn"===o.lang?{"0-1-1":"元旦","0-2-14":"情人","0-3-8":"妇女","0-3-12":"植树","0-4-1":"愚人","0-5-1":"劳动","0-5-4":"青年","0-6-1":"儿童","0-9-10":"教师","0-9-18":"国耻","0-10-1":"国庆","0-12-25":"圣诞"}:{},o.mark),lay.each(["min","max"],function(e,t){var i,a,n=[],l=[];"number"==typeof o[t]?(i=o[t],a=(new Date).getTime(),n=[(a=new Date(i?i<864e5?a+864e5*i:i:a)).getFullYear(),a.getMonth()+1,a.getDate()],i<864e5||(l=[a.getHours(),a.getMinutes(),a.getSeconds()])):(n=(o[t].match(/\d+-\d+-\d+/)||[""])[0].split("-"),l=(o[t].match(/\d+:\d+:\d+/)||[""])[0].split(":")),o[t]={year:0|n[0]||(new Date).getFullYear(),month:n[1]?(0|n[1])-1:(new Date).getMonth(),date:0|n[2]||(new Date).getDate(),hours:0|l[0],minutes:0|l[1],seconds:0|l[2]}}),i.elemID="layui-laydate"+o.elem.attr("lay-key"),(o.show||e)&&i.render(),e||i.events(),o.value&&o.isInitValue&&("date"===layui._typeof(o.value)?i.setValue(i.parse(0,i.systemDate(o.value))):i.setValue(o.value)))},h.prototype.render=function(){var e,a,t=this,r=t.config,s=t.lang(),n="static"===r.position,i=t.elem=lay.elem("div",{id:t.elemID,class:["layui-laydate",r.range?" layui-laydate-range":"",n?" "+m:"",r.theme&&"default"!==r.theme&&!/^#/.test(r.theme)?" laydate-theme-"+r.theme:""].join("")}),c=t.elemMain=[],u=t.elemHeader=[],d=t.elemCont=[],y=t.table=[],l=t.footer=lay.elem("div",{class:"layui-laydate-footer"});r.zIndex&&(i.style.zIndex=r.zIndex),lay.each(new Array(2),function(e){if(!r.range&&0<e)return!0;var t,i,a,n=lay.elem("div",{class:"layui-laydate-header"}),t=[((a=lay.elem("i",{class:"layui-icon laydate-icon laydate-prev-y"})).innerHTML="&#xe65a;",a),((i=lay.elem("i",{class:"layui-icon laydate-icon laydate-prev-m"})).innerHTML="&#xe603;",i),(t=lay.elem("div",{class:"laydate-set-ym"}),a=lay.elem("span"),i=lay.elem("span"),t.appendChild(a),t.appendChild(i),t),((a=lay.elem("i",{class:"layui-icon laydate-icon laydate-next-m"})).innerHTML="&#xe602;",a),((i=lay.elem("i",{class:"layui-icon laydate-icon laydate-next-y"})).innerHTML="&#xe65b;",i)],a=lay.elem("div",{class:"layui-laydate-content"}),l=lay.elem("table"),i=lay.elem("thead"),o=lay.elem("tr");lay.each(t,function(e,t){n.appendChild(t)}),i.appendChild(o),lay.each(new Array(6),function(i){var a=l.insertRow(0);lay.each(new Array(7),function(e){var t;0===i&&((t=lay.elem("th")).innerHTML=s.weeks[e],o.appendChild(t)),a.insertCell(e)})}),l.insertBefore(i,l.children[0]),a.appendChild(l),c[e]=lay.elem("div",{class:"layui-laydate-main laydate-main-list-"+e}),c[e].appendChild(n),c[e].appendChild(a),u.push(t),d.push(a),y.push(l)}),lay(l).html((e=[],a=[],"datetime"===r.type&&e.push('<span lay-type="datetime" class="'+D+'">'+s.timeTips+"</span>"),!r.range&&"datetime"===r.type||e.push('<span class="'+v+'" title="'+s.preview+'"></span>'),lay.each(r.btns,function(e,t){var i=s.tools[t]||"btn";r.range&&"now"===t||(n&&"clear"===t&&(i="cn"===r.lang?"重置":"Reset"),a.push('<span lay-type="'+t+'" class="laydate-btns-'+t+'">'+i+"</span>"))}),e.push('<div class="laydate-footer-btns">'+a.join("")+"</div>"),e.join(""))),lay.each(c,function(e,t){i.appendChild(t)}),r.showBottom&&i.appendChild(l),/^#/.test(r.theme)&&(e=lay.elem("style"),l=["#{{id}} .layui-laydate-header{background-color:{{theme}};}","#{{id}} .layui-this{background-color:{{theme}} !important;}"].join("").replace(/{{id}}/g,t.elemID).replace(/{{theme}}/g,r.theme),"styleSheet"in e?(e.setAttribute("type","text/css"),e.styleSheet.cssText=l):e.innerHTML=l,lay(i).addClass("laydate-theme-molv"),i.appendChild(e)),f.thisId=r.id,t.remove(h.thisElemDate),n?r.elem.append(i):(o.body.appendChild(i),t.position()),t.checkDate().calendar(null,0,"init"),t.changeEvent(),h.thisElemDate=t.elemID,"function"==typeof r.ready&&r.ready(lay.extend({},r.dateTime,{month:r.dateTime.month+1})),t.preview()},h.prototype.remove=function(e){var t=this,i=(t.config,lay("#"+(e||t.elemID)));return i[0]&&(i.hasClass(m)||t.checkDate(function(){i.remove()})),t},h.prototype.position=function(){var e=this.config;return lay.position(this.bindElem||e.elem[0],this.elem,{position:e.position}),this},h.prototype.hint=function(e){var t=this,i=(t.config,lay.elem("div",{class:s}));t.elem&&(i.innerHTML=e||"",lay(t.elem).find("."+s).remove(),t.elem.appendChild(i),clearTimeout(t.hinTimer),t.hinTimer=setTimeout(function(){lay(t.elem).find("."+s).remove()},3e3))},h.prototype.getAsYM=function(e,t,i){return i?t--:t++,t<0&&(t=11,e--),11<t&&(t=0,e++),[e,t]},h.prototype.systemDate=function(e){var t=e||new Date;return{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hours:e?e.getHours():0,minutes:e?e.getMinutes():0,seconds:e?e.getSeconds():0}},h.prototype.checkDate=function(e){function t(e){e.year>p[1]&&(e.year=p[1],r=!0),11<e.month&&(e.month=11,r=!0),23<e.hours&&(e.hours=0,r=!0),59<e.minutes&&(e.minutes=0,e.hours++,r=!0),59<e.seconds&&(e.seconds=0,e.minutes++,r=!0),a=f.getEndDate(e.month+1,e.year),e.date>a&&(e.date=a,r=!0)}function i(a,n,l){var o=["startTime","endTime"];n=(n.match(s.EXP_SPLIT)||[]).slice(1),l=l||0,c.range&&(s[o[l]]=s[o[l]]||{}),lay.each(s.format,function(e,t){var i=parseFloat(n[e]);n[e].length<t.length&&(r=!0),/yyyy|y/.test(t)?(i<p[0]&&(i=p[0],r=!0),a.year=i):/MM|M/.test(t)?(i<1&&(i=1,r=!0),a.month=i-1):/dd|d/.test(t)?(i<1&&(i=1,r=!0),a.date=i):/HH|H/.test(t)?(i<1&&(r=!(i=0)),a.hours=i,c.range&&(s[o[l]].hours=i)):/mm|m/.test(t)?(i<1&&(r=!(i=0)),a.minutes=i,c.range&&(s[o[l]].minutes=i)):/ss|s/.test(t)&&(i<1&&(r=!(i=0)),a.seconds=i,c.range&&(s[o[l]].seconds=i))}),t(a)}var a,r,s=this,c=(new Date,s.config),n=s.lang(),l=c.dateTime=c.dateTime||s.systemDate(),o=s.bindElem||c.elem[0],u=(s.isInput(o),function(){if(s.rangeElem){var e=[s.rangeElem[0].val(),s.rangeElem[1].val()];if(e[0]&&e[1])return e.join(" "+s.rangeStr+" ")}return s.isInput(o)?o.value:"static"===c.position?"":lay(o).attr("lay-date")}());if("limit"===e)return t(l),s;"string"==typeof(u=u||c.value)&&(u=u.replace(/\s+/g," ").replace(/^\s|\s$/g,""));function d(){var e,t,i;c.range&&(s.endDate=s.endDate||lay.extend({},c.dateTime,(e={},t=c.dateTime,i=s.getAsYM(t.year,t.month),"year"===c.type?e.year=t.year+1:"time"!==c.type&&(e.year=i[0],e.month=i[1]),"datetime"!==c.type&&"time"!==c.type||(e.hours=23,e.minutes=e.seconds=59),e)))}var y;d(),"string"==typeof u&&u?s.EXP_IF.test(u)?c.range?(u=u.split(" "+s.rangeStr+" "),lay.each([c.dateTime,s.endDate],function(e,t){i(t,u[e],e)})):i(l,u):(s.hint(n.formatError[0]+(c.range?c.format+" "+s.rangeStr+" "+c.format:c.format)+n.formatError[1]),r=!0):u&&"date"===layui._typeof(u)?c.dateTime=s.systemDate(u):(c.dateTime=s.systemDate(),delete s.startTime,delete s.endDate,d(),delete s.endTime),s.rangeElem&&(h=[s.rangeElem[0].val(),s.rangeElem[1].val()],y=[c.dateTime,s.endDate],lay.each(h,function(e,t){s.EXP_IF_ONE.test(t)&&i(y[e],t,e)})),t(l),c.range&&t(s.endDate),r&&u&&s.setValue(!c.range||s.endDate?s.parse():"");var h=function(e){return s.newDate(e).getTime()};return(h(l)>h(c.max)||h(l)<h(c.min))&&(l=c.dateTime=lay.extend({},c.min)),c.range&&(h(s.endDate)<h(c.min)||h(s.endDate)>h(c.max))&&(s.endDate=lay.extend({},c.max)),e&&e(),s},h.prototype.mark=function(e,i){var a,t=this.config;return lay.each(t.mark,function(e,t){e=e.split("-");e[0]!=i[0]&&0!=e[0]||e[1]!=i[1]&&0!=e[1]||e[2]!=i[2]||(a=t||i[2])}),a&&e.html('<span class="laydate-day-mark">'+a+"</span>"),this},h.prototype.limit=function(e,t,i,n){var l=this,a=l.config,o={},i=a[41<i?"endDate":"dateTime"],t=lay.extend({},i,t||{});return lay.each({now:t,min:a.min,max:a.max},function(e,i){var a;o[e]=l.newDate(lay.extend({year:i.year,month:i.month,date:i.date},(a={},lay.each(n,function(e,t){a[t]=i[t]}),a))).getTime()}),a=o.now<o.min||o.now>o.max,e&&e[a?"addClass":"removeClass"](C),a},h.prototype.thisDateTime=function(e){var t=this.config;return e?this.endDate:t.dateTime},h.prototype.calendar=function(e,t,i){var n,l,o,r=this,a=r.config,t=t?1:0,s=e||r.thisDateTime(t),c=new Date,u=r.lang(),d="date"!==a.type&&"datetime"!==a.type,y=lay(r.table[t]).find("td"),t=lay(r.elemHeader[t][2]).find("span");return s.year<p[0]&&(s.year=p[0],r.hint(u.invalidDate)),s.year>p[1]&&(s.year=p[1],r.hint(u.invalidDate)),r.firstDate||(r.firstDate=lay.extend({},s)),c.setFullYear(s.year,s.month,1),n=c.getDay(),l=f.getEndDate(s.month||12,s.year),o=f.getEndDate(s.month+1,s.year),lay.each(y,function(e,t){var i=[s.year,s.month],a=0;(t=lay(t)).removeAttr("class"),e<n?(a=l-n+e,t.addClass("laydate-day-prev"),i=r.getAsYM(s.year,s.month,"sub")):n<=e&&e<o+n?(a=e-n)+1===s.date&&t.addClass(k):(a=e-o-n,t.addClass("laydate-day-next"),i=r.getAsYM(s.year,s.month)),i[1]++,i[2]=a+1,t.attr("lay-ymd",i.join("-")).html(i[2]),r.mark(t,i).limit(t,{year:i[0],month:i[1]-1,date:i[2]},e)}),lay(t[0]).attr("lay-ym",s.year+"-"+(s.month+1)),lay(t[1]).attr("lay-ym",s.year+"-"+(s.month+1)),"cn"===a.lang?(lay(t[0]).attr("lay-type","year").html(s.year+" 年"),lay(t[1]).attr("lay-type","month").html(s.month+1+" 月")):(lay(t[0]).attr("lay-type","month").html(u.month[s.month]),lay(t[1]).attr("lay-type","year").html(s.year)),d&&(a.range?e&&(r.listYM=[[a.dateTime.year,a.dateTime.month+1],[r.endDate.year,r.endDate.month+1]],r.list(a.type,0).list(a.type,1),"time"===a.type?r.setBtnStatus("时间",lay.extend({},r.systemDate(),r.startTime),lay.extend({},r.systemDate(),r.endTime)):r.setBtnStatus(!0)):(r.listYM=[[s.year,s.month+1]],r.list(a.type,0))),a.range&&"init"===i&&!e&&r.calendar(r.endDate,1),a.range||r.limit(lay(r.footer).find(T),null,0,["hours","minutes","seconds"]),r.setBtnStatus(),r},h.prototype.list=function(t,a){var n,e,l,o,r=this,s=r.config,c=s.dateTime,u=r.lang(),i=s.range&&"date"!==s.type&&"datetime"!==s.type,d=lay.elem("ul",{class:w+" "+{year:"laydate-year-list",month:"laydate-month-list",time:"laydate-time-list"}[t]}),y=r.elemHeader[a],h=lay(y[2]).find("span"),f=r.elemCont[a||0],p=lay(f).find("."+w)[0],m="cn"===s.lang,v=m?"年":"",g=r.listYM[a]||{},b=["hours","minutes","seconds"],x=["startTime","endTime"][a];return g[0]<1&&(g[0]=1),"year"===t?(e=n=g[0]-7,n<1&&(e=n=1),lay.each(new Array(15),function(e){var t=lay.elem("li",{"lay-ym":n}),i={year:n};n==g[0]&&lay(t).addClass(k),t.innerHTML=n+v,d.appendChild(t),n<r.firstDate.year?(i.month=s.min.month,i.date=s.min.date):n>=r.firstDate.year&&(i.month=s.max.month,i.date=s.max.date),r.limit(lay(t),i,a),n++}),lay(h[m?0:1]).attr("lay-ym",n-8+"-"+g[1]).html(e+v+" - "+(n-1)+v)):"month"===t?(lay.each(new Array(12),function(e){var t=lay.elem("li",{"lay-ym":e}),i={year:g[0],month:e};e+1==g[1]&&lay(t).addClass(k),t.innerHTML=u.month[e]+(m?"月":""),d.appendChild(t),g[0]<r.firstDate.year?i.date=s.min.date:g[0]>=r.firstDate.year&&(i.date=s.max.date),r.limit(lay(t),i,a)}),lay(h[m?0:1]).attr("lay-ym",g[0]+"-"+g[1]).html(g[0]+v)):"time"===t&&(l=function(){lay(d).find("ol").each(function(i,e){lay(e).find("li").each(function(e,t){r.limit(lay(t),[{hours:e},{hours:r[x].hours,minutes:e},{hours:r[x].hours,minutes:r[x].minutes,seconds:e}][i],a,[["hours"],["hours","minutes"],["hours","minutes","seconds"]][i])})}),s.range||r.limit(lay(r.footer).find(T),r[x],0,["hours","minutes","seconds"])},s.range?r[x]||(r[x]="startTime"===x?c:r.endDate):r[x]=c,lay.each([24,60,60],function(t,e){var i=lay.elem("li"),a=["<p>"+u.time[t]+"</p><ol>"];lay.each(new Array(e),function(e){a.push("<li"+(r[x][b[t]]===e?' class="'+k+'"':"")+">"+lay.digit(e,2)+"</li>")}),i.innerHTML=a.join("")+"</ol>",d.appendChild(i)}),l()),p&&f.removeChild(p),f.appendChild(d),"year"===t||"month"===t?(lay(r.elemMain[a]).addClass("laydate-ym-show"),lay(d).find("li").on("click",function(){var e=0|lay(this).attr("lay-ym");lay(this).hasClass(C)||(0===a?(c[t]=e,r.limit(lay(r.footer).find(T),null,0)):r.endDate[t]=e,"year"===s.type||"month"===s.type?(lay(d).find("."+k).removeClass(k),lay(this).addClass(k),"month"===s.type&&"year"===t&&(r.listYM[a][0]=e,i&&((a?r.endDate:c).year=e),r.list("month",a))):(r.checkDate("limit").calendar(null,a),r.closeList()),r.setBtnStatus(),s.range||("month"===s.type&&"month"===t||"year"===s.type&&"year"===t)&&r.setValue(r.parse()).remove().done(),r.done(null,"change"),lay(r.footer).find("."+D).removeClass(C))})):(p=lay.elem("span",{class:E}),o=function(){lay(d).find("ol").each(function(e){var i=this,t=lay(i).find("li");i.scrollTop=30*(r[x][b[e]]-2),i.scrollTop<=0&&t.each(function(e,t){if(!lay(this).hasClass(C))return i.scrollTop=30*(e-2),!0})})},f=lay(y[2]).find("."+E),o(),p.innerHTML=s.range?[u.startTime,u.endTime][a]:u.timeTips,lay(r.elemMain[a]).addClass("laydate-time-show"),f[0]&&f.remove(),y[2].appendChild(p),lay(d).find("ol").each(function(t){var i=this;lay(i).find("li").on("click",function(){var e=0|this.innerHTML;lay(this).hasClass(C)||(s.range?r[x][b[t]]=e:c[b[t]]=e,lay(i).find("."+k).removeClass(k),lay(this).addClass(k),l(),o(),!r.endDate&&"time"!==s.type||r.done(null,"change"),r.setBtnStatus())})})),r},h.prototype.listYM=[],h.prototype.closeList=function(){var i=this;i.config,lay.each(i.elemCont,function(e,t){lay(this).find("."+w).remove(),lay(i.elemMain[e]).removeClass("laydate-ym-show laydate-time-show")}),lay(i.elem).find("."+E).remove()},h.prototype.setBtnStatus=function(e,t,i){var a=this,n=a.config,l=a.lang(),o=lay(a.footer).find(T);n.range&&"time"!==n.type&&(t=t||n.dateTime,i=i||a.endDate,n=a.newDate(t).getTime()>a.newDate(i).getTime(),a.limit(null,t)||a.limit(null,i)?o.addClass(C):o[n?"addClass":"removeClass"](C),e&&n&&a.hint("string"==typeof e?l.timeout.replace(/\u65e5\u671f/g,e):l.timeout))},h.prototype.parse=function(e,t){var i=this,a=i.config,t=t||("end"==e?lay.extend({},i.endDate,i.endTime):a.range?lay.extend({},a.dateTime,i.startTime):a.dateTime),t=f.parse(t,i.format,1);return a.range&&void 0===e?t+" "+i.rangeStr+" "+i.parse("end"):t},h.prototype.newDate=function(e){return e=e||{},new Date(e.year||1,e.month||0,e.date||1,e.hours||0,e.minutes||0,e.seconds||0)},h.prototype.setValue=function(e){var t=this,i=t.config,a=t.bindElem||i.elem[0];return"static"===i.position||(e=e||"",t.isInput(a)?lay(a).val(e):t.rangeElem?(t.rangeElem[0].val(e?t.parse("start"):""),t.rangeElem[1].val(e?t.parse("end"):"")):(0===lay(a).find("*").length&&lay(a).html(e),lay(a).attr("lay-date",e))),t},h.prototype.preview=function(){var e,t=this,i=t.config;i.isPreview&&(e=lay(t.elem).find("."+v),t=!i.range||t.endDate?t.parse():"",e.html(t).css({color:"#5FB878"}),setTimeout(function(){e.css({color:"#666"})},300))},h.prototype.done=function(e,t){var i=this,a=i.config,n=lay.extend({},lay.extend(a.dateTime,i.startTime)),l=lay.extend({},lay.extend(i.endDate,i.endTime));return lay.each([n,l],function(e,t){"month"in t&&lay.extend(t,{month:t.month+1})}),i.preview(),e=e||[i.parse(),n,l],"function"==typeof a[t||"done"]&&a[t||"done"].apply(a,e),i},h.prototype.choose=function(e,t){var i=this,a=i.config,n=i.thisDateTime(t),l={year:0|(l=(lay(i.elem).find("td"),e.attr("lay-ymd").split("-")))[0],month:(0|l[1])-1,date:0|l[2]};e.hasClass(C)||(lay.extend(n,l),a.range?(lay.each(["startTime","endTime"],function(e,t){i[t]=i[t]||{hours:0,minutes:0,seconds:0}}),i.calendar(null,t).done(null,"change")):"static"===a.position?i.calendar().done().done(null,"change"):"date"===a.type?i.setValue(i.parse()).remove().done():"datetime"===a.type&&i.calendar().done(null,"change"))},h.prototype.tool=function(e,t){var i=this,a=i.config,n=i.lang(),l=a.dateTime,o="static"===a.position,r={datetime:function(){lay(e).hasClass(C)||(i.list("time",0),a.range&&i.list("time",1),lay(e).attr("lay-type","date").html(i.lang().dateTips))},date:function(){i.closeList(),lay(e).attr("lay-type","datetime").html(i.lang().timeTips)},clear:function(){o&&(lay.extend(l,i.firstDate),i.calendar()),a.range&&(delete a.dateTime,delete i.endDate,delete i.startTime,delete i.endTime),i.setValue("").remove(),i.done(["",{},{}])},now:function(){var e=new Date;lay.extend(l,i.systemDate(),{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}),i.setValue(i.parse()).remove(),o&&i.calendar(),i.done()},confirm:function(){if(a.range){if(lay(e).hasClass(C))return i.hint("time"===a.type?n.timeout.replace(/\u65e5\u671f/g,"时间"):n.timeout)}else if(lay(e).hasClass(C))return i.hint(n.invalidDate);i.done(),i.setValue(i.parse()).remove()}};r[t]&&r[t]()},h.prototype.change=function(a){function e(e){var t=lay(s).find(".laydate-year-list")[0],i=lay(s).find(".laydate-month-list")[0];return t&&(c[0]=e?c[0]-15:c[0]+15,n.list("year",a)),i&&(e?c[0]--:c[0]++,n.list("month",a)),(t||i)&&(lay.extend(o,{year:c[0]}),r&&(o.year=c[0]),l.range||n.done(null,"change"),l.range||n.limit(lay(n.footer).find(T),{year:c[0]})),n.setBtnStatus(),t||i}var n=this,l=n.config,o=n.thisDateTime(a),r=l.range&&("year"===l.type||"month"===l.type),s=n.elemCont[a||0],c=n.listYM[a];return{prevYear:function(){e("sub")||(o.year--,n.checkDate("limit").calendar(null,a),n.done(null,"change"))},prevMonth:function(){var e=n.getAsYM(o.year,o.month,"sub");lay.extend(o,{year:e[0],month:e[1]}),n.checkDate("limit").calendar(null,a),n.done(null,"change")},nextMonth:function(){var e=n.getAsYM(o.year,o.month);lay.extend(o,{year:e[0],month:e[1]}),n.checkDate("limit").calendar(null,a),n.done(null,"change")},nextYear:function(){e()||(o.year++,n.checkDate("limit").calendar(null,a),n.done(null,"change"))}}},h.prototype.changeEvent=function(){var n=this;n.config,lay(n.elem).on("click",function(e){lay.stope(e)}).on("mousedown",function(e){lay.stope(e)}),lay.each(n.elemHeader,function(a,e){lay(e[0]).on("click",function(e){n.change(a).prevYear()}),lay(e[1]).on("click",function(e){n.change(a).prevMonth()}),lay(e[2]).find("span").on("click",function(e){var t=lay(this),i=t.attr("lay-ym"),t=t.attr("lay-type");i&&(i=i.split("-"),n.listYM[a]=[0|i[0],0|i[1]],n.list(t,a),lay(n.footer).find("."+D).addClass(C))}),lay(e[3]).on("click",function(e){n.change(a).nextMonth()}),lay(e[4]).on("click",function(e){n.change(a).nextYear()})}),lay.each(n.table,function(e,t){lay(t).find("td").on("click",function(){n.choose(lay(this),e)})}),lay(n.footer).find("span").on("click",function(){var e=lay(this).attr("lay-type");n.tool(this,e)})},h.prototype.isInput=function(e){return/input|textarea/.test(e.tagName.toLocaleLowerCase())},h.prototype.events=function(){function e(e,t){e.on(a.trigger,function(){t&&(i.bindElem=this),i.render()})}var i=this,a=i.config;a.elem[0]&&!a.elem[0].eventHandler&&(e(a.elem,"bind"),e(a.eventElem),a.elem[0].eventHandler=!0)},r.that={},r.getThis=function(e){var t=r.that[e];return!t&&a&&layui.hint().error(e?i+" instance with ID '"+e+"' not found":"ID argument required"),t},l.run=function(a){a(o).on("mousedown",function(e){var t,i;!f.thisId||(t=r.getThis(f.thisId))&&(i=t.config,e.target!==i.elem[0]&&e.target!==i.eventElem[0]&&e.target!==a(i.closeStop)[0]&&t.remove())}).on("keydown",function(e){var t;!f.thisId||(t=r.getThis(f.thisId))&&13===e.keyCode&&a("#"+t.elemID)[0]&&t.elemID===h.thisElemDate&&(e.preventDefault(),a(t.footer).find(T)[0].click())}),a(n).on("resize",function(){if(f.thisId){var e=r.getThis(f.thisId);if(e)return!(!e.elem||!a(".layui-laydate")[0])&&void e.position()}})},f.render=function(e){e=new h(e);return r.call(e)},f.parse=function(i,a,n){return i=i||{},a=((a="string"==typeof a?r.formatArr(a):a)||[]).concat(),lay.each(a,function(e,t){/yyyy|y/.test(t)?a[e]=lay.digit(i.year,t.length):/MM|M/.test(t)?a[e]=lay.digit(i.month+(n||0),t.length):/dd|d/.test(t)?a[e]=lay.digit(i.date,t.length):/HH|H/.test(t)?a[e]=lay.digit(i.hours,t.length):/mm|m/.test(t)?a[e]=lay.digit(i.minutes,t.length):/ss|s/.test(t)&&(a[e]=lay.digit(i.seconds,t.length))}),a.join("")},f.getEndDate=function(e,t){var i=new Date;return i.setFullYear(t||i.getFullYear(),e||i.getMonth()+1,1),new Date(i.getTime()-864e5).getDate()},a?(f.ready(),layui.define("lay",function(e){f.path=layui.cache.dir,l.run(lay),e(i,f)})):"function"==typeof define&&define.amd?define(function(){return l.run(lay),f}):(f.ready(),l.run(n.lay),n.laydate=f)}(window,window.document),layui.define("jquery",function(e){"use strict";var u=layui.$,l=layui.hint(),n={fixbar:function(t){var e,i,a="layui-fixbar",n="layui-fixbar-top",l=u(document),o=u("body");(t=u.extend({showHeight:200},t)).bar1=!0===t.bar1?"&#xe606;":t.bar1,t.bar2=!0===t.bar2?"&#xe607;":t.bar2,t.bgcolor=t.bgcolor?"background-color:"+t.bgcolor:"";function r(){l.scrollTop()>=t.showHeight?e||(c.show(),e=1):e&&(c.hide(),e=0)}var s=[t.bar1,t.bar2,"&#xe604;"],s=u(['<ul class="'+a+'">',t.bar1?'<li class="layui-icon" lay-type="bar1" style="'+t.bgcolor+'">'+s[0]+"</li>":"",t.bar2?'<li class="layui-icon" lay-type="bar2" style="'+t.bgcolor+'">'+s[1]+"</li>":"",'<li class="layui-icon '+n+'" lay-type="top" style="'+t.bgcolor+'">'+s[2]+"</li>","</ul>"].join("")),c=s.find("."+n);u("."+a)[0]||("object"==typeof t.css&&s.css(t.css),o.append(s),r(),s.find("li").on("click",function(){var e=u(this).attr("lay-type");"top"===e&&u("html,body").animate({scrollTop:0},200),t.click&&t.click.call(this,e)}),l.on("scroll",function(){clearTimeout(i),i=setTimeout(function(){r()},100)}))},countdown:function(e,t,i){var a=this,n="function"==typeof t,l=new Date(e).getTime(),o=new Date(!t||n?(new Date).getTime():t).getTime(),r=l-o,l=[Math.floor(r/864e5),Math.floor(r/36e5)%24,Math.floor(r/6e4)%60,Math.floor(r/1e3)%60];n&&(i=t);n=setTimeout(function(){a.countdown(e,o+1e3,i)},1e3);return i&&i(0<r?l:[0,0,0,0],t,n),r<=0&&clearTimeout(n),n},timeAgo:function(e,t){var i=this,a=[[],[]],n=(new Date).getTime()-new Date(e).getTime();return 26784e5<n?(n=new Date(e),a[0][0]=i.digit(n.getFullYear(),4),a[0][1]=i.digit(n.getMonth()+1),a[0][2]=i.digit(n.getDate()),t||(a[1][0]=i.digit(n.getHours()),a[1][1]=i.digit(n.getMinutes()),a[1][2]=i.digit(n.getSeconds())),a[0].join("-")+" "+a[1].join(":")):864e5<=n?(n/1e3/60/60/24|0)+"天前":36e5<=n?(n/1e3/60/60|0)+"小时前":18e4<=n?(n/1e3/60|0)+"分钟前":n<0?"未来":"刚刚"},digit:function(e,t){var i="";t=t||2;for(var a=(e=String(e)).length;a<t;a++)i+="0";return e<Math.pow(10,t)?i+(0|e):e},toDateString:function(e,t){if(null===e||""===e)return"";var i=this,a=new Date(function(){if(e)return!isNaN(e)&&"string"==typeof e?parseInt(e):e}()||new Date),n=[i.digit(a.getFullYear(),4),i.digit(a.getMonth()+1),i.digit(a.getDate())],i=[i.digit(a.getHours()),i.digit(a.getMinutes()),i.digit(a.getSeconds())];return a.getDate()?(t=t||"yyyy-MM-dd HH:mm:ss").replace(/yyyy/g,n[0]).replace(/MM/g,n[1]).replace(/dd/g,n[2]).replace(/HH/g,i[0]).replace(/mm/g,i[1]).replace(/ss/g,i[2]):(l.error('Invalid Msec for "util.toDateString(Msec)"'),"")},escape:function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},unescape:function(e){return String(e||"").replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&#39;/,"'").replace(/\&quot;/,'"')},toVisibleArea:function(e){var t,i,a,n,l,o,r,s;(e=u.extend({margin:160,duration:200,type:"y"},e)).scrollElem[0]&&e.thisElem[0]&&(t=e.scrollElem,i=e.thisElem,n=(s="y"===e.type)?"top":"left",l=t[a=s?"scrollTop":"scrollLeft"](),o=t[s?"height":"width"](),r=t.offset()[n],s={},((r=i.offset()[n]-r)>o-e.margin||r<e.margin)&&(s[a]=r-o/2+l,t.animate(s,e.duration)))},event:function(i,a,e){var t=u("body");return e=e||"click",a=n.event[i]=u.extend(!0,n.event[i],a)||{},n.event.UTIL_EVENT_CALLBACK=n.event.UTIL_EVENT_CALLBACK||{},t.off(e,"*["+i+"]",n.event.UTIL_EVENT_CALLBACK[i]),n.event.UTIL_EVENT_CALLBACK[i]=function(){var e=u(this),t=e.attr(i);"function"==typeof a[t]&&a[t].call(this,e)},t.on(e,"*["+i+"]",n.event.UTIL_EVENT_CALLBACK[i]),a}};e("util",n)}),layui.define("jquery",function(e){"use strict";function t(){this.config={}}var u=layui.$,d=(layui.hint(),layui.device()),s="element",c="layui-this",y="layui-show";t.prototype.set=function(e){return u.extend(!0,this.config,e),this},t.prototype.on=function(e,t){return layui.onevent.call(this,s,e,t)},t.prototype.tabAdd=function(e,t){var i,a=u(".layui-tab[lay-filter="+e+"]"),n=a.children(".layui-tab-title"),l=n.children(".layui-tab-bar"),e=a.children(".layui-tab-content"),a="<li"+(i=[],layui.each(t,function(e,t){/^(title|content)$/.test(e)||i.push("lay-"+e+'="'+t+'"')}),0<i.length&&i.unshift(""),i.join(" "))+">"+(t.title||"unnaming")+"</li>";return l[0]?l.before(a):n.append(a),e.append('<div class="layui-tab-item">'+(t.content||"")+"</div>"),b.hideTabMore(!0),b.tabAuto(),this},t.prototype.tabDelete=function(e,t){t=u(".layui-tab[lay-filter="+e+"]").children(".layui-tab-title").find('>li[lay-id="'+t+'"]');return b.tabDelete(null,t),this},t.prototype.tabChange=function(e,t){t=u(".layui-tab[lay-filter="+e+"]").children(".layui-tab-title").find('>li[lay-id="'+t+'"]');return b.tabClick.call(t[0],null,null,t),this},t.prototype.tab=function(i){i=i||{},a.on("click",i.headerElem,function(e){var t=u(this).index();b.tabClick.call(this,e,t,null,i)})},t.prototype.progress=function(e,t){var i="layui-progress",e=u("."+i+"[lay-filter="+e+"]").find("."+i+"-bar"),i=e.find("."+i+"-text");return e.css("width",t).attr("lay-percent",t),i.text(t),this};var h=".layui-nav",f="layui-nav-item",n="layui-nav-bar",p="layui-nav-tree",m="layui-nav-child",v="layui-nav-more",g="layui-anim layui-anim-upbit",b={tabClick:function(e,t,i,a){a=a||{};var n=i||u(this),t=t||n.parent().children("li").index(n),l=a.headerElem?n.parent():n.parents(".layui-tab").eq(0),o=a.bodyElem?u(a.bodyElem):l.children(".layui-tab-content").children(".layui-tab-item"),r=n.find("a"),i="javascript:;"!==r.attr("href")&&"_blank"===r.attr("target"),a="string"==typeof n.attr("lay-unselect"),r=l.attr("lay-filter");i||a||(n.addClass(c).siblings().removeClass(c),o.eq(t).addClass(y).siblings().removeClass(y)),layui.event.call(this,s,"tab("+r+")",{elem:l,index:t})},tabDelete:function(e,t){var i=t||u(this).parent(),a=i.index(),n=i.parents(".layui-tab").eq(0),l=n.children(".layui-tab-content").children(".layui-tab-item"),t=n.attr("lay-filter");i.hasClass(c)&&(i.next()[0]?b.tabClick.call(i.next()[0],null,a+1):i.prev()[0]&&b.tabClick.call(i.prev()[0],null,a-1)),i.remove(),l.eq(a).remove(),setTimeout(function(){b.tabAuto()},50),layui.event.call(this,s,"tabDelete("+t+")",{elem:n,index:a})},tabAuto:function(){var a="layui-tab-bar",n="layui-tab-close",l=this;u(".layui-tab").each(function(){var e=u(this),t=e.children(".layui-tab-title"),i=(e.children(".layui-tab-content").children(".layui-tab-item"),'lay-stope="tabmore"'),i=u('<span class="layui-unselect layui-tab-bar" '+i+"><i "+i+' class="layui-icon">&#xe61a;</i></span>');l===window&&8!=d.ie&&b.hideTabMore(!0),e.attr("lay-allowClose")&&t.find("li").each(function(){var e,t=u(this);t.find("."+n)[0]||((e=u('<i class="layui-icon layui-icon-close layui-unselect '+n+'"></i>')).on("click",b.tabDelete),t.append(e))}),"string"!=typeof e.attr("lay-unauto")&&(t.prop("scrollWidth")>t.outerWidth()+1?t.find("."+a)[0]||(t.append(i),e.attr("overflow",""),i.on("click",function(e){t[this.title?"removeClass":"addClass"]("layui-tab-more"),this.title=this.title?"":"收缩"})):(t.find("."+a).remove(),e.removeAttr("overflow")))})},hideTabMore:function(e){var t=u(".layui-tab-title");!0!==e&&"tabmore"===u(e.target).attr("lay-stope")||(t.removeClass("layui-tab-more"),t.find(".layui-tab-bar").attr("title",""))},clickThis:function(){var e=u(this),t=e.parents(h),i=t.attr("lay-filter"),a=e.parent(),n=e.siblings("."+m),l="string"==typeof a.attr("lay-unselect");"javascript:;"!==e.attr("href")&&"_blank"===e.attr("target")||l||n[0]||(t.find("."+c).removeClass(c),a.addClass(c)),t.hasClass(p)&&(n.removeClass(g),n[0]&&(a["none"===n.css("display")?"addClass":"removeClass"](f+"ed"),"all"===t.attr("lay-shrink")&&a.siblings().removeClass(f+"ed"))),layui.event.call(this,s,"nav("+i+")",e)},collapse:function(){var e=u(this),t=e.find(".layui-colla-icon"),i=e.siblings(".layui-colla-content"),a=e.parents(".layui-collapse").eq(0),n=a.attr("lay-filter"),l="none"===i.css("display");"string"==typeof a.attr("lay-accordion")&&((a=a.children(".layui-colla-item").children("."+y)).siblings(".layui-colla-title").children(".layui-colla-icon").html("&#xe602;"),a.removeClass(y)),i[l?"addClass":"removeClass"](y),t.html(l?"&#xe61a;":"&#xe602;"),layui.event.call(this,s,"collapse("+n+")",{title:e,content:i,show:l})}};t.prototype.init=function(e,t){var i=t?'[lay-filter="'+t+'"]':"",t={tab:function(){b.tabAuto.call({})},nav:function(){var o={},r={},s={},c="layui-nav-title";u(h+i).each(function(e){var t=u(this),i=u('<span class="'+n+'"></span>'),a=t.find("."+f);t.find("."+n)[0]||(t.append(i),(t.hasClass(p)?a.find("dd,>."+c):a).on("mouseenter",function(){!function(e,t,i){var a,n=u(this),l=n.find("."+m);t.hasClass(p)?l[0]||(a=n.children("."+c),e.css({top:n.offset().top-t.offset().top,height:(a[0]?a:n).outerHeight(),opacity:1})):(l.addClass(g),l.hasClass("layui-nav-child-c")&&l.css({left:-(l.outerWidth()-n.width())/2}),l[0]?e.css({left:e.position().left+e.width()/2,width:0,opacity:0}):e.css({left:n.position().left+parseFloat(n.css("marginLeft")),top:n.position().top+n.height()-e.height()}),o[i]=setTimeout(function(){e.css({width:l[0]?0:n.width(),opacity:l[0]?0:1})},d.ie&&d.ie<10?0:200),clearTimeout(s[i]),"block"===l.css("display")&&clearTimeout(r[i]),r[i]=setTimeout(function(){l.addClass(y),n.find("."+v).addClass(v+"d")},300))}.call(this,i,t,e)}).on("mouseleave",function(){t.hasClass(p)?i.css({height:0,opacity:0}):(clearTimeout(r[e]),r[e]=setTimeout(function(){t.find("."+m).removeClass(y),t.find("."+v).removeClass(v+"d")},300))}),t.on("mouseleave",function(){clearTimeout(o[e]),s[e]=setTimeout(function(){t.hasClass(p)||i.css({width:0,left:i.position().left+i.width()/2,opacity:0})},200)})),a.find("a").each(function(){var e=u(this);(e.parent(),e.siblings("."+m))[0]&&!e.children("."+v)[0]&&e.append('<i class="layui-icon layui-icon-down '+v+'"></i>'),e.off("click",b.clickThis).on("click",b.clickThis)})})},breadcrumb:function(){u(".layui-breadcrumb"+i).each(function(){var e=u(this),t="lay-separator",i=e.attr(t)||"/",a=e.find("a");a.next("span["+t+"]")[0]||(a.each(function(e){e!==a.length-1&&u(this).after("<span "+t+">"+i+"</span>")}),e.css("visibility","visible"))})},progress:function(){var a="layui-progress";u("."+a+i).each(function(){var e=u(this),t=e.find(".layui-progress-bar"),i=t.attr("lay-percent");t.css("width",/^.+\/.+$/.test(i)?100*new Function("return "+i)()+"%":i),e.attr("lay-showPercent")&&setTimeout(function(){t.html('<span class="'+a+'-text">'+i+"</span>")},350)})},collapse:function(){u(".layui-collapse"+i).each(function(){u(this).find(".layui-colla-item").each(function(){var e=u(this),t=e.find(".layui-colla-title"),e="none"===e.find(".layui-colla-content").css("display");t.find(".layui-colla-icon").remove(),t.append('<i class="layui-icon layui-colla-icon">'+(e?"&#xe602;":"&#xe61a;")+"</i>"),t.off("click",b.collapse).on("click",b.collapse)})})}};return t[e]?t[e]():layui.each(t,function(e,t){t()})},t.prototype.render=t.prototype.init;var i=new t,a=u(document);u(function(){i.render()});a.on("click",".layui-tab-title li",b.tabClick),a.on("click",b.hideTabMore),u(window).on("resize",b.tabAuto),e(s,i)}),layui.define("layer",function(e){"use strict";function v(e){this.config=g.extend({},this.config,a.config,e),this.render()}var g=layui.$,t=layui.layer,i=layui.hint(),b=layui.device(),a={config:{},set:function(e){return this.config=g.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,n,e,t)}},n="upload",l="layui-upload-file",o="layui-upload-form",x="layui-upload-iframe",k="layui-upload-choose";v.prototype.config={accept:"images",exts:"",auto:!0,bindAction:"",url:"",field:"file",acceptMime:"",method:"post",data:{},drag:!0,size:0,number:0,multiple:!1},v.prototype.render=function(e){(e=this.config).elem=g(e.elem),e.bindAction=g(e.bindAction),this.file(),this.events()},v.prototype.file=function(){var e=this,t=e.config,i=e.elemFile=g(['<input class="'+l+'" type="file" accept="'+t.acceptMime+'" name="'+t.field+'"',t.multiple?" multiple":"",">"].join("")),a=t.elem.next();(a.hasClass(l)||a.hasClass(o))&&a.remove(),b.ie&&b.ie<10&&t.elem.wrap('<div class="layui-upload-wrap"></div>'),e.isFile()?(e.elemFile=t.elem,t.field=t.elem[0].name):t.elem.after(i),b.ie&&b.ie<10&&e.initIE()},v.prototype.initIE=function(){var i,e=this.config,t=g('<iframe id="'+x+'" class="'+x+'" name="'+x+'" frameborder="0"></iframe>'),a=g(['<form target="'+x+'" class="'+o+'" method="post" key="set-mine" enctype="multipart/form-data" action="'+e.url+'">',"</form>"].join(""));g("#"+x)[0]||g("body").append(t),e.elem.next().hasClass(o)||(this.elemFile.wrap(a),e.elem.next("."+o).append((i=[],layui.each(e.data,function(e,t){t="function"==typeof t?t():t,i.push('<input type="hidden" name="'+e+'" value="'+t+'">')}),i.join(""))))},v.prototype.msg=function(e){return t.msg(e,{icon:2,shift:6})},v.prototype.isFile=function(){var e=this.config.elem[0];if(e)return"input"===e.tagName.toLocaleLowerCase()&&"file"===e.type},v.prototype.preview=function(a){window.FileReader&&layui.each(this.chooseFiles,function(e,t){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){a&&a(e,t,this.result)}})},v.prototype.upload=function(i,e){function t(){function t(){u.multiple&&n+l===c.fileLength&&"function"==typeof u.allDone&&u.allDone({total:c.fileLength,successful:n,aborted:l})}var n=0,l=0,e=i||c.files||c.chooseFiles||d.files;layui.each(e,function(i,e){var a=new FormData;a.append(u.field,e),layui.each(u.data,function(e,t){t="function"==typeof t?t():t,a.append(e,t)});e={url:u.url,type:"post",data:a,contentType:!1,processData:!1,dataType:"json",headers:u.headers||{},success:function(e){n++,y(i,e),t()},error:function(){l++,c.msg("请求上传接口出现异常"),h(i),t()}};"function"==typeof u.progress&&(e.xhr=function(){var e=g.ajaxSettings.xhr();return e.upload.addEventListener("progress",function(e){var t;e.lengthComputable&&(t=Math.floor(e.loaded/e.total*100),u.progress(t,(u.item||u.elem)[0],e,i))}),e}),g.ajax(e)})}function a(){return!(("choose"===e||u.auto)&&(u.choose&&u.choose(m),"choose"===e)||u.before&&!1===u.before(m))&&(b.ie?9<b.ie?t():(i=g("#"+x),c.elemFile.parent().submit(),clearInterval(v.timer),void(v.timer=setInterval(function(){var e,t=i.contents().find("body");try{e=t.text()}catch(e){c.msg("获取上传后的响应信息出现异常"),clearInterval(v.timer),h()}e&&(clearInterval(v.timer),t.html(""),y(0,e))},30))):void t());var i}var n,l,o,r,s,c=this,u=c.config,d=c.elemFile[0],y=function(e,t){if(c.elemFile.next("."+k).remove(),d.value="","object"!=typeof t)try{t=JSON.parse(t)}catch(e){return t={},c.msg("请对上传接口返回有效JSON")}"function"==typeof u.done&&u.done(t,e||0,function(e){c.upload(e)})},h=function(e){u.auto&&(d.value=""),"function"==typeof u.error&&u.error(e||0,function(e){c.upload(e)})},f=u.exts,p=(l=[],layui.each(i||c.chooseFiles,function(e,t){l.push(t.name)}),l),m={preview:function(e){c.preview(e)},upload:function(e,t){var i={};i[e]=t,c.upload(i)},pushFile:function(){return c.files=c.files||{},layui.each(c.chooseFiles,function(e,t){c.files[e]=t}),c.files},resetFile:function(e,t,i){i=new File([t],i);c.files=c.files||{},c.files[e]=i}};if(0!==(p=0===p.length?d.value.match(/[^\/\\]+\..+/g)||[]||"":p).length){switch(u.accept){case"file":if(f&&!RegExp("\\w\\.("+f+")$","i").test(escape(p)))return c.msg("选择的文件中包含不支持的格式"),d.value="";break;case"video":if(!RegExp("\\w\\.("+(f||"avi|mp4|wma|rmvb|rm|flash|3gp|flv")+")$","i").test(escape(p)))return c.msg("选择的视频中包含不支持的格式"),d.value="";break;case"audio":if(!RegExp("\\w\\.("+(f||"mp3|wav|mid")+")$","i").test(escape(p)))return c.msg("选择的音频中包含不支持的格式"),d.value="";break;default:if(layui.each(p,function(e,t){RegExp("\\w\\.("+(f||"jpg|png|gif|bmp|jpeg$")+")","i").test(escape(t))||(n=!0)}),n)return c.msg("选择的图片中包含不支持的格式"),d.value=""}if(c.fileLength=(r=0,s=i||c.files||c.chooseFiles||d.files,layui.each(s,function(){r++}),r),u.number&&c.fileLength>u.number)return c.msg("同时最多只能上传的数量为："+u.number);if(0<u.size&&!(b.ie&&b.ie<10))if(layui.each(c.chooseFiles,function(e,t){t.size>1024*u.size&&(t=1<=(t=u.size/1024)?t.toFixed(2)+"MB":u.size+"KB",d.value="",o=t)}),o)return c.msg("文件不能超过"+o);a()}},v.prototype.reload=function(e){delete(e=e||{}).elem,delete e.bindAction;(e=this.config=g.extend({},this.config,a.config,e)).elem.next().attr({name:e.name,accept:e.acceptMime,multiple:e.multiple})},v.prototype.events=function(){function a(e){l.chooseFiles={},layui.each(e,function(e,t){var i=(new Date).getTime();l.chooseFiles[i+"-"+e]=t})}function n(e,t){var i=l.elemFile,e=(o.item||o.elem,1<e.length?e.length+"个文件":(e[0]||{}).name||i[0].value.match(/[^\/\\]+\..+/g)||[]||"");i.next().hasClass(k)&&i.next().remove(),l.upload(null,"choose"),l.isFile()||o.choose||i.after('<span class="layui-inline '+k+'">'+e+"</span>")}var l=this,o=l.config;o.elem.off("upload.start").on("upload.start",function(){var e=g(this),t=e.attr("lay-data");if(t)try{t=new Function("return "+t)(),l.config=g.extend({},o,t)}catch(e){i.error("Upload element property lay-data configuration item has a syntax error: "+t)}l.config.item=e,l.elemFile[0].click()}),b.ie&&b.ie<10||o.elem.off("upload.over").on("upload.over",function(){g(this).attr("lay-over","")}).off("upload.leave").on("upload.leave",function(){g(this).removeAttr("lay-over")}).off("upload.drop").on("upload.drop",function(e,t){var i=g(this),t=t.originalEvent.dataTransfer.files||[];i.removeAttr("lay-over"),a(t),o.auto?l.upload(t):n(t)}),l.elemFile.off("upload.change").on("upload.change",function(){var e=this.files||[];a(e),o.auto?l.upload():n(e)}),o.bindAction.off("upload.action").on("upload.action",function(){l.upload()}),o.elem.data("haveEvents")||(l.elemFile.on("change",function(){g(this).trigger("upload.change")}),o.elem.on("click",function(){l.isFile()||g(this).trigger("upload.start")}),o.drag&&o.elem.on("dragover",function(e){e.preventDefault(),g(this).trigger("upload.over")}).on("dragleave",function(e){g(this).trigger("upload.leave")}).on("drop",function(e){e.preventDefault(),g(this).trigger("upload.drop",e)}),o.bindAction.on("click",function(){g(this).trigger("upload.action")}),o.elem.data("haveEvents",!0))},a.render=function(e){e=new v(e);return function(){var t=this;return{upload:function(e){t.upload.call(t,e)},reload:function(e){t.reload.call(t,e)},config:t.config}}.call(e)},e(n,a)}),layui.define(["jquery","laytpl","lay"],function(e){"use strict";function t(e){this.index=++y.index,this.config=u.extend({},this.config,y.config,e),this.init()}var u=layui.$,d=layui.laytpl,i=layui.hint(),l=layui.device().mobile?"click":"mousedown",o="dropdown",r="layui_"+o+"_index",y={config:{},index:layui[o]?layui[o].index+1e4:0,set:function(e){return this.config=u.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,o,e,t)}},h=function(){var t=this,e=t.config,i=e.id;return h.that[i]=t,{config:e,reload:function(e){t.reload.call(t,e)}}},a="layui-menu-item-up",n="layui-menu-item-down",f="layui-menu-body-title",s="layui-menu-item-group",p="layui-menu-item-parent",c="layui-menu-item-checked",m="layui-menu-item-checked2",v="layui-menu-body-panel",g="layui-menu-body-panel-left",b="."+s+">."+f;t.prototype.config={trigger:"click",content:"",className:"",style:"",show:!1,isAllowSpread:!0,isSpreadItem:!0,data:[],delay:300},t.prototype.reload=function(e){this.config=u.extend({},this.config,e),this.init(!0)},t.prototype.init=function(e){var t=this,i=t.config,a=i.elem=u(i.elem);if(1<a.length)return layui.each(a,function(){y.render(u.extend({},i,{elem:this}))}),t;if(!e&&a[0]&&a.data(r)){a=h.getThis(a.data(r));return a?a.reload(i):void 0}i.id="id"in i?i.id:t.index,i.show&&t.render(e),t.events()},t.prototype.render=function(e){var t,a=this,s=a.config,i=u("body"),c=function(r,e){return layui.each(e,function(e,t){var i,a=t.child&&0<t.child.length,n=("isSpreadItem"in t?t:s).isSpreadItem,l=t.templet?d(t.templet).render(t):s.templet?d(s.templet).render(t):t.title,o=(a&&(t.type=t.type||"parent"),t.type?{group:"group",parent:"parent","-":"-"}[t.type]||"parent":"");("-"===o||t.title||t.id||a)&&((n=u(["<li"+(i={group:"layui-menu-item-group"+(s.isAllowSpread?n?" layui-menu-item-down":" layui-menu-item-up":""),parent:p,"-":"layui-menu-item-divider"},a||o?' class="'+i[o]+'"':"")+">",(l="href"in t?'<a href="'+t.href+'" target="'+(t.target||"_self")+'">'+l+"</a>":l,a?'<div class="'+f+'">'+l+("parent"===o?'<i class="layui-icon layui-icon-right"></i>':"group"===o&&s.isAllowSpread?'<i class="layui-icon layui-icon-'+(n?"up":"down")+'"></i>':"")+"</div>":'<div class="'+f+'">'+l+"</div>"),"</li>"].join(""))).data("item",t),a&&(l=u('<div class="layui-panel layui-menu-body-panel"></div>'),a=u("<ul></ul>"),"parent"===o?(l.append(c(a,t.child)),n.append(l)):n.append(c(a,t.child))),r.append(n))}),r},n=['<div class="layui-dropdown layui-border-box layui-panel layui-anim layui-anim-downbit">',"</div>"].join("");!(e="contextmenu"===s.trigger||lay.isTopElem(s.elem[0])?!0:e)&&s.elem.data(r+"_opened")||(a.elemView=u(n),a.elemView.append(s.content||(t=u('<ul class="layui-menu layui-dropdown-menu"></ul>'),0<s.data.length?c(t,s.data):t.html('<li class="layui-menu-item-none">no menu</li>'),t)),s.className&&a.elemView.addClass(s.className),s.style&&a.elemView.attr("style",s.style),y.thisId=s.id,a.remove(),i.append(a.elemView),s.elem.data(r+"_opened",!0),a.position(),h.prevElem=a.elemView,h.prevElem.data("prevElem",s.elem),a.elemView.find(".layui-menu").on(l,function(e){layui.stope(e)}),a.elemView.find(".layui-menu li").on("click",function(e){var t=u(this),i=t.data("item")||{};i.child&&0<i.child.length||"-"===i.type||(a.remove(),"function"==typeof s.click&&s.click(i,t))}),a.elemView.find(b).on("click",function(e){var t=u(this).parent();"group"===(t.data("item")||{}).type&&s.isAllowSpread&&h.spread(t)}),"mouseenter"===s.trigger&&a.elemView.on("mouseenter",function(){clearTimeout(h.timer)}).on("mouseleave",function(){a.delayRemove()}))},t.prototype.position=function(e){var t=this.config;lay.position(t.elem[0],this.elemView[0],{position:t.position,e:this.e,clickType:"contextmenu"===t.trigger?"right":null,align:t.align||null})},t.prototype.remove=function(){var e=(this.config,h.prevElem);e&&(e.data("prevElem")&&e.data("prevElem").data(r+"_opened",!1),e.remove())},t.prototype.delayRemove=function(){var e=this,t=e.config;clearTimeout(h.timer),h.timer=setTimeout(function(){e.remove()},t.delay)},t.prototype.events=function(){var t=this,i=t.config;"hover"===i.trigger&&(i.trigger="mouseenter"),t.prevElem&&t.prevElem.off(i.trigger,t.prevElemCallback),t.prevElem=i.elem,t.prevElemCallback=function(e){clearTimeout(h.timer),t.e=e,t.render(),e.preventDefault(),"function"==typeof i.ready&&i.ready(t.elemView,i.elem,t.e.target)},i.elem.on(i.trigger,t.prevElemCallback),"mouseenter"===i.trigger&&i.elem.on("mouseleave",function(){t.delayRemove()})},h.that={},h.getThis=function(e){var t=h.that[e];return t||i.error(e?o+" instance with ID '"+e+"' not found":"ID argument required"),t},h.spread=function(e){var t=e.children("."+f).find(".layui-icon");e.hasClass(a)?(e.removeClass(a).addClass(n),t.removeClass("layui-icon-down").addClass("layui-icon-up")):(e.removeClass(n).addClass(a),t.removeClass("layui-icon-up").addClass("layui-icon-down"))},function(){var a=u(window),e=u(document);a.on("resize",function(){if(y.thisId){var e=h.getThis(y.thisId);if(e){if(!e.elemView[0]||!u(".layui-dropdown")[0])return!1;"contextmenu"===e.config.trigger?e.remove():e.position()}}}),e.on(l,function(e){var t,i;!y.thisId||(t=h.getThis(y.thisId))&&(i=t.config,!lay.isTopElem(i.elem[0])&&"contextmenu"!==i.trigger&&(e.target===i.elem[0]||i.elem.find(e.target)[0]||e.target===t.elemView[0]||t.elemView&&t.elemView.find(e.target)[0])||t.remove())});var t=".layui-menu:not(.layui-dropdown-menu) li";e.on("click",t,function(e){var t=u(this),i=t.parents(".layui-menu").eq(0),a=t.hasClass(s)||t.hasClass(p),n=i.attr("lay-filter")||i.attr("id"),l=lay.options(this);t.hasClass("layui-menu-item-divider")||a||(i.find("."+c).removeClass(c),i.find("."+m).removeClass(m),t.addClass(c),t.parents("."+p).addClass(m),layui.event.call(this,o,"click("+n+")",l))}),e.on("click",t+b,function(e){var t=u(this).parents("."+s+":eq(0)"),i=lay.options(t[0]);"isAllowSpread"in i&&!i.isAllowSpread||h.spread(t)});t=".layui-menu ."+p;e.on("mouseenter",t,function(e){var t,i=u(this).find("."+v);i[0]&&((t=i[0].getBoundingClientRect()).right>a.width()&&(i.addClass(g),(t=i[0].getBoundingClientRect()).left<0&&i.removeClass(g)),t.bottom>a.height()&&i.eq(0).css("margin-top",-(t.bottom-a.height())))}).on("mouseleave",t,function(e){var t=u(this).children("."+v);t.removeClass(g),t.css("margin-top",0)})}(),y.reload=function(e,t){e=h.getThis(e);return e?(e.reload(t),h.call(e)):this},y.render=function(e){e=new t(e);return h.call(e)},e(o,y)}),layui.define("jquery",function(e){"use strict";function t(e){this.index=++i.index,this.config=m.extend({},this.config,i.config,e),this.render()}var m=layui.jquery,i={config:{},index:layui.slider?layui.slider.index+1e4:0,set:function(e){return this.config=m.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,a,e,t)}},a="slider",u="layui-disabled",v="layui-slider-bar",g="layui-slider-wrap",b="layui-slider-wrap-btn",x="layui-slider-tips",k="layui-slider-input-txt",C="layui-slider-hover";t.prototype.config={type:"default",min:0,max:100,value:0,step:1,showstep:!1,tips:!0,input:!1,range:!1,height:200,disabled:!1,theme:"#009688"},t.prototype.render=function(){var e,i=this,a=i.config;a.step<1&&(a.step=1),a.max<a.min&&(a.max=a.min+a.step),a.range?(a.value="object"==typeof a.value?a.value:[a.min,a.value],n=Math.min(a.value[0],a.value[1]),t=Math.max(a.value[0],a.value[1]),a.value[0]=n>a.min?n:a.min,a.value[1]=t>a.min?t:a.min,a.value[0]=a.value[0]>a.max?a.max:a.value[0],a.value[1]=a.value[1]>a.max?a.max:a.value[1],e=Math.floor((a.value[0]-a.min)/(a.max-a.min)*100),n=(l=Math.floor((a.value[1]-a.min)/(a.max-a.min)*100))-e+"%",e+="%",l+="%"):("object"==typeof a.value&&(a.value=Math.min.apply(null,a.value)),a.value<a.min&&(a.value=a.min),a.value>a.max&&(a.value=a.max),n=Math.floor((a.value-a.min)/(a.max-a.min)*100)+"%");var t=a.disabled?"#c2c2c2":a.theme,n='<div class="layui-slider '+("vertical"===a.type?"layui-slider-vertical":"")+'">'+(a.tips?'<div class="layui-slider-tips"></div>':"")+'<div class="layui-slider-bar" style="background:'+t+"; "+("vertical"===a.type?"height":"width")+":"+n+";"+("vertical"===a.type?"bottom":"left")+":"+(e||0)+';"></div><div class="layui-slider-wrap" style="'+("vertical"===a.type?"bottom":"left")+":"+(e||n)+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+t+';"></div></div>'+(a.range?'<div class="layui-slider-wrap" style="'+("vertical"===a.type?"bottom":"left")+":"+l+';"><div class="layui-slider-wrap-btn" style="border: 2px solid '+t+';"></div></div>':"")+"</div>",l=m(a.elem),t=l.next(".layui-slider");if(t[0]&&t.remove(),i.elemTemp=m(n),a.range?(i.elemTemp.find("."+g).eq(0).data("value",a.value[0]),i.elemTemp.find("."+g).eq(1).data("value",a.value[1])):i.elemTemp.find("."+g).data("value",a.value),l.html(i.elemTemp),"vertical"===a.type&&i.elemTemp.height(a.height+"px"),a.showstep){for(var o=(a.max-a.min)/a.step,r="",s=1;s<1+o;s++){var c=100*s/o;c<100&&(r+='<div class="layui-slider-step" style="'+("vertical"===a.type?"bottom":"left")+":"+c+'%"></div>')}i.elemTemp.append(r)}a.input&&!a.range&&(n=m('<div class="layui-slider-input layui-input"><div class="layui-slider-input-txt"><input type="text" class="layui-input"></div><div class="layui-slider-input-btn"><i class="layui-icon layui-icon-up"></i><i class="layui-icon layui-icon-down"></i></div></div>'),l.css("position","relative"),l.append(n),l.find("."+k).children("input").val(a.value),"vertical"===a.type?n.css({left:0,top:-48}):i.elemTemp.css("margin-right",n.outerWidth()+15)),a.disabled?(i.elemTemp.addClass(u),i.elemTemp.find("."+b).addClass(u)):i.slide(),i.elemTemp.find("."+b).on("mouseover",function(){var e="vertical"===a.type?a.height:i.elemTemp[0].offsetWidth,t=i.elemTemp.find("."+g),t=("vertical"===a.type?e-m(this).parent()[0].offsetTop-t.height():m(this).parent()[0].offsetLeft)/e*100,e=m(this).parent().data("value"),e=a.setTips?a.setTips(e):e;i.elemTemp.find("."+x).html(e),"vertical"===a.type?i.elemTemp.find("."+x).css({bottom:t+"%","margin-bottom":"20px",display:"inline-block"}):i.elemTemp.find("."+x).css({left:t+"%",display:"inline-block"})}).on("mouseout",function(){i.elemTemp.find("."+x).css("display","none")})},t.prototype.slide=function(e,t,i){function r(){return"vertical"===c.type?c.height:u[0].offsetWidth}function s(e,t){e=100<(e=100<Math.ceil(e)*h?Math.ceil(e)*h:Math.round(e)*h)?100:e,d.eq(t).css("vertical"===c.type?"bottom":"left",e+"%");var i=f(d[0].offsetLeft),a=c.range?f(d[1].offsetLeft):0;"vertical"===c.type?(u.find("."+x).css({bottom:e+"%","margin-bottom":"20px"}),i=f(r()-d[0].offsetTop-d.height()),a=c.range?f(r()-d[1].offsetTop-d.height()):0):u.find("."+x).css("left",e+"%");var i=100<i?100:i,a=100<a?100:a,n=Math.min(i,a),a=Math.abs(i-a);"vertical"===c.type?u.find("."+v).css({height:a+"%",bottom:n+"%"}):u.find("."+v).css({width:a+"%",left:n+"%"});var l,e=c.min+Math.round((c.max-c.min)*e/100);y=e,o.children("."+k).children("input").val(y),d.eq(t).data("value",e),u.find("."+x).html(c.setTips?c.setTips(e):e),c.range&&(l=[d.eq(0).data("value"),d.eq(1).data("value")])[0]>l[1]&&l.reverse(),c.change&&c.change(c.range?l:e)}var c=this.config,u=this.elemTemp,d=u.find("."+g),o=u.next(".layui-slider-input"),y=o.children("."+k).children("input").val(),h=100/((c.max-c.min)/Math.ceil(c.step)),f=function(e){var t=e/r()*100/h,i=Math.round(t)*h;return i=e==r()?Math.ceil(t)*h:i},p=m(['<div class="layui-auxiliar-moving" id="LAY-slider-moving"></div'].join(""));if("set"===e)return s(t,i);u.find("."+b).each(function(l){var o=m(this);o.on("mousedown",function(e){e=e||window.event;var i=o.parent()[0].offsetLeft,a=e.clientX;"vertical"===c.type&&(i=r()-o.parent()[0].offsetTop-d.height(),a=e.clientY);var t;function n(){t&&t(),p.remove()}e=function(e){e=e||window.event;var t=i+("vertical"===c.type?a-e.clientY:e.clientX-a),t=(t=(t=t<0?0:t)>r()?r():t)/r()*100/h;s(t,l),o.addClass(C),u.find("."+x).show(),e.preventDefault()},t=function(){o.removeClass(C),u.find("."+x).hide()},m("#LAY-slider-moving")[0]||m("body").append(p),p.on("mousemove",e),p.on("mouseup",n).on("mouseleave",n)})}),u.on("click",function(e){var t,i=m("."+b);!i.is(event.target)&&0===i.has(event.target).length&&i.length&&(i=(t=(t=(t="vertical"===c.type?r()-e.clientY+m(this).offset().top:e.clientX-m(this).offset().left)<0?0:t)>r()?r():t)/r()*100/h,t=c.range?"vertical"===c.type?Math.abs(t-parseInt(m(d[0]).css("bottom")))>Math.abs(t-parseInt(m(d[1]).css("bottom")))?1:0:Math.abs(t-d[0].offsetLeft)>Math.abs(t-d[1].offsetLeft)?1:0:0,s(i,t),e.preventDefault())}),o.children(".layui-slider-input-btn").children("i").each(function(t){m(this).on("click",function(){y=o.children("."+k).children("input").val();var e=((y=1==t?y-c.step<c.min?c.min:Number(y)-c.step:Number(y)+c.step>c.max?c.max:Number(y)+c.step)-c.min)/(c.max-c.min)*100/h;s(e,0)})});function a(){var e=this.value;e=(e=(e=isNaN(e)?0:e)<c.min?c.min:e)>c.max?c.max:e,e=((this.value=e)-c.min)/(c.max-c.min)*100/h,s(e,0)}o.children("."+k).children("input").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),a.call(this))}).on("change",a)},t.prototype.events=function(){this.config},i.render=function(e){e=new t(e);return function(){var i=this,a=i.config;return{setValue:function(e,t){return a.value=e,i.slide("set",e,t||0)},config:a}}.call(e)},e(a,i)}),layui.define(["jquery","lay"],function(e){"use strict";function b(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),a=Math.max(e.r,e.g,e.b),n=a-i;return t.b=a,t.s=0!=a?255*n/a:0,0!=t.s?e.r==a?t.h=(e.g-e.b)/n:e.g==a?t.h=2+(e.b-e.r)/n:t.h=4+(e.r-e.g)/n:t.h=-1,a==i&&(t.h=0),t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function x(e){var t={},i=e.h,a=255*e.s/100,n=255*e.b/100;return 0==a?t.r=t.g=t.b=n:(n=i%60*((e=n)-(a=(255-a)*n/255))/60,(i=360==i?0:i)<60?(t.r=e,t.b=a,t.g=a+n):i<120?(t.g=e,t.b=a,t.r=e-n):i<180?(t.g=e,t.r=a,t.b=a+n):i<240?(t.b=e,t.r=a,t.g=e-n):i<300?(t.b=e,t.g=a,t.r=a+n):i<360?(t.r=e,t.g=a,t.b=e-n):(t.r=0,t.g=0,t.b=0)),{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function d(e){var i=[(e=x(e)).r.toString(16),e.g.toString(16),e.b.toString(16)];return C.each(i,function(e,t){1==t.length&&(i[e]="0"+t)}),i.join("")}function k(e){return{r:(e=e.match(/[0-9]{1,3}/g)||[])[0],g:e[1],b:e[2]}}function n(e){this.index=++t.index,this.config=C.extend({},this.config,t.config,e),this.render()}var C=layui.jquery,i=layui.lay,a=layui.device().mobile?"click":"mousedown",t={config:{},index:layui.colorpicker?layui.colorpicker.index+1e4:0,set:function(e){return this.config=C.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,"colorpicker",e,t)}},l="layui-colorpicker",o=".layui-colorpicker-main",w="layui-icon-down",T="layui-icon-close",E="layui-colorpicker-trigger-span",D="layui-colorpicker-trigger-i",L="layui-colorpicker-side-slider",A="layui-colorpicker-basis",M="layui-colorpicker-alpha-bgcolor",S="layui-colorpicker-alpha-slider",j="layui-colorpicker-basis-cursor",I="layui-colorpicker-main-input",N=C(window),r=C(document);n.prototype.config={color:"",size:null,alpha:!1,format:"hex",predefine:!1,colors:["#009688","#5FB878","#1E9FFF","#FF5722","#FFB800","#01AAED","#999","#c00","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgb(0, 186, 189)","rgb(255, 120, 0)","rgb(250, 212, 0)","#393D49","rgba(0,0,0,.5)","rgba(255, 69, 0, 0.68)","rgba(144, 240, 144, 0.5)","rgba(31, 147, 255, 0.73)"]},n.prototype.render=function(){var e,t=this,i=t.config,a=C(['<div class="layui-unselect layui-colorpicker">',"<span "+("rgb"==i.format&&i.alpha?'class="layui-colorpicker-trigger-bgcolor"':"")+">",'<span class="layui-colorpicker-trigger-span" ','lay-type="'+("rgb"==i.format?i.alpha?"rgba":"torgb":"")+'" ','style="'+(e="",i.color?(e=i.color,3<(i.color.match(/[0-9]{1,3}/g)||[]).length&&(i.alpha&&"rgb"==i.format||(e="#"+d(b(k(i.color))))),"background: "+e):e)+'">','<i class="layui-icon layui-colorpicker-trigger-i '+(i.color?w:T)+'"></i>',"</span>","</span>","</div>"].join("")),e=C(i.elem);i.size&&a.addClass("layui-colorpicker-"+i.size),e.addClass("layui-inline").html(t.elemColorBox=a),t.color=t.elemColorBox.find("."+E)[0].style.background,t.events()},n.prototype.renderPicker=function(){var e=this,t=e.config,i=e.elemColorBox[0],a=e.elemPicker=C(['<div id="layui-colorpicker'+e.index+'" data-index="'+e.index+'" class="layui-anim layui-anim-downbit layui-colorpicker-main">','<div class="layui-colorpicker-main-wrapper">','<div class="layui-colorpicker-basis">','<div class="layui-colorpicker-basis-white"></div>','<div class="layui-colorpicker-basis-black"></div>','<div class="layui-colorpicker-basis-cursor"></div>',"</div>",'<div class="layui-colorpicker-side">','<div class="layui-colorpicker-side-slider"></div>',"</div>","</div>",'<div class="layui-colorpicker-main-alpha '+(t.alpha?"layui-show":"")+'">','<div class="layui-colorpicker-alpha-bgcolor">','<div class="layui-colorpicker-alpha-slider"></div>',"</div>","</div>",function(){if(t.predefine){var i=['<div class="layui-colorpicker-main-pre">'];return layui.each(t.colors,function(e,t){i.push(['<div class="layui-colorpicker-pre'+(3<(t.match(/[0-9]{1,3}/g)||[]).length?" layui-colorpicker-pre-isalpha":"")+'">','<div style="background:'+t+'"></div>',"</div>"].join(""))}),i.push("</div>"),i.join("")}return""}(),'<div class="layui-colorpicker-main-input">','<div class="layui-inline">','<input type="text" class="layui-input">',"</div>",'<div class="layui-btn-container">','<button class="layui-btn layui-btn-primary layui-btn-sm" colorpicker-events="clear">清空</button>','<button class="layui-btn layui-btn-sm" colorpicker-events="confirm">确定</button>',"</div","</div>","</div>"].join(""));e.elemColorBox.find("."+E)[0],C(o)[0]&&C(o).data("index")==e.index?e.removePicker(n.thisElemInd):(e.removePicker(n.thisElemInd),C("body").append(a)),n.thisElemInd=e.index,n.thisColor=i.style.background,e.position(),e.pickerEvents()},n.prototype.removePicker=function(e){return this.config,C("#layui-colorpicker"+(e||this.index)).remove(),this},n.prototype.position=function(){var e=this,t=e.config;return i.position(e.bindElem||e.elemColorBox[0],e.elemPicker[0],{position:t.position,align:"center"}),e},n.prototype.val=function(){var e,t=this,i=(t.config,t.elemColorBox.find("."+E)),a=t.elemPicker.find("."+I),n=i[0].style.backgroundColor;n?(e=b(k(n)),i=i.attr("lay-type"),t.select(e.h,e.s,e.b),"torgb"===i&&a.find("input").val(n),"rgba"===i&&(i=k(n),3==(n.match(/[0-9]{1,3}/g)||[]).length?(a.find("input").val("rgba("+i.r+", "+i.g+", "+i.b+", 1)"),t.elemPicker.find("."+S).css("left",280)):(a.find("input").val(n),n=280*n.slice(n.lastIndexOf(",")+1,n.length-1),t.elemPicker.find("."+S).css("left",n)),t.elemPicker.find("."+M)[0].style.background="linear-gradient(to right, rgba("+i.r+", "+i.g+", "+i.b+", 0), rgb("+i.r+", "+i.g+", "+i.b+"))")):(t.select(0,100,100),a.find("input").val(""),t.elemPicker.find("."+M)[0].style.background="",t.elemPicker.find("."+S).css("left",280))},n.prototype.side=function(){function c(e,t,i,a){n.select(e,t,i),i=x({h:e,s:t,b:i}),v.addClass(w).removeClass(T),o[0].style.background="rgb("+i.r+", "+i.g+", "+i.b+")","torgb"===r&&n.elemPicker.find("."+I).find("input").val("rgb("+i.r+", "+i.g+", "+i.b+")"),"rgba"===r&&(y.css("left",280*a),n.elemPicker.find("."+I).find("input").val("rgba("+i.r+", "+i.g+", "+i.b+", "+a+")"),o[0].style.background="rgba("+i.r+", "+i.g+", "+i.b+", "+a+")",d[0].style.background="linear-gradient(to right, rgba("+i.r+", "+i.g+", "+i.b+", 0), rgb("+i.r+", "+i.g+", "+i.b+"))"),l.change&&l.change(n.elemPicker.find("."+I).find("input").val())}function t(e){C("#LAY-colorpicker-moving")[0]||C("body").append(g),g.on("mousemove",e),g.on("mouseup",function(){g.remove()}).on("mouseleave",function(){g.remove()})}var n=this,l=n.config,o=n.elemColorBox.find("."+E),r=o.attr("lay-type"),s=n.elemPicker.find(".layui-colorpicker-side"),e=n.elemPicker.find("."+L),u=n.elemPicker.find("."+A),a=n.elemPicker.find("."+j),d=n.elemPicker.find("."+M),y=n.elemPicker.find("."+S),h=e[0].offsetTop/180*360,f=100-(a[0].offsetTop+3)/180*100,p=(a[0].offsetLeft+3)/260*100,m=Math.round(y[0].offsetLeft/280*100)/100,v=n.elemColorBox.find("."+D),i=n.elemPicker.find(".layui-colorpicker-pre").children("div"),g=C(['<div class="layui-auxiliar-moving" id="LAY-colorpicker-moving"></div>'].join(""));e.on("mousedown",function(e){var a=this.offsetTop,n=e.clientY;t(function(e){var t=a+(e.clientY-n),i=s[0].offsetHeight,t=(t=i<(t=t<0?0:t)?i:t)/180*360;c(h=t,p,f,m),e.preventDefault()}),e.preventDefault()}),s.on("click",function(e){var t=e.clientY-C(this).offset().top,t=(t=(t=t<0?0:t)>this.offsetHeight?this.offsetHeight:t)/180*360;c(h=t,p,f,m),e.preventDefault()}),a.on("mousedown",function(e){var l=this.offsetTop,o=this.offsetLeft,r=e.clientY,s=e.clientX;layui.stope(e),t(function(e){var t=l+(e.clientY-r),i=o+(e.clientX-s),a=u[0].offsetHeight-3,n=u[0].offsetWidth-3,i=((i=n<(i=i<-3?-3:i)?n:i)+3)/260*100,t=100-((t=a<(t=t<-3?-3:t)?a:t)+3)/180*100;c(h,p=i,f=t,m),e.preventDefault()}),e.preventDefault()}),u.on("mousedown",function(e){var t=e.clientY-C(this).offset().top-3+N.scrollTop(),i=e.clientX-C(this).offset().left-3+N.scrollLeft();(t=t<-3?-3:t)>this.offsetHeight-3&&(t=this.offsetHeight-3);i=((i=(i=i<-3?-3:i)>this.offsetWidth-3?this.offsetWidth-3:i)+3)/260*100,t=100-(t+3)/180*100;c(h,p=i,f=t,m),layui.stope(e),e.preventDefault(),a.trigger(e,"mousedown")}),y.on("mousedown",function(e){var a=this.offsetLeft,n=e.clientX;t(function(e){var t=a+(e.clientX-n),i=d[0].offsetWidth;i<(t=t<0?0:t)&&(t=i);t=Math.round(t/280*100)/100;c(h,p,f,m=t),e.preventDefault()}),e.preventDefault()}),d.on("click",function(e){var t=e.clientX-C(this).offset().left;(t=t<0?0:t)>this.offsetWidth&&(t=this.offsetWidth);t=Math.round(t/280*100)/100;c(h,p,f,m=t),e.preventDefault()}),i.each(function(){C(this).on("click",function(){C(this).parent(".layui-colorpicker-pre").addClass("selected").siblings().removeClass("selected");var e=this.style.backgroundColor,t=b(k(e)),i=e.slice(e.lastIndexOf(",")+1,e.length-1);h=t.h,p=t.s,f=t.b,3==(e.match(/[0-9]{1,3}/g)||[]).length&&(i=1),m=i,c(t.h,t.s,t.b,i)})})},n.prototype.select=function(e,t,i,a){var n=this,l=(n.config,d({h:e,s:100,b:100})),o=d({h:e,s:t,b:i}),e=e/360*180,i=180-i/100*180-3,t=t/100*260-3;n.elemPicker.find("."+L).css("top",e),n.elemPicker.find("."+A)[0].style.background="#"+l,n.elemPicker.find("."+j).css({top:i,left:t}),"change"!==a&&n.elemPicker.find("."+I).find("input").val("#"+o)},n.prototype.pickerEvents=function(){var r=this,s=r.config,c=r.elemColorBox.find("."+E),u=r.elemPicker.find("."+I+" input"),i={clear:function(e){c[0].style.background="",r.elemColorBox.find("."+D).removeClass(w).addClass(T),r.color="",s.done&&s.done(""),r.removePicker()},confirm:function(e,t){var i,a,n=u.val(),l=n,o={};return-1<n.indexOf(",")?(o=b(k(n)),r.select(o.h,o.s,o.b),c[0].style.background=l="#"+d(o),3<(n.match(/[0-9]{1,3}/g)||[]).length&&"rgba"===c.attr("lay-type")&&(a=280*n.slice(n.lastIndexOf(",")+1,n.length-1),r.elemPicker.find("."+S).css("left",a),l=c[0].style.background=n)):(3==(i=-1<(i=n).indexOf("#")?i.substring(1):i).length&&(i=(a=i.split(""))[0]+a[0]+a[1]+a[1]+a[2]+a[2]),i=parseInt(i,16),o=b({r:i>>16,g:(65280&i)>>8,b:255&i}),c[0].style.background=l="#"+d(o),r.elemColorBox.find("."+D).removeClass(T).addClass(w)),"change"===t?(r.select(o.h,o.s,o.b,t),void(s.change&&s.change(l))):(r.color=n,s.done&&s.done(n),void r.removePicker())}};r.elemPicker.on("click","*[colorpicker-events]",function(){var e=C(this),t=e.attr("colorpicker-events");i[t]&&i[t].call(this,e)}),u.on("keyup",function(e){var t=C(this);i.confirm.call(this,t,13===e.keyCode?null:"change")})},n.prototype.events=function(){var t=this,e=t.config,i=t.elemColorBox.find("."+E);t.elemColorBox.on("click",function(){t.renderPicker(),C(o)[0]&&(t.val(),t.side())}),e.elem[0]&&!t.elemColorBox[0].eventHandler&&(r.on(a,function(e){C(e.target).hasClass(l)||C(e.target).parents("."+l)[0]||C(e.target).hasClass(o.replace(/\./g,""))||C(e.target).parents(o)[0]||!t.elemPicker||(t.color?(e=b(k(t.color)),t.select(e.h,e.s,e.b)):t.elemColorBox.find("."+D).removeClass(w).addClass(T),i[0].style.background=t.color||"",t.removePicker())}),N.on("resize",function(){return!(!t.elemPicker||!C(o)[0])&&void t.position()}),t.elemColorBox[0].eventHandler=!0)},t.render=function(e){e=new n(e);return function(){return{config:this.config}}.call(e)},e("colorpicker",t)}),layui.define("layer",function(e){"use strict";function t(){this.config={verify:{required:[/[\S]+/,"必填项不能为空"],phone:[/^1\d{10}$/,"请输入正确的手机号"],email:[/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"邮箱格式不正确"],url:[/^(#|(http(s?)):\/\/|\/\/)[^\s]+\.[^\s]+$/,"链接格式不正确"],number:function(e){if(!e||isNaN(e))return"只能填写数字"},date:[/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/,"日期格式不正确"],identity:[/(^\d{15}$)|(^\d{17}(x|X|\d)$)/,"请输入正确的身份证号"]},autocomplete:null}}var x=layui.$,y=layui.layer,n=layui.hint(),h=layui.device(),k="form",s=".layui-form",C="layui-this",w="layui-hide",T="layui-disabled";t.prototype.set=function(e){return x.extend(!0,this.config,e),this},t.prototype.verify=function(e){return x.extend(!0,this.config.verify,e),this},t.prototype.on=function(e,t){return layui.onevent.call(this,k,e,t)},t.prototype.val=function(e,i){return x(s+'[lay-filter="'+e+'"]').each(function(e,t){var a=x(this);layui.each(i,function(e,t){var i=a.find('[name="'+e+'"]');i[0]&&("checkbox"===(e=i[0].type)?i[0].checked=t:"radio"===e?i.each(function(){this.value==t&&(this.checked=!0)}):i.val(t))})}),l.render(null,e),this.getValue(e)},t.prototype.getValue=function(e,t){t=t||x(s+'[lay-filter="'+e+'"]').eq(0);var a={},n={},t=t.find("input,select,textarea");return layui.each(t,function(e,t){var i;x(this),t.name=(t.name||"").replace(/^\s*|\s*&/,""),t.name&&(/^.*\[\]$/.test(t.name)&&(i=t.name.match(/^(.*)\[\]$/g)[0],a[i]=0|a[i],i=t.name.replace(/^(.*)\[\]$/,"$1["+a[i]+++"]")),/^checkbox|radio$/.test(t.type)&&!t.checked||(n[i||t.name]=t.value))}),n},t.prototype.render=function(e,t){var i=this.config,a=x(s+(t?'[lay-filter="'+t+'"]':"")),t={input:function(){var e=a.find("input,textarea");i.autocomplete&&e.attr("autocomplete",i.autocomplete)},select:function(){function f(e,t){x(e.target).parent().hasClass(v)&&!t||(x("."+m).removeClass(m+"ed "+m+"up"),p&&b&&p.val(b)),p=null}var p,c="请选择",m="layui-form-select",v="layui-select-title",g="layui-select-none",b="",e=a.find("select");e.each(function(e,t){var i=x(this),a=i.next("."+m),n=this.disabled,l=t.value,o=x(t.options[t.selectedIndex]),r=t.options[0];if("string"==typeof i.attr("lay-ignore"))return i.show();var s,t="string"==typeof i.attr("lay-search"),r=r&&!r.value&&r.innerHTML||c,o=x(['<div class="'+(t?"":"layui-unselect ")+m,(n?" layui-select-disabled":"")+'">','<div class="'+v+'">','<input type="text" placeholder="'+x.trim(r)+'" value="'+x.trim(l?o.html():"")+'"'+(!n&&t?"":" readonly")+' class="layui-input'+(t?"":" layui-unselect")+(n?" "+T:"")+'">','<i class="layui-edge"></i></div>','<dl class="layui-anim layui-anim-upbit'+(i.find("optgroup")[0]?" layui-select-group":"")+'">',(o=i.find("*"),s=[],layui.each(o,function(e,t){0!==e||t.value?"optgroup"===t.tagName.toLowerCase()?s.push("<dt>"+t.label+"</dt>"):s.push('<dd lay-value="'+t.value+'" class="'+(l===t.value?C:"")+(t.disabled?" "+T:"")+'">'+x.trim(t.innerHTML)+"</dd>"):s.push('<dd lay-value="" class="layui-select-tips">'+x.trim(t.innerHTML||c)+"</dd>")}),0===s.length&&s.push('<dd lay-value="" class="'+T+'">没有选项</dd>'),s.join("")+"</dl>"),"</div>"].join(""));a[0]&&a.remove(),i.after(o),function(a,e,t){var r,i,n,s,c,l,o=x(this),u=a.find("."+v),d=u.find("input"),y=a.find("dl"),h=y.children("dd");this.selectedIndex;e||(n=function(){var e=a.offset().top+a.outerHeight()+5-E.scrollTop(),t=y.outerHeight();i=o[0].selectedIndex,a.addClass(m+"ed"),h.removeClass(w),r=null,h.eq(i).addClass(C).siblings().removeClass(C),e+t>E.height()&&t<=e&&a.addClass(m+"up"),c()},s=function(e){a.removeClass(m+"ed "+m+"up"),d.blur(),r=null,e||l(d.val(),function(e){var t=o[0].selectedIndex;e&&(b=x(o[0].options[t]).html(),0===t&&b===d.attr("placeholder")&&(b=""),d.val(b||""))})},c=function(){var e,t,i=y.children("dd."+C);i[0]&&(e=i.position().top,t=y.height(),i=i.height(),t<e&&y.scrollTop(e+y.scrollTop()-t+i-5),e<0&&y.scrollTop(e+y.scrollTop()-5))},u.on("click",function(e){a.hasClass(m+"ed")?s():(f(e,!0),n()),y.find("."+g).remove()}),u.find(".layui-edge").on("click",function(){d.focus()}),d.on("keyup",function(e){9===e.keyCode&&n()}).on("keydown",function(l){var e=l.keyCode;9===e&&s();var o=function(a,n){l.preventDefault();var e=function(){var e=y.children("dd."+C);if(y.children("dd."+w)[0]&&"next"===a){var t=y.children("dd:not(."+w+",."+T+")"),i=t.eq(0).index();if(0<=i&&i<e.index()&&!t.hasClass(C))return t.eq(0).prev()[0]?t.eq(0).prev():y.children(":last")}return n&&n[0]?n:r&&r[0]?r:e}(),t=e[a](),i=e[a]("dd:not(."+w+")");return t[0]?(r=e[a](),i[0]&&!i.hasClass(T)||!r[0]?(i.addClass(C).siblings().removeClass(C),void c()):o(a,r)):r=null};38===e&&o("prev"),40===e&&o("next"),13===e&&(l.preventDefault(),y.children("dd."+C).trigger("click"))}),l=function(a,e,n){var l=0;layui.each(h,function(){var e=x(this),t=e.text(),i=-1===t.indexOf(a);(""===a||"blur"===n?a!==t:i)&&l++,"keyup"===n&&e[i?"addClass":"removeClass"](w)});var t=l===h.length;return e(t),t},t&&d.on("keyup",function(e){var t=this.value,e=e.keyCode;return 9!==e&&13!==e&&37!==e&&38!==e&&39!==e&&40!==e&&(l(t,function(e){e?y.find("."+g)[0]||y.append('<p class="'+g+'">无匹配项</p>'):y.find("."+g).remove()},"keyup"),""===t&&y.find("."+g).remove(),void c())}).on("blur",function(e){var t=o[0].selectedIndex;p=d,b=x(o[0].options[t]).html(),0===t&&b===d.attr("placeholder")&&(b=""),setTimeout(function(){l(d.val(),function(e){b||d.val("")},"blur")},200)}),h.on("click",function(){var e=x(this),t=e.attr("lay-value"),i=o.attr("lay-filter");return!e.hasClass(T)&&(e.hasClass("layui-select-tips")?d.val(""):(d.val(e.text()),e.addClass(C)),e.siblings().removeClass(C),o.val(t).removeClass("layui-form-danger"),layui.event.call(this,k,"select("+i+")",{elem:o[0],value:t,othis:a}),s(!0),!1)}),a.find("dl>dt").on("click",function(e){return!1}),x(document).off("click",f).on("click",f))}.call(this,o,n,t)})},checkbox:function(){var s={checkbox:["layui-form-checkbox","layui-form-checked","checkbox"],_switch:["layui-form-switch","layui-form-onswitch","switch"]},e=a.find("input[type=checkbox]");e.each(function(e,t){var i=x(this),a=i.attr("lay-skin"),n=(i.attr("lay-text")||"").split("|"),l=this.disabled,o=s[a="switch"===a?"_"+a:a]||s.checkbox;if("string"==typeof i.attr("lay-ignore"))return i.show();var r=i.next("."+o[0]),n=x(['<div class="layui-unselect '+o[0],t.checked?" "+o[1]:"",l?" layui-checkbox-disabled "+T:"",'"',a?' lay-skin="'+a+'"':"",">",(n={checkbox:[t.title.replace(/\s/g,"")?"<span>"+t.title+"</span>":"",'<i class="layui-icon layui-icon-ok"></i>'].join(""),_switch:"<em>"+((t.checked?n[0]:n[1])||"")+"</em><i></i>"})[a]||n.checkbox,"</div>"].join(""));r[0]&&r.remove(),i.after(n),function(i,a){var n=x(this);i.on("click",function(){var e=n.attr("lay-filter"),t=(n.attr("lay-text")||"").split("|");n[0].disabled||(n[0].checked?(n[0].checked=!1,i.removeClass(a[1]).find("em").text(t[1])):(n[0].checked=!0,i.addClass(a[1]).find("em").text(t[0])),layui.event.call(n[0],k,a[2]+"("+e+")",{elem:n[0],value:n[0].value,othis:i}))})}.call(this,n,o)})},radio:function(){var o="layui-form-radio",r=["&#xe643;","&#xe63f;"],e=a.find("input[type=radio]");e.each(function(e,t){var i=x(this),a=i.next("."+o),n=this.disabled;if("string"==typeof i.attr("lay-ignore"))return i.show();a[0]&&a.remove();t=x(['<div class="layui-unselect '+o,t.checked?" "+o+"ed":"",(n?" layui-radio-disabled "+T:"")+'">','<i class="layui-anim layui-icon">'+r[t.checked?0:1]+"</i>","<div>"+(t=t.title||"",t="string"==typeof i.next().attr("lay-radio")?i.next().html():t)+"</div>","</div>"].join(""));i.after(t),function(a){var n=x(this),l="layui-anim-scaleSpring";a.on("click",function(){var e=n[0].name,t=n.parents(s),i=n.attr("lay-filter"),e=t.find("input[name="+e.replace(/(\.|#|\[|\])/g,"\\$1")+"]");n[0].disabled||(layui.each(e,function(){var e=x(this).next("."+o);this.checked=!1,e.removeClass(o+"ed"),e.find(".layui-icon").removeClass(l).html(r[1])}),n[0].checked=!0,a.addClass(o+"ed"),a.find(".layui-icon").addClass(l).html(r[0]),layui.event.call(n[0],k,"radio("+i+")",{elem:n[0],value:n[0].value,othis:a}))})}.call(this,t)})}};return e?t[e]?t[e]():n.error('不支持的 "'+e+'" 表单渲染'):layui.each(t,function(e,t){t()}),this};function i(){var c=null,u=l.config.verify,d="layui-form-danger",e=(a=x(this)).parents(s).eq(0),t=e.find("*[lay-verify]"),i=a.parents("form")[0],a=a.attr("lay-filter");return layui.each(t,function(e,l){var o=x(this),t=o.attr("lay-verify").split("|"),r=o.attr("lay-verType"),s=o.val();if(o.removeClass(d),layui.each(t,function(e,t){var i="",a="function"==typeof u[t];if(u[t]){var a=a?i=u[t](s,l):!u[t][0].test(s),n="select"===l.tagName.toLowerCase()||/^checkbox|radio$/.test(l.type),i=i||u[t][1];if("required"===t&&(i=o.attr("lay-reqText")||i),a)return"tips"===r?y.tips(i,"string"!=typeof o.attr("lay-ignore")&&n?o.next():o,{tips:1}):"alert"===r?y.alert(i,{title:"提示",shadeClose:!0}):/\bstring|number\b/.test(typeof i)&&y.msg(i,{icon:5,shift:6}),h.mobile?f.scrollTop(function(){try{return(n?o.next():o).offset().top-15}catch(e){return 0}}()):setTimeout(function(){(n?o.next().find("input"):l).focus()},7),o.addClass(d),c=!0}}),c)return c}),!c&&(e=l.getValue(null,e),layui.event.call(this,k,"submit("+a+")",{elem:this,form:i,field:e}))}var l=new t,f=x(document),E=x(window);x(function(){l.render()}),f.on("reset",s,function(){var e=x(this).attr("lay-filter");setTimeout(function(){l.render(null,e)},50)}),f.on("submit",s,i).on("click","*[lay-submit]",i),e(k,l)}),layui.define("form",function(e){"use strict";function t(e){this.index=++n.index,this.config=y.extend({},this.config,n.config,e),this.render()}var y=layui.$,i=layui.form,h=layui.layer,a="tree",n={config:{},index:layui[a]?layui[a].index+1e4:0,set:function(e){return this.config=y.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,a,e,t)}},l=function(){var t=this,e=t.config,i=e.id||t.index;return l.that[i]=t,{config:l.config[i]=e,reload:function(e){t.reload.call(t,e)},getChecked:function(){return t.getChecked.call(t)},setChecked:function(e){return t.setChecked.call(t,e)}}},f="layui-hide",s="layui-disabled",p="layui-tree-set",m="layui-tree-iconClick",v="layui-icon-addition",g="layui-icon-subtraction",b="layui-tree-entry",x="layui-tree-main",k="layui-tree-txt",C="layui-tree-pack",w="layui-tree-spread",T="layui-tree-setLineShort",E="layui-tree-showLine",D="layui-tree-lineExtend";t.prototype.config={data:[],showCheckbox:!1,showLine:!0,accordion:!1,onlyIconControl:!1,isJump:!1,edit:!1,text:{defaultNodeName:"未命名",none:"无数据"}},t.prototype.reload=function(e){var i=this;layui.each(e,function(e,t){"array"===layui._typeof(t)&&delete i.config[e]}),i.config=y.extend(!0,{},i.config,e),i.render()},t.prototype.render=function(){var e=this,t=e.config;e.checkids=[];var i=y('<div class="layui-tree'+(t.showCheckbox?" layui-form":"")+(t.showLine?" layui-tree-line":"")+'" lay-filter="LAY-tree-'+e.index+'"></div>');e.tree(i);var a=t.elem=y(t.elem);if(a[0]){if(e.key=t.id||e.index,e.elem=i,e.elemNone=y('<div class="layui-tree-emptyText">'+t.text.none+"</div>"),a.html(e.elem),0==e.elem.find(".layui-tree-set").length)return e.elem.append(e.elemNone);t.showCheckbox&&e.renderForm("checkbox"),e.elem.find(".layui-tree-set").each(function(){var e=y(this);e.parent(".layui-tree-pack")[0]||e.addClass("layui-tree-setHide"),!e.next()[0]&&e.parents(".layui-tree-pack").eq(1).hasClass("layui-tree-lineExtend")&&e.addClass(T),e.next()[0]||e.parents(".layui-tree-set").eq(0).next()[0]||e.addClass(T)}),e.events()}},t.prototype.renderForm=function(e){i.render(e,"LAY-tree-"+this.index)},t.prototype.tree=function(l,e){var o=this,r=o.config,e=e||r.data;layui.each(e,function(e,t){var i=t.children&&0<t.children.length,a=y('<div class="layui-tree-pack" '+(t.spread?'style="display: block;"':"")+"></div>"),n=y(['<div data-id="'+t.id+'" class="layui-tree-set'+(t.spread?" layui-tree-spread":"")+(t.checked?" layui-tree-checkedFirst":"")+'">','<div class="layui-tree-entry">','<div class="layui-tree-main">',r.showLine?i?'<span class="layui-tree-iconClick layui-tree-icon"><i class="layui-icon '+(t.spread?"layui-icon-subtraction":"layui-icon-addition")+'"></i></span>':'<span class="layui-tree-iconClick"><i class="layui-icon layui-icon-file"></i></span>':'<span class="layui-tree-iconClick"><i class="layui-tree-iconArrow '+(i?"":f)+'"></i></span>',r.showCheckbox?'<input type="checkbox" name="'+(t.field||"layuiTreeCheck_"+t.id)+'" same="layuiTreeCheck" lay-skin="primary" '+(t.disabled?"disabled":"")+' value="'+t.id+'">':"",r.isJump&&t.href?'<a href="'+t.href+'" target="_blank" class="'+k+'">'+(t.title||t.label||r.text.defaultNodeName)+"</a>":'<span class="'+k+(t.disabled?" "+s:"")+'">'+(t.title||t.label||r.text.defaultNodeName)+"</span>","</div>",function(){if(!r.edit)return"";var i={add:'<i class="layui-icon layui-icon-add-1"  data-type="add"></i>',update:'<i class="layui-icon layui-icon-edit" data-type="update"></i>',del:'<i class="layui-icon layui-icon-delete" data-type="del"></i>'},a=['<div class="layui-btn-group layui-tree-btnGroup">'];return!0===r.edit&&(r.edit=["update","del"]),"object"==typeof r.edit?(layui.each(r.edit,function(e,t){a.push(i[t]||"")}),a.join("")+"</div>"):void 0}(),"</div></div>"].join(""));i&&(n.append(a),o.tree(a,t.children)),l.append(n),n.prev("."+p)[0]&&n.prev().children(".layui-tree-pack").addClass("layui-tree-showLine"),i||n.parent(".layui-tree-pack").addClass("layui-tree-lineExtend"),o.spread(n,t),r.showCheckbox&&(t.checked&&o.checkids.push(t.id),o.checkClick(n,t)),r.edit&&o.operate(n,t)})},t.prototype.spread=function(a,e){var n=this.config,t=a.children("."+b),i=t.children("."+x),l=t.find("."+m),t=t.find("."+k),o=n.onlyIconControl?l:i,r="";o.on("click",function(e){var t=a.children("."+C),i=(o.children(".layui-icon")[0]?o:o.find(".layui-tree-icon")).children(".layui-icon");t[0]?a.hasClass(w)?(a.removeClass(w),t.slideUp(200),i.removeClass(g).addClass(v)):(a.addClass(w),t.slideDown(200),i.addClass(g).removeClass(v),n.accordion&&((i=a.siblings("."+p)).removeClass(w),i.children("."+C).slideUp(200),i.find(".layui-tree-icon").children(".layui-icon").removeClass(g).addClass(v))):r="normal"}),t.on("click",function(){y(this).hasClass(s)||(r=a.hasClass(w)?n.onlyIconControl?"open":"close":n.onlyIconControl?"close":"open",n.click&&n.click({elem:a,state:r,data:e}))})},t.prototype.setCheckbox=function(e,t,i){var n,l=(this.config,i.prop("checked"));i.prop("disabled")||("object"!=typeof t.children&&!e.find("."+C)[0]||e.find("."+C).find('input[same="layuiTreeCheck"]').each(function(){this.disabled||(this.checked=l)}),(n=function(e){var t,i,a;e.parents("."+p)[0]&&(a=(i=e.parent("."+C)).parent(),e=i.prev().find('input[same="layuiTreeCheck"]'),l?e.prop("checked",l):(i.find('input[same="layuiTreeCheck"]').each(function(){this.checked&&(t=!0)}),t||e.prop("checked",!1)),n(a))})(e),this.renderForm("checkbox"))},t.prototype.checkClick=function(i,a){var n=this,l=n.config;i.children("."+b).children("."+x).on("click",'input[same="layuiTreeCheck"]+',function(e){layui.stope(e);var t=y(this).prev(),e=t.prop("checked");t.prop("disabled")||(n.setCheckbox(i,a,t),l.oncheck&&l.oncheck({elem:i,checked:e,data:a}))})},t.prototype.operate=function(s,l){var c=this,u=c.config,e=s.children("."+b),d=e.children("."+x);e.children(".layui-tree-btnGroup").on("click",".layui-icon",function(e){layui.stope(e);var t,i,a,n=y(this).data("type"),o=s.children("."+C),r={data:l,type:n,elem:s};"add"==n?(o[0]||(u.showLine?(d.find("."+m).addClass("layui-tree-icon"),d.find("."+m).children(".layui-icon").addClass(v).removeClass("layui-icon-file")):d.find(".layui-tree-iconArrow").removeClass(f),s.append('<div class="layui-tree-pack"></div>')),t=u.operate&&u.operate(r),(e={}).title=u.text.defaultNodeName,e.id=t,c.tree(s.children("."+C),[e]),u.showLine&&(o[0]?(o.hasClass(D)||o.addClass(D),s.find("."+C).each(function(){y(this).children("."+p).last().addClass(T)}),(o.children("."+p).last().prev().hasClass(T)?o.children("."+p).last().prev():o.children("."+p).last()).removeClass(T),!s.parent("."+C)[0]&&s.next()[0]&&o.children("."+p).last().removeClass(T)):(t=s.siblings("."+p),i=1,e=s.parent("."+C),layui.each(t,function(e,t){y(t).children("."+C)[0]||(i=0)}),1==i?(t.children("."+C).addClass(E),t.children("."+C).children("."+p).removeClass(T),s.children("."+C).addClass(E),e.removeClass(D),e.children("."+p).last().children("."+C).children("."+p).last().addClass(T)):s.children("."+C).children("."+p).addClass(T))),u.showCheckbox&&(d.find('input[same="layuiTreeCheck"]')[0].checked&&(s.children("."+C).children("."+p).last().find('input[same="layuiTreeCheck"]')[0].checked=!0),c.renderForm("checkbox"))):"update"==n?(n=d.children("."+k).html(),d.children("."+k).html(""),d.append('<input type="text" class="layui-tree-editInput">'),d.children(".layui-tree-editInput").val(n).focus(),a=function(e){var t=(t=e.val().trim())||u.text.defaultNodeName;e.remove(),d.children("."+k).html(t),r.data.title=t,u.operate&&u.operate(r)},d.children(".layui-tree-editInput").blur(function(){a(y(this))}),d.children(".layui-tree-editInput").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),a(y(this)))})):h.confirm('确认删除该节点 "<span style="color: #999;">'+(l.title||"")+'</span>" 吗？',function(e){return u.operate&&u.operate(r),r.status="remove",h.close(e),s.prev("."+p)[0]||s.next("."+p)[0]||s.parent("."+C)[0]?(s.siblings("."+p).children("."+b)[0]?(u.showCheckbox&&(l=function(e){var t,i,a,n;e.parents("."+p)[0]&&(t=e.siblings("."+p).children("."+b),e=(i=e.parent("."+C).prev()).find('input[same="layuiTreeCheck"]')[0],a=1,(n=0)==e.checked&&(t.each(function(e,t){t=y(t).find('input[same="layuiTreeCheck"]')[0];0!=t.checked||t.disabled||(a=0),t.disabled||(n=1)}),1==a&&1==n&&(e.checked=!0,c.renderForm("checkbox"),l(i.parent("."+p)))))})(s),u.showLine&&(t=s.siblings("."+p),i=1,a=s.parent("."+C),layui.each(t,function(e,t){y(t).children("."+C)[0]||(i=0)}),1==i?(o[0]||(a.removeClass(D),t.children("."+C).addClass(E),t.children("."+C).children("."+p).removeClass(T)),(s.next()[0]?a.children("."+p).last():s.prev()).children("."+C).children("."+p).last().addClass(T),s.next()[0]||s.parents("."+p)[1]||s.parents("."+p).eq(0).next()[0]||s.prev("."+p).addClass(T)):!s.next()[0]&&s.hasClass(T)&&s.prev().addClass(T))):(t=s.parent("."+C).prev(),u.showLine?(t.find("."+m).removeClass("layui-tree-icon"),t.find("."+m).children(".layui-icon").removeClass(g).addClass("layui-icon-file"),(a=t.parents("."+C).eq(0)).addClass(D),a.children("."+p).each(function(){y(this).children("."+C).children("."+p).last().addClass(T)})):t.find(".layui-tree-iconArrow").addClass(f),s.parents("."+p).eq(0).removeClass(w),s.parent("."+C).remove()),void s.remove()):(s.remove(),void c.elem.append(c.elemNone));var l,i,t,a})})},t.prototype.events=function(){var t=this,n=t.config;t.elem.find(".layui-tree-checkedFirst"),t.setChecked(t.checkids),t.elem.find(".layui-tree-search").on("keyup",function(){var e=y(this),i=e.val(),e=e.nextAll(),a=[];e.find("."+k).each(function(){var t,e=y(this).parents("."+b);-1!=y(this).html().indexOf(i)&&(a.push(y(this).parent()),(t=function(e){e.addClass("layui-tree-searchShow"),e.parent("."+C)[0]&&t(e.parent("."+C).parent("."+p))})(e.parent("."+p)))}),e.find("."+b).each(function(){var e=y(this).parent("."+p);e.hasClass("layui-tree-searchShow")||e.addClass(f)}),0==e.find(".layui-tree-searchShow").length&&t.elem.append(t.elemNone),n.onsearch&&n.onsearch({elem:a})}),t.elem.find(".layui-tree-search").on("keydown",function(){y(this).nextAll().find("."+b).each(function(){y(this).parent("."+p).removeClass("layui-tree-searchShow "+f)}),y(".layui-tree-emptyText")[0]&&y(".layui-tree-emptyText").remove()})},t.prototype.getChecked=function(){var e=this.config,t=[],i=[];this.elem.find(".layui-form-checked").each(function(){t.push(y(this).prev()[0].value)});var n=function(e,a){layui.each(e,function(e,i){layui.each(t,function(e,t){if(i.id==t){t=y.extend({},i);return delete t.children,a.push(t),i.children&&(t.children=[],n(i.children,t.children)),!0}})})};return n(y.extend({},e.data),i),i},t.prototype.setChecked=function(l){this.config,this.elem.find("."+p).each(function(e,t){var i=y(this).data("id"),a=y(t).children("."+b).find('input[same="layuiTreeCheck"]'),n=a.next();if("number"==typeof l){if(i==l)return a[0].checked||n.click(),!1}else"object"==typeof l&&layui.each(l,function(e,t){if(t==i&&!a[0].checked)return n.click(),!0})})},l.that={},l.config={},n.reload=function(e,t){e=l.that[e];return e.reload(t),l.call(e)},n.getChecked=function(e){return l.that[e].getChecked()},n.setChecked=function(e,t){return l.that[e].setChecked(t)},n.render=function(e){e=new t(e);return l.call(e)},e(a,n)}),layui.define(["laytpl","form"],function(e){"use strict";function t(e){return['<div class="layui-transfer-box" data-index="'+(e=e||{}).index+'">','<div class="layui-transfer-header">','<input type="checkbox" name="'+e.checkAllName+'" lay-filter="layTransferCheckbox" lay-type="all" lay-skin="primary" title="{{ d.data.title['+e.index+"] || 'list"+(e.index+1)+"' }}\">","</div>","{{# if(d.data.showSearch){ }}",'<div class="layui-transfer-search">','<i class="layui-icon layui-icon-search"></i>','<input type="input" class="layui-input" placeholder="关键词搜索">',"</div>","{{# } }}",'<ul class="layui-transfer-data"></ul>',"</div>"].join("")}function i(e){this.index=++o.index,this.config=c.extend({},this.config,o.config,e),this.render()}var c=layui.$,n=layui.laytpl,a=layui.form,l="transfer",o={config:{},index:layui[l]?layui[l].index+1e4:0,set:function(e){return this.config=c.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,l,e,t)}},r=function(){var t=this,e=t.config,i=e.id||t.index;return r.that[i]=t,{config:r.config[i]=e,reload:function(e){t.reload.call(t,e)},getData:function(){return t.getData.call(t)}}},u="layui-hide",d="layui-btn-disabled",s="layui-none",y="layui-transfer-box",h="layui-transfer-header",f="layui-transfer-search",p="layui-transfer-data",m=['<div class="layui-transfer layui-form layui-border-box" lay-filter="LAY-transfer-{{ d.index }}">',t({index:0,checkAllName:"layTransferLeftCheckAll"}),'<div class="layui-transfer-active">','<button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="0">','<i class="layui-icon layui-icon-next"></i>',"</button>",'<button type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-btn-disabled" data-index="1">','<i class="layui-icon layui-icon-prev"></i>',"</button>","</div>",t({index:1,checkAllName:"layTransferRightCheckAll"}),"</div>"].join("");i.prototype.config={title:["列表一","列表二"],width:200,height:360,data:[],value:[],showSearch:!1,id:"",text:{none:"无数据",searchNone:"无匹配数据"}},i.prototype.reload=function(e){this.config=c.extend({},this.config,e),this.render()},i.prototype.render=function(){var e=this,t=e.config,i=e.elem=c(n(m).render({data:t,index:e.index})),a=t.elem=c(t.elem);a[0]&&(t.data=t.data||[],t.value=t.value||[],e.key=t.id||e.index,a.html(e.elem),e.layBox=e.elem.find("."+y),e.layHeader=e.elem.find("."+h),e.laySearch=e.elem.find("."+f),e.layData=i.find("."+p),e.layBtn=i.find(".layui-transfer-active .layui-btn"),e.layBox.css({width:t.width,height:t.height}),e.layData.css({height:t.height-e.layHeader.outerHeight()-e.laySearch.outerHeight()-2}),e.renderData(),e.events())},i.prototype.renderData=function(){var e=this,a=(e.config,[{checkName:"layTransferLeftCheck",views:[]},{checkName:"layTransferRightCheck",views:[]}]);e.parseData(function(e){var t=e.selected?1:0,i=["<li>",'<input type="checkbox" name="'+a[t].checkName+'" lay-skin="primary" lay-filter="layTransferCheckbox" title="'+e.title+'"'+(e.disabled?" disabled":"")+(e.checked?" checked":"")+' value="'+e.value+'">',"</li>"].join("");a[t].views.push(i),delete e.selected}),e.layData.eq(0).html(a[0].views.join("")),e.layData.eq(1).html(a[1].views.join("")),e.renderCheckBtn()},i.prototype.renderForm=function(e){a.render(e,"LAY-transfer-"+this.index)},i.prototype.renderCheckBtn=function(o){var r=this,s=r.config;o=o||{},r.layBox.each(function(e){var t=c(this),i=t.find("."+p),a=t.find("."+h).find('input[type="checkbox"]'),t=i.find('input[type="checkbox"]'),n=0,l=!1;t.each(function(){var e=c(this).data("hide");(this.checked||this.disabled||e)&&n++,this.checked&&!e&&(l=!0)}),a.prop("checked",l&&n===t.length),r.layBtn.eq(e)[l?"removeClass":"addClass"](d),o.stopNone||(e=i.children("li:not(."+u+")").length,r.noneView(i,e?"":s.text.none))}),r.renderForm("checkbox")},i.prototype.noneView=function(e,t){var i=c('<p class="layui-none">'+(t||"")+"</p>");e.find("."+s)[0]&&e.find("."+s).remove(),t.replace(/\s/g,"")&&e.append(i)},i.prototype.setValue=function(){var e=this.config,t=[];return this.layBox.eq(1).find("."+p+' input[type="checkbox"]').each(function(){c(this).data("hide")||t.push(this.value)}),e.value=t,this},i.prototype.parseData=function(t){var a=this.config,n=[];return layui.each(a.data,function(e,i){i=("function"==typeof a.parseData?a.parseData(i):i)||i,n.push(i=c.extend({},i)),layui.each(a.value,function(e,t){t==i.value&&(i.selected=!0)}),t&&t(i)}),a.data=n,this},i.prototype.getData=function(e){var t=this.config,a=[];return this.setValue(),layui.each(e||t.value,function(e,i){layui.each(t.data,function(e,t){delete t.selected,i==t.value&&a.push(t)})}),a},i.prototype.events=function(){var l=this,i=l.config;l.elem.on("click",'input[lay-filter="layTransferCheckbox"]+',function(){var e=c(this).prev(),t=e[0].checked,i=e.parents("."+y).eq(0).find("."+p);e[0].disabled||("all"===e.attr("lay-type")&&i.find('input[type="checkbox"]').each(function(){this.disabled||(this.checked=t)}),l.renderCheckBtn({stopNone:!0}))}),l.layBtn.on("click",function(){var e=c(this),t=e.data("index"),a=l.layBox.eq(t),n=[];e.hasClass(d)||(l.layBox.eq(t).each(function(e){c(this).find("."+p).children("li").each(function(){var e=c(this),t=e.find('input[type="checkbox"]'),i=t.data("hide");t[0].checked&&!i&&(t[0].checked=!1,a.siblings("."+y).find("."+p).append(e.clone()),e.remove(),n.push(t[0].value)),l.setValue()})}),l.renderCheckBtn(),""===(e=a.siblings("."+y).find("."+f+" input")).val()||e.trigger("keyup"),i.onchange&&i.onchange(l.getData(n),t))}),l.laySearch.find("input").on("keyup",function(){var a=this.value,e=c(this).parents("."+f).eq(0).siblings("."+p),t=e.children("li");t.each(function(){var e=c(this),t=e.find('input[type="checkbox"]'),i=-1!==t[0].title.indexOf(a);e[i?"removeClass":"addClass"](u),t.data("hide",!i)}),l.renderCheckBtn();t=t.length===e.children("li."+u).length;l.noneView(e,t?i.text.searchNone:"")})},r.that={},r.config={},o.reload=function(e,t){e=r.that[e];return e.reload(t),r.call(e)},o.getData=function(e){return r.that[e].getData()},o.render=function(e){e=new i(e);return r.call(e)},e(l,o)}),layui.define(["laytpl","laypage","layer","form","util"],function(e){"use strict";function a(e){var t=d.config[e];return t||h.error(e?"The table instance with ID '"+e+"' not found":"ID argument required"),t||null}function m(e,t,i,a){return(this.config||{}).escape&&(t=n.escape(t)),t=e.templet?"function"==typeof e.templet?e.templet(i):g(v(e.templet).html()||String(t)).render(i):t,a?v("<div>"+t+"</div>").text():t}function t(e){return['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<thead>","{{# layui.each(d.data.cols, function(i1, item1){ }}","<tr>","{{# layui.each(item1, function(i2, item2){ }}",'{{# if(item2.fixed && item2.fixed !== "right"){ left = true; } }}','{{# if(item2.fixed === "right"){ right = true; } }}',(e=e||{}).fixed&&"right"!==e.fixed?'{{# if(item2.fixed && item2.fixed !== "right"){ }}':"right"===e.fixed?'{{# if(item2.fixed === "right"){ }}':"","{{# var isSort = !(item2.colGroup) && item2.sort; }}",'<th data-field="{{ item2.field||i2 }}" data-key="{{d.index}}-{{i1}}-{{i2}}" {{# if( item2.parentKey){ }}data-parentkey="{{ item2.parentKey }}"{{# } }} {{# if(item2.minWidth){ }}data-minwidth="{{item2.minWidth}}"{{# } }} {{#if(item2.colspan){}} colspan="{{item2.colspan}}"{{#} if(item2.rowspan){}} rowspan="{{item2.rowspan}}"{{#}}} {{# if(item2.unresize || item2.colGroup){ }}data-unresize="true"{{# } }} class="{{# if(item2.hide){ }}layui-hide{{# } }}{{# if(isSort){ }} layui-unselect{{# } }}{{# if(!item2.field){ }} layui-table-col-special{{# } }}">','<div class="layui-table-cell laytable-cell-',"{{# if(item2.colGroup){ }}","group","{{# } else { }}","{{d.index}}-{{i1}}-{{i2}}",'{{# if(item2.type !== "normal"){ }}'," laytable-cell-{{ item2.type }}","{{# } }}","{{# } }}",'" {{#if(item2.align){}}align="{{item2.align}}"{{#}}}>','{{# if(item2.type === "checkbox"){ }}','<input type="checkbox" name="layTableCheckbox" lay-skin="primary" lay-filter="layTableAllChoose" {{# if(item2[d.data.checkName]){ }}checked{{# }; }}>',"{{# } else { }}",'<span>{{item2.title||""}}</span>',"{{# if(isSort){ }}",'<span class="layui-table-sort layui-inline"><i class="layui-edge layui-table-sort-asc" title="升序"></i><i class="layui-edge layui-table-sort-desc" title="降序"></i></span>',"{{# } }}","{{# } }}","</div>","</th>",e.fixed?"{{# }; }}":"","{{# }); }}","</tr>","{{# }); }}","</thead>","</table>"].join("")}function i(e){this.index=++x.index,this.config=v.extend({},this.config,x.config,e),this.render()}var v=layui.$,g=layui.laytpl,o=layui.laypage,b=layui.layer,y=layui.form,n=layui.util,h=layui.hint(),f=layui.device(),x={config:{checkName:"LAY_CHECKED",indexName:"LAY_TABLE_INDEX"},cache:{},index:layui.table?layui.table.index+1e4:0,set:function(e){return this.config=v.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,p,e,t)}},d=function(){var i=this,e=i.config,t=e.id||e.index;return t&&(d.that[t]=i,d.config[t]=e),{config:e,loading:function(e){i.loading(!e)},reload:function(e,t){i.reload.call(i,e,t)},setColsWidth:function(){i.setColsWidth.call(i)},resize:function(){i.resize.call(i)}}},p="table",k="layui-hide",r="layui-none",l="layui-table-view",s=".layui-table-header",C=".layui-table-body",w=".layui-table-sort",T="layui-table-edit",E="layui-table-hover",c=['<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>',"<tbody></tbody>","</table>"].join(""),u=['<div class="layui-form layui-border-box {{d.VIEW_CLASS}}{{# if(d.data.className){ }} {{ d.data.className }}{{# } }}" lay-filter="LAY-table-{{d.index}}" lay-id="{{ d.data.id }}" style="{{# if(d.data.width){ }}width:{{d.data.width}}px;{{# } }} {{# if(d.data.height){ }}height:{{d.data.height}}px;{{# } }}">',"{{# if(d.data.toolbar){ }}",'<div class="layui-table-tool">','<div class="layui-table-tool-temp"></div>','<div class="layui-table-tool-self"></div>',"</div>","{{# } }}",'<div class="layui-table-box">',"{{# if(d.data.loading){ }}",'<div class="layui-table-init" style="background-color: #fff;">','<i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>',"</div>","{{# } }}","{{# var left, right; }}",'<div class="layui-table-header">',t(),"</div>",'<div class="layui-table-body layui-table-main">',c,"</div>","{{# if(left){ }}",'<div class="layui-table-fixed layui-table-fixed-l">','<div class="layui-table-header">',t({fixed:!0}),"</div>",'<div class="layui-table-body">',c,"</div>","</div>","{{# }; }}","{{# if(right){ }}",'<div class="layui-table-fixed layui-table-fixed-r">','<div class="layui-table-header">',t({fixed:"right"}),'<div class="layui-table-mend"></div>',"</div>",'<div class="layui-table-body">',c,"</div>","</div>","{{# }; }}","</div>","{{# if(d.data.totalRow){ }}",'<div class="layui-table-total">','<table cellspacing="0" cellpadding="0" border="0" class="layui-table" ','{{# if(d.data.skin){ }}lay-skin="{{d.data.skin}}"{{# } }} {{# if(d.data.size){ }}lay-size="{{d.data.size}}"{{# } }} {{# if(d.data.even){ }}lay-even{{# } }}>','<tbody><tr><td><div class="layui-table-cell" style="visibility: hidden;">Total</div></td></tr></tbody>',"</table>","</div>","{{# } }}","{{# if(d.data.page){ }}",'<div class="layui-table-page">','<div id="layui-table-page{{d.index}}"></div>',"</div>","{{# } }}","<style>","{{# layui.each(d.data.cols, function(i1, item1){","layui.each(item1, function(i2, item2){ }}",".laytable-cell-{{d.index}}-{{i1}}-{{i2}}{ ","{{# if(item2.width){ }}","width: {{item2.width}}px;","{{# } }}"," }","{{# });","}); }}","</style>","</div>"].join(""),D=v(window),L=v(document);i.prototype.config={limit:10,loading:!0,cellMinWidth:60,defaultToolbar:["filter","exports","print"],autoScrollTop:!0,autoColumnWidth:!1,autoSort:!0,text:{none:"无数据"}},String.prototype.contentWidth=function(e,t,i){i=i||!1;var a=t||e.css("font"),t=v("<div></div>");i?t.text(this):t.html(this),t.css({position:"absolute",float:"left","white-space":"nowrap",visibility:"hidden",font:a}).appendTo(e);e=t.width();return t.remove(),e},i.prototype.render=function(){var e=this,t=e.config;if(t.elem=v(t.elem),t.where=t.where||{},t.id=t.id||t.elem.attr("id")||e.index,t.request=v.extend({pageName:"page",limitName:"limit"},t.request),t.response=v.extend({statusName:"code",statusCode:0,msgName:"msg",dataName:"data",totalRowName:"totalRow",countName:"count"},t.response),"object"==typeof t.page&&(t.limit=t.page.limit||t.limit,t.limits=t.page.limits||t.limits,e.page=t.page.curr=t.page.curr||1,delete t.page.elem,delete t.page.jump),!t.elem[0])return e;t.height&&/^full-\d+$/.test(t.height)&&(e.fullHeightGap=t.height.split("-")[1],t.height=D.height()-e.fullHeightGap),e.setInit();var i=t.elem,a=i.next("."+l),n=e.elem=v(g(u).render({VIEW_CLASS:l,data:t,index:e.index}));t.index=e.index,e.key=t.id||t.index,a[0]&&a.remove(),i.after(n),e.layTool=n.find(".layui-table-tool"),e.layBox=n.find(".layui-table-box"),e.layHeader=n.find(s),e.layMain=n.find(".layui-table-main"),e.layBody=n.find(C),e.layFixed=n.find(".layui-table-fixed"),e.layFixLeft=n.find(".layui-table-fixed-l"),e.layFixRight=n.find(".layui-table-fixed-r"),e.layTotal=n.find(".layui-table-total"),e.layPage=n.find(".layui-table-page"),e.renderToolbar(),e.fullSize(),1<t.cols.length&&(t=e.layFixed.find(s).find("th")).height(e.layHeader.height()-1-parseFloat(t.css("padding-top"))-parseFloat(t.css("padding-bottom"))),e.pullData(e.page),e.events()},i.prototype.initOpts=function(e){var t=(this.config,{checkbox:48,radio:48,space:15,numbers:40});e.checkbox&&(e.type="checkbox"),e.space&&(e.type="space"),e.type||(e.type="normal"),"normal"!==e.type&&(e.unresize=!0,e.width=e.width||t[e.type])},i.prototype.setInit=function(e){var a,t=this,o=t.config;return o.clientWidth=o.width||(a=function(e){var t,i=(e=e||o.elem.parent()).width();try{t="none"===e.css("display")}catch(e){}return!e[0]||i&&!t?i:a(e.parent())})(),"width"===e?o.clientWidth:void layui.each(o.cols,function(l,e){layui.each(e,function(i,a){var n;a?(a.key=l+"-"+i,a.hide=a.hide||!1,(a.colGroup||1<a.colspan)&&(n=0,layui.each(o.cols[l+1],function(e,t){t.HAS_PARENT||1<n&&n==a.colspan||(t.HAS_PARENT=!0,t.parentKey=l+"-"+i,n+=parseInt(1<t.colspan?t.colspan:1))}),a.colGroup=!0),t.initOpts(a)):e.splice(i,1)})})},i.prototype.renderToolbar=function(){var e=this.config,t=['<div class="layui-inline" lay-event="add"><i class="layui-icon layui-icon-add-1"></i></div>','<div class="layui-inline" lay-event="update"><i class="layui-icon layui-icon-edit"></i></div>','<div class="layui-inline" lay-event="delete"><i class="layui-icon layui-icon-delete"></i></div>'].join(""),i=this.layTool.find(".layui-table-tool-temp");"default"===e.toolbar?i.html(t):"string"!=typeof e.toolbar||(t=v(e.toolbar).html()||"")&&i.html(g(t).render(e));var a={filter:{title:"筛选列",layEvent:"LAYTABLE_COLS",icon:"layui-icon-cols"},exports:{title:"导出",layEvent:"LAYTABLE_EXPORT",icon:"layui-icon-export"},print:{title:"打印",layEvent:"LAYTABLE_PRINT",icon:"layui-icon-print"}},n=[];"object"==typeof e.defaultToolbar&&layui.each(e.defaultToolbar,function(e,t){t="string"==typeof t?a[t]:t;t&&n.push('<div class="layui-inline" title="'+t.title+'" lay-event="'+t.layEvent+'"><i class="layui-icon '+t.icon+'"></i></div>')}),this.layTool.find(".layui-table-tool-self").html(n.join(""))},i.prototype.setParentCol=function(e,t){var i=this.config,a=this.layHeader.find('th[data-key="'+i.index+"-"+t+'"]'),n=parseInt(a.attr("colspan"))||0;a[0]&&(t=t.split("-"),t=i.cols[t[0]][t[1]],e?n--:n++,a.attr("colspan",n),a[n<1?"addClass":"removeClass"](k),t.colspan=n,t.hide=n<1,(a=a.data("parentkey"))&&this.setParentCol(e,a))},i.prototype.setColsPatch=function(){var i=this,e=i.config;layui.each(e.cols,function(e,t){layui.each(t,function(e,t){t.hide&&i.setParentCol(t.hide,t.parentKey)})})},i.prototype.setColsWidth=function(){var d=this,o=d.config,i=0,r=0,s=0,c=0,u=d.setInit("width");d.eachCols(function(e,t){t.hide||i++});var u=u-("line"===o.skin||"nob"===o.skin?2:i+1)-d.getScrollWidth(d.layMain[0])-1,e=function(l){layui.each(o.cols,function(e,n){layui.each(n,function(e,t){var i=0,a=t.minWidth||o.cellMinWidth;return t?void(t.colGroup||t.hide||(l?s&&s<a&&(r--,i=a):(i=t.width||0,/\d+%$/.test(i)?(i=Math.floor(parseFloat(i)/100*u))<a&&(i=a):i||(t.width=i=0,r++)),t.hide&&(i=0),c+=i)):void n.splice(e,1)})}),c<u&&r&&(s=(u-c)/r)};e(),e(!0),d.autoColNums=r,d.eachCols(function(e,t){var i=t.minWidth||o.cellMinWidth;t.colGroup||t.hide||(0===t.width?d.getCssRule(o.index+"-"+t.key,function(e){e.style.width=Math.floor(i<=s?s:i)+"px"}):/\d+%$/.test(t.width)&&d.getCssRule(o.index+"-"+t.key,function(e){e.style.width=Math.floor(parseFloat(t.width)/100*u)+"px"}))});var t,a,n,l,y=d.layMain.width()-d.getScrollWidth(d.layMain[0])-d.layMain.children("table").outerWidth();d.autoColNums&&-i<=y&&y<=i&&(e=(a=(t=function(e){return!(e=e||d.layHeader.eq(0).find("thead th:last-child")).data("field")&&e.prev()[0]?t(e.prev()):e})()).data("key"),d.getCssRule(e,function(e){var t=e.style.width||a.outerWidth();e.style.width=parseFloat(t)+y+"px",0<d.layMain.height()-d.layMain.prop("clientHeight")&&(e.style.width=parseFloat(e.style.width)-1+"px")})),o.autoColumnWidth&&function(){function a(e,t,i){var a=e.data("key"),n=a.split("-");3===n.length&&(n[1],n[2]),1<e.attr("colspan")||e.data("unresize")||t&&d.getCssRule(a,function(e){e.style.width=i.width+"px"})}function n(e,t,i){var a,n,l=e.data("key"),o=l.split("-");3===o.length&&(o[1],o[2]),1<e.attr("colspan")||e.data("unresize")||!t||(i.widthAutoOld=e.width(),a=e.text().contentWidth(r,e.css("font"))+21,n=e.css("font"),s.children('td[data-key="'+l+'"]').each(function(e,t){var i=0;v(this).children().children()&&0<v(this).children().children().length?i+=v(this).children().html().contentWidth(r,n):i=v(this).text().contentWidth(r,n,!0),a<i&&(a=i)}),0<c.length&&(l=c.children('td[data-key="'+l+'"]').text().contentWidth(r,n),a<l&&(a=l)),a+=32,a=Math.min(a,500),i.width=a,i.widthAutoSize=a)}var r=v("body"),e=d.elem.children(".layui-table-box").children(".layui-table-header").children("table").children("thead").children("tr").children("th"),t=d.elem.children(".layui-table-box").children(".layui-table-fixed").children(".layui-table-header").children("table").children("thead").children("tr").children("th"),s=d.elem.children(".layui-table-box").children(".layui-table-body").children("table").children("tbody").children("tr"),c=d.elem.children(".layui-table-total").find("tr");e.add(t).on("dblclick",function(e){var t=v(this),i=e.clientX-t.offset().left,e=t.attr("data-key").split("-"),e=d.config.cols[e[1]][e[2]];n(t,0<t.parents(".layui-table-fixed-r").length?i<=10:t.width()-i<=10,e),a(t,0<t.parents(".layui-table-fixed-r").length?i<=10:t.width()-i<=10,e)});var l=0,o=0,u={};e.add(t).each(function(e,t){var i=v(this).attr("data-key").split("-"),i=d.config.cols[i[1]][i[2]];!0===i.withAuto&&(n(v(this),!0,i),"widthAutoSize"in i&&"widthAutoOld"in i&&(u[i.field]||(u[i.field]=!0,l+=i.widthAutoOld,l-=i.widthAutoSize,o++)))}),0<l&&0<o&&o<=l&&e.add(t).each(function(e,t){var i=v(this).attr("data-key").split("-"),i=d.config.cols[i[1]][i[2]];!0===i.withAuto&&(i.width=i.widthAutoSize+parseInt(l/o))}),e.add(t).each(function(e,t){var i=v(this).attr("data-key").split("-"),i=d.config.cols[i[1]][i[2]];!0===i.withAuto&&a(v(this),!0,i)})}(),n=d.elem.children(".layui-table-box").children(".layui-table-fixed"),l=d.elem.find(".layui-table-body:first table > tbody > tr"),n.each(function(e,t){v(t).find("table > tbody > tr").each(function(e,t){e=l.find("td:first").get(e).getBoundingClientRect().height;v(t).find("td:first").css({height:e+"px"})})}),d.loading(!0)},i.prototype.resize=function(){this.fullSize(),this.setColsWidth(),this.scrollPatch()},i.prototype.reload=function(e,t){var i=this;e=e||{},delete i.haveInit,layui.each(e,function(e,t){"array"===layui._typeof(t)&&delete i.config[e]}),i.config=v.extend(t,{},i.config,e),i.render()},i.prototype.errorView=function(e){var t=this,i=t.layMain.find("."+r),e=v('<div class="'+r+'">'+(e||"Error")+"</div>");i[0]&&(t.layNone.remove(),i.remove()),t.layFixed.addClass(k),t.layMain.find("tbody").html(""),t.layMain.append(t.layNone=e),x.cache[t.key]=[]},i.prototype.page=1,i.prototype.pullData=function(t){function i(){"object"==typeof l.initSort&&n.sort(l.initSort.field,l.initSort.type)}var e,a,n=this,l=n.config,o=l.request,r=l.response;n.startTime=(new Date).getTime(),l.url?((a={})[o.pageName]=t,a[o.limitName]=l.limit,e=v.extend(a,l.where),l.contentType&&0==l.contentType.indexOf("application/json")&&(e=JSON.stringify(e)),n.loading(),v.ajax({type:l.method||"get",url:l.url,contentType:l.contentType,data:e,dataType:"json",headers:l.headers||{},success:function(e){(e="function"==typeof l.parseData?l.parseData(e)||e:e)[r.statusName]!=r.statusCode?(n.renderForm(),n.errorView(e[r.msgName]||'返回的数据不符合规范，正确的成功状态码应为："'+r.statusName+'": '+r.statusCode)):(n.renderData(e,t,e[r.countName]),i(),l.time=(new Date).getTime()-n.startTime+" ms"),n.setColsWidth(),"function"==typeof l.done&&l.done(e,t,e[r.countName])},error:function(e,t){n.errorView("请求异常，错误提示："+t),n.renderForm(),n.setColsWidth(),"function"==typeof l.error&&l.error(e,t)}})):"array"===layui._typeof(l.data)&&(a=t*l.limit-l.limit,(e={})[r.dataName]=l.data.concat().splice(a,l.limit),e[r.countName]=l.data.length,"object"==typeof l.totalRow&&(e[r.totalRowName]=v.extend({},l.totalRow)),n.renderData(e,t,e[r.countName]),i(),n.setColsWidth(),"function"==typeof l.done&&l.done(e,t,e[r.countName]))},i.prototype.eachCols=function(e){return x.eachCols(null,e,this.config.cols),this},i.prototype.renderData=function(e,t,i,a){var d=this,y=d.config,n=e[y.response.dataName]||[],l=e[y.response.totalRowName],h=[],f=[],p=[],e=function(){var u;return!a&&d.sortKey?d.sort(d.sortKey.field,d.sortKey.sort,!0):(layui.each(n,function(n,l){var o=[],r=[],s=[],c=n+y.limit*(t-1)+1;"array"===layui._typeof(l)&&0===l.length||(a||(l[x.config.indexName]=n),d.eachCols(function(e,i){var t=i.field||e,e=y.index+"-"+i.key,a=l[t];null!=a||(a=""),i.colGroup||(e=['<td data-field="'+t+'" data-key="'+e+'" '+(t=[],i.edit&&t.push('data-edit="'+i.edit+'"'),i.align&&t.push('align="'+i.align+'"'),i.templet&&t.push('data-content="'+a+'"'),i.toolbar&&t.push('data-off="true"'),i.event&&t.push('lay-event="'+i.event+'"'),i.style&&t.push('style="'+i.style+'"'),i.minWidth&&t.push('data-minwidth="'+i.minWidth+'"'),t.join(" "))+' class="'+(t=[],i.hide&&t.push(k),i.field||t.push("layui-table-col-special"),t.join(" "))+'">','<div class="layui-table-cell laytable-cell-'+("normal"===i.type?e:e+" laytable-cell-"+i.type)+'">'+function(){var e=v.extend(!0,{LAY_INDEX:c,LAY_COL:i},l),t=x.config.checkName;switch(i.type){case"checkbox":return'<input type="checkbox" name="layTableCheckbox" lay-skin="primary" '+(i[t]?(l[t]=i[t],i[t]?"checked":""):e[t]?"checked":"")+">";case"radio":return e[t]&&(u=n),'<input type="radio" name="layTableRadio_'+y.index+'" '+(e[t]?"checked":"")+' lay-type="layTableRadio">';case"numbers":return c}return i.toolbar?g(v(i.toolbar).html()||"").render(e):m.call(d,i,a,e)}(),"</div></td>"].join(""),o.push(e),i.fixed&&"right"!==i.fixed&&r.push(e),"right"===i.fixed&&s.push(e))}),h.push('<tr data-index="'+n+'">'+o.join("")+"</tr>"),f.push('<tr data-index="'+n+'">'+r.join("")+"</tr>"),p.push('<tr data-index="'+n+'">'+s.join("")+"</tr>"))}),y.autoScrollTop&&d.layBody.scrollTop(0),d.layMain.find("."+r).remove(),d.layMain.find("tbody").html(h.join("")),d.layFixLeft.find("tbody").html(f.join("")),d.layFixRight.find("tbody").html(p.join("")),d.renderForm(),"number"==typeof u&&d.setThisRowChecked(u),d.syncCheckAll(),d.haveInit?d.scrollPatch():setTimeout(function(){d.scrollPatch()},50),d.haveInit=!0,b.close(d.tipsIndex),y.HAS_SET_COLS_PATCH||d.setColsPatch(),void(y.HAS_SET_COLS_PATCH=!0))};return x.cache[d.key]=n,d.layPage[0==i||0===n.length&&1==t?"addClass":"removeClass"](k),0===n.length?(d.renderForm(),d.errorView(y.text.none)):(d.layFixed.removeClass(k),a?e():(e(),d.renderTotal(n,l),void(y.page&&(y.page=v.extend({elem:"layui-table-page"+y.index,count:i,limit:y.limit,limits:y.limits||[10,20,30,40,50,60,70,80,90],groups:3,layout:["prev","page","next","skip","count","limit"],prev:'<i class="layui-icon">&#xe603;</i>',next:'<i class="layui-icon">&#xe602;</i>',jump:function(e,t){t||(d.page=e.curr,y.limit=e.limit,d.pullData(e.curr))}},y.page),y.page.count=i,o.render(y.page)))))},i.prototype.renderTotal=function(e,l){var o,r=this,s=r.config,c={};s.totalRow&&(layui.each(e,function(e,a){"array"===layui._typeof(a)&&0===a.length||r.eachCols(function(e,t){var i=t.field||e,e=a[i];t.totalRow&&(c[i]=(c[i]||0)+(parseFloat(e)||0))})}),r.dataTotal={},o=[],r.eachCols(function(e,t){var i,a,n=t.field||e,e=(i=t.totalRowText||"",a=parseFloat(c[n]).toFixed(2),(e={})[n]=a,i=t.totalRow&&m.call(r,t,a,e)||i,l&&l[t.field]||i),i=['<td data-field="'+n+'" data-key="'+s.index+"-"+t.key+'" '+(i=[],t.align&&i.push('align="'+t.align+'"'),t.style&&i.push('style="'+t.style+'"'),t.minWidth&&i.push('data-minwidth="'+t.minWidth+'"'),i.join(" "))+' class="'+(i=[],t.hide&&i.push(k),t.field||i.push("layui-table-col-special"),i.join(" "))+'">','<div class="layui-table-cell laytable-cell-'+(i=s.index+"-"+t.key,"normal"===t.type?i:i+" laytable-cell-"+t.type)+'">'+("string"==typeof(i=t.totalRow||s.totalRow)?g(i).render(v.extend({TOTAL_NUMS:e},t)):e),"</div></td>"].join("");t.field&&(r.dataTotal[n]=e),o.push(i)}),r.layTotal.find("tbody").html("<tr>"+o.join("")+"</tr>"))},i.prototype.getColElem=function(e,t){var i=this.config;return e.eq(0).find(".laytable-cell-"+i.index+"-"+t+":eq(0)")},i.prototype.renderForm=function(e){y.render(e,"LAY-table-"+this.index)},i.prototype.setThisRowChecked=function(e){var t=(this.config,"layui-table-click");this.layBody.find('tr[data-index="'+e+'"]').addClass(t).siblings("tr").removeClass(t)},i.prototype.sort=function(n,e,t,i){var a,l=this,o={},r=l.config,s=r.elem.attr("lay-filter"),c=x.cache[l.key];"string"==typeof n&&(u=n,l.layHeader.find("th").each(function(e,t){var i=v(this),a=i.data("field");if(a===n)return n=i,u=a,!1}));try{var u=u||n.data("field"),d=n.data("key");if(l.sortKey&&!t&&u===l.sortKey.field&&e===l.sortKey.sort)return;var y=l.layHeader.find("th .laytable-cell-"+d).find(w);l.layHeader.find("th").find(w).removeAttr("lay-sort"),y.attr("lay-sort",e||null),l.layFixed.find("th")}catch(e){h.error("Table modules: sort field '"+u+"' not matched")}l.sortKey={field:u,sort:e},r.autoSort&&("asc"===e?a=layui.sort(c,u):"desc"===e?a=layui.sort(c,u,!0):(a=layui.sort(c,x.config.indexName),delete l.sortKey)),o[r.response.dataName]=a||c,l.renderData(o,l.page,l.count,!0),i&&layui.event.call(n,p,"sort("+s+")",{field:u,type:e})},i.prototype.loading=function(e){var t=this;t.config.loading&&(e?(t.layInit&&t.layInit.remove(),delete t.layInit,t.layBox.find(".layui-table-init").remove()):(t.layInit=v(['<div class="layui-table-init">','<i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>',"</div>"].join("")),t.layBox.append(t.layInit)))},i.prototype.setCheckData=function(e,t){var i=this.config,a=x.cache[this.key];a[e]&&"array"!==layui._typeof(a[e])&&(a[e][i.checkName]=t)},i.prototype.syncCheckAll=function(){function e(i){return t.eachCols(function(e,t){"checkbox"===t.type&&(t[a.checkName]=i)}),i}var t=this,a=t.config,i=t.layHeader.find('input[name="layTableCheckbox"]');i[0]&&(x.checkStatus(t.key).isAll?(i[0].checked||(i.prop("checked",!0),t.renderForm("checkbox")),e(!0)):(i[0].checked&&(i.prop("checked",!1),t.renderForm("checkbox")),e(!1)))},i.prototype.getCssRule=function(i,a){var e=this.elem.find("style")[0],e=e.sheet||e.styleSheet||{},e=e.cssRules||e.rules;layui.each(e,function(e,t){if(t.selectorText===".laytable-cell-"+i)return a(t),!0})},i.prototype.fullSize=function(){var e=this,t=e.config,i=t.height;e.fullHeightGap&&(i=D.height()-e.fullHeightGap,e.elem.css("height",i=i<135?135:i)),i&&(i=parseFloat(i)-(e.layHeader.outerHeight()||38),t.toolbar&&(i-=e.layTool.outerHeight()||50),t.totalRow&&(i-=e.layTotal.outerHeight()||40),t.page&&(i-=e.layPage.outerHeight()||41),e.layMain.css("height",i-2))},i.prototype.getScrollWidth=function(e){var t=0;return e?t=e.offsetWidth-e.clientWidth:((e=document.createElement("div")).style.width="100px",e.style.height="100px",e.style.overflowY="scroll",document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),t},i.prototype.scrollPatch=function(){var e=this,t=e.layMain.children("table"),i=e.layMain.width()-e.layMain.prop("clientWidth"),a=e.layMain.height()-e.layMain.prop("clientHeight"),n=(e.getScrollWidth(e.layMain[0]),t.outerWidth()-e.layMain.width()),l=function(e){var t;i&&a?(e=e.eq(0)).find(".layui-table-patch")[0]||((t=v('<th class="layui-table-patch"><div class="layui-table-cell"></div></th>')).find("div").css({width:i}),e.find("tr").append(t)):e.find(".layui-table-patch").remove()};l(e.layHeader),l(e.layTotal);l=e.layMain.height()-a;e.layFixed.find(C).css("height",t.height()>=l?l:"auto"),e.layFixRight[0<n?"removeClass":"addClass"](k),e.layFixRight.css("right",i-1)},i.prototype.events=function(){var n,s=this,c=s.config,a=v("body"),l={},e=s.layHeader.find("th"),o=".layui-table-cell",u=c.elem.attr("lay-filter");s.layTool.on("click","*[lay-event]",function(e){function t(e){var t=v(e.list),i=v('<ul class="layui-table-tool-panel"></ul>');i.html(t),c.height&&i.css("max-height",c.height-(s.layTool.outerHeight()||50)),a.find(".layui-table-tool-panel")[0]||a.append(i),s.renderForm(),i.on("click",function(e){layui.stope(e)}),e.done&&e.done(i,t)}var i,a=v(this),n=a.attr("lay-event");switch(layui.stope(e),L.trigger("table.tool.panel.remove"),b.close(s.tipsIndex),n){case"LAYTABLE_COLS":t({list:(i=[],s.eachCols(function(e,t){t.field&&"normal"==t.type&&i.push('<li><input type="checkbox" name="'+t.field+'" data-key="'+t.key+'" data-parentkey="'+(t.parentKey||"")+'" lay-skin="primary" '+(t.hide?"":"checked")+' title="'+(t.title||t.field)+'" lay-filter="LAY_TABLE_TOOL_COLS"></li>')}),i.join("")),done:function(){y.on("checkbox(LAY_TABLE_TOOL_COLS)",function(e){var e=v(e.elem),a=this.checked,n=e.data("key"),l=e.data("parentkey");layui.each(c.cols,function(i,e){layui.each(e,function(e,t){i+"-"+e===n&&(e=t.hide,t.hide=!a,s.elem.find('*[data-key="'+c.index+"-"+n+'"]')[a?"removeClass":"addClass"](k),e!=t.hide&&s.setParentCol(!a,l),s.resize())})})})}});break;case"LAYTABLE_EXPORT":f.ie?b.tips("导出功能不支持 IE，请用 Chrome 等高级浏览器导出",this,{tips:3}):t({list:['<li data-type="csv">导出到 Csv 文件</li>','<li data-type="xls">导出到 Excel 文件</li>'].join(""),done:function(e,t){t.on("click",function(){var e=v(this).data("type");x.exportFile.call(s,c.id,null,e)})}});break;case"LAYTABLE_PRINT":var l=window.open("打印窗口","_blank"),o=["<style>","body{font-size: 12px; color: #666;}","table{width: 100%; border-collapse: collapse; border-spacing: 0;}","th,td{line-height: 20px; padding: 9px 15px; border: 1px solid #ccc; text-align: left; font-size: 12px; color: #666;}","a{color: #666; text-decoration:none;}","*.layui-hide{display: none}","</style>"].join(""),r=v(s.layHeader.html());r.append(s.layMain.find("table").html()),r.append(s.layTotal.find("table").html()),r.find("th.layui-table-patch").remove(),r.find(".layui-table-col-special").remove(),l.document.write(o+r.prop("outerHTML")),l.document.close(),l.print(),l.close()}layui.event.call(this,p,"toolbar("+u+")",v.extend({event:n,config:c},{}))}),e.on("mousemove",function(e){var t=v(this),i=t.offset().left,i=e.clientX-i;t.data("unresize")||l.resizeStart||(l.allowResize=t.width()-i<=10,a.css("cursor",l.allowResize?"col-resize":""))}).on("mouseleave",function(){v(this),l.resizeStart||a.css("cursor","")}).on("mousedown",function(e){var t,i=v(this);l.allowResize&&(t=i.data("key"),e.preventDefault(),l.resizeStart=!0,l.offset=[e.clientX,e.clientY],s.getCssRule(t,function(e){var t=e.style.width||i.outerWidth();l.rule=e,l.ruleWidth=parseFloat(t),l.minWidth=i.data("minwidth")||c.cellMinWidth}))}),L.on("mousemove",function(e){l.resizeStart&&(e.preventDefault(),l.rule&&((e=l.ruleWidth+e.clientX-l.offset[0])<l.minWidth&&(e=l.minWidth),l.rule.style.width=e+"px",b.close(s.tipsIndex)),n=1)}).on("mouseup",function(e){l.resizeStart&&(l={},a.css("cursor",""),s.scrollPatch()),2===n&&(n=null)}),e.on("click",function(e){var t=v(this),i=t.find(w),a=i.attr("lay-sort");return i[0]&&1!==n?void s.sort(t,"asc"===a?"desc":"desc"===a?null:"asc",null,!0):n=2}).find(w+" .layui-edge ").on("click",function(e){var t=v(this),i=t.index(),t=t.parents("th").eq(0).data("field");layui.stope(e),0===i?s.sort(t,"asc",null,!0):s.sort(t,"desc",null,!0)});function r(e){var t=v(this).parents("tr").eq(0).data("index"),n=s.layBody.find('tr[data-index="'+t+'"]'),l=(l=x.cache[s.key]||[])[t]||{};return v.extend({tr:n,data:x.clearCacheKey(l),del:function(){x.cache[s.key][t]=[],n.remove(),s.scrollPatch()},update:function(e){e=e||{},layui.each(e,function(i,e){var a,t;i in l&&(t=n.children('td[data-field="'+i+'"]'),l[i]=e,s.eachCols(function(e,t){t.field==i&&t.templet&&(a=t.templet)}),t.children(o).html(m.call(s,{templet:a},e,l)),t.data("content",e))})}},e)}s.elem.on("click",'input[name="layTableCheckbox"]+',function(){var e=v(this).prev(),t=s.layBody.find('input[name="layTableCheckbox"]'),i=e.parents("tr").eq(0).data("index"),a=e[0].checked,n="layTableAllChoose"===e.attr("lay-filter");n?(t.each(function(e,t){t.checked=a,s.setCheckData(e,a)}),s.syncCheckAll(),s.renderForm("checkbox")):(s.setCheckData(i,a),s.syncCheckAll()),layui.event.call(e[0],p,"checkbox("+u+")",r.call(e[0],{checked:a,type:n?"all":"one"}))}),s.elem.on("click",'input[lay-type="layTableRadio"]+',function(){var e=v(this).prev(),t=e[0].checked,i=x.cache[s.key],a=e.parents("tr").eq(0).data("index");layui.each(i,function(e,t){a===e?t[c.checkName]=!0:delete t[c.checkName]}),s.setThisRowChecked(a),layui.event.call(this,p,"radio("+u+")",r.call(this,{checked:t}))}),s.layBody.on("mouseenter","> table > tbody > tr",function(){var e=v(this),t=e.index();e.data("off")||s.layBody.find("> table > tbody > tr:eq("+t+")").addClass(E)}).on("mouseleave","> table > tbody > tr",function(){var e=v(this),t=e.index();e.data("off")||s.layBody.find("> table > tbody > tr:eq("+t+")").removeClass(E)}).on("click","> table > tbody > tr",function(){t.call(this,"row")}).on("dblclick","> table > tbody > tr",function(){t.call(this,"rowDouble")});var t=function(e){var t=v(this);t.data("off")||layui.event.call(this,p,e+"("+u+")",r.call(t.children("td")[0]))};s.layBody.on("change","."+T,function(){var e=v(this),t=this.value,i=e.parent().data("field"),e=e.parents("tr").eq(0).data("index");x.cache[s.key][e][i]=t,layui.event.call(this,p,"edit("+u+")",r.call(this,{value:t,field:i}))}).on("blur","."+T,function(){var i,e=v(this),a=e.parent().data("field"),t=e.parents("tr").eq(0).data("index"),n=x.cache[s.key][t];s.eachCols(function(e,t){t.field==a&&t.templet&&(i=t.templet)}),e.siblings(o).html((t=this.value,m.call(s,{templet:i},t,n))),e.parent().data("content",this.value),e.remove()}),s.layBody.on("click","td",function(e){var t=v(this),i=(t.data("field"),t.data("edit")),a=t.children(o);!t.data("off")&&i&&((i=v('<input class="layui-input '+T+'">'))[0].value=t.data("content")||a.text(),t.find("."+T)[0]||t.append(i),i.focus(),layui.stope(e))}).on("mouseenter","td",function(){i.call(this)}).on("mouseleave","td",function(){i.call(this,"hide")});var d="layui-table-grid-down",i=function(e){var t=v(this),i=t.children(o);t.data("off")||(e?t.find(".layui-table-grid-down").remove():i.prop("scrollWidth")>i.outerWidth()&&(i.find("."+d)[0]||t.append('<div class="'+d+'"><i class="layui-icon layui-icon-down"></i></div>')))};s.layBody.on("click","."+d,function(e){var t=v(this).parent().children(o);s.tipsIndex=b.tips(['<div class="layui-table-tips-main" style="margin-top: -'+(t.height()+16)+"px;"+("sm"===c.size?"padding: 4px 15px; font-size: 12px;":"lg"===c.size?"padding: 14px 15px;":"")+'">',t.html(),"</div>",'<i class="layui-icon layui-table-tips-c layui-icon-close"></i>'].join(""),t[0],{tips:[3,""],time:-1,anim:-1,maxWidth:f.ios||f.android?300:s.elem.width()/2,isOutAnim:!1,skin:"layui-table-tips",success:function(e,t){e.find(".layui-table-tips-c").on("click",function(){b.close(t)})}}),layui.stope(e)}),s.layBody.on("click","*[lay-event]",function(){var e=v(this),t=e.parents("tr").eq(0).data("index");layui.event.call(this,p,"tool("+u+")",r.call(this,{event:e.attr("lay-event")})),s.setThisRowChecked(t)}),s.layMain.on("scroll",function(){var e=v(this),t=e.scrollLeft(),e=e.scrollTop();s.layHeader.scrollLeft(t),s.layTotal.scrollLeft(t),s.layFixed.find(C).scrollTop(e),b.close(s.tipsIndex)}),D.on("resize",function(){s.resize()})},L.on("click",function(){L.trigger("table.remove.tool.panel")}),L.on("table.remove.tool.panel",function(){v(".layui-table-tool-panel").remove()}),x.init=function(i,a){a=a||{};var e=v(i?'table[lay-filter="'+i+'"]':".layui-table[lay-data]"),n="Table element property lay-data configuration item has a syntax error: ";return e.each(function(){var e=v(this),t=e.attr("lay-data");try{t=new Function("return "+t)()}catch(e){h.error(n+t,"error")}var l=[],o=v.extend({elem:this,cols:[],data:[],skin:e.attr("lay-skin"),size:e.attr("lay-size"),even:"string"==typeof e.attr("lay-even")},x.config,a,t);i&&e.hide(),e.find("thead>tr").each(function(a){o.cols[a]=[],v(this).children().each(function(e){var t=v(this),i=t.attr("lay-data");try{i=new Function("return "+i)()}catch(e){return h.error(n+i)}i=v.extend({title:t.text(),colspan:t.attr("colspan")||0,rowspan:t.attr("rowspan")||0},i);i.colspan<2&&l.push(i),o.cols[a].push(i)})}),e.find("tbody>tr").each(function(e){var i=v(this),n={};i.children("td").each(function(e,t){var i=v(this),a=i.data("field");if(a)return n[a]=i.html()}),layui.each(l,function(e,t){e=i.children("td").eq(e);n[t.field]=e.html()}),o.data[e]=n}),x.render(o)}),this},d.that={},d.config={},x.eachCols=function(e,i,n){var e=d.config[e]||{},l=[],o=0;n=v.extend(!0,[],n||e.cols),layui.each(n,function(t,e){layui.each(e,function(e,i){var a;i.colGroup&&(a=0,o++,i.CHILD_COLS=[],layui.each(n[t+1],function(e,t){t.PARENT_COL_INDEX||1<a&&a==i.colspan||(t.PARENT_COL_INDEX=o,i.CHILD_COLS.push(t),a+=parseInt(1<t.colspan?t.colspan:1))})),i.PARENT_COL_INDEX||l.push(i)})});var a=function(e){layui.each(e||l,function(e,t){return t.CHILD_COLS?a(t.CHILD_COLS):void("function"==typeof i&&i(e,t))})};a()},x.checkStatus=function(e){var i=0,a=0,n=[],e=x.cache[e]||[];return layui.each(e,function(e,t){return"array"===layui._typeof(t)?void a++:void(t[x.config.checkName]&&(i++,n.push(x.clearCacheKey(t))))}),{data:n,isAll:!!e.length&&i===e.length-a}},x.getData=function(e){var i=[],e=x.cache[e]||[];return layui.each(e,function(e,t){"array"!==layui._typeof(t)&&i.push(x.clearCacheKey(t))}),i},x.exportFile=function(e,t,i){var a=this;t=t||x.clearCacheKey(x.cache[e]);var o,r,n,s=d.that[e],l=d.config[e]||{},c={csv:"text/csv",xls:"application/vnd.ms-excel"}[i=i||"csv"],u=document.createElement("a");return f.ie?h.error("IE_NOT_SUPPORT_EXPORTS"):(u.href="data:"+c+";charset=utf-8,\ufeff"+encodeURIComponent((o=[],r=[],n=[],layui.each(t,function(a,n){var l=[];"object"==typeof e?(layui.each(e,function(e,t){0==a&&o.push(t||"")}),layui.each(x.clearCacheKey(n),function(e,t){l.push('"'+(t||"")+'"')})):x.eachCols(e,function(e,t){var i;t.field&&"normal"==t.type&&!t.hide&&(null!=(i=n[t.field])||(i=""),0==a&&o.push(t.title||""),l.push('"'+m.call(s,t,i,n,"text")+'"'))}),r.push(l.join(","))}),layui.each(a.dataTotal,function(e,t){n.push(t)}),o.join(",")+"\r\n"+r.join("\r\n")+"\r\n"+n.join(","))),u.download=(l.title||"table_"+(l.index||""))+"."+i,document.body.appendChild(u),u.click(),void document.body.removeChild(u))},x.resize=function(e){e?a(e)&&d.that[e].resize():layui.each(d.that,function(){this.resize()})},x.reload=function(e,t,i){if(a(e)){e=d.that[e];return e.reload(t,i),d.call(e)}},x.render=function(e){e=new i(e);return d.call(e)},x.clearCacheKey=function(e){return delete(e=v.extend({},e))[x.config.checkName],delete e[x.config.indexName],e},v(function(){x.init()}),e(p,x)}),layui.define("jquery",function(e){"use strict";function t(e){this.index=++i.index,this.config=s.extend({},this.config,i.config,e),this.render()}var s=layui.jquery,i={config:{},index:layui.rate?layui.rate.index+1e4:0,set:function(e){return this.config=s.extend({},this.config,e),this},on:function(e,t){return layui.onevent.call(this,a,e,t)}},a="rate",c="layui-icon-rate",u="layui-icon-rate-solid",o="layui-icon-rate-half",r="layui-icon-rate-solid layui-icon-rate-half",d="layui-icon-rate layui-icon-rate-half";t.prototype.config={length:5,text:!1,readonly:!1,half:!1,value:0,theme:""},t.prototype.render=function(){var e=this,t=e.config,i=t.theme?'style="color: '+t.theme+';"':"";t.elem=s(t.elem),t.value>t.length&&(t.value=t.length),parseInt(t.value)!==t.value&&(t.half||(t.value=Math.ceil(t.value)-t.value<.5?Math.ceil(t.value):Math.floor(t.value)));for(var a='<ul class="layui-rate" '+(t.readonly?"readonly":"")+">",n=1;n<=t.length;n++){var l='<li class="layui-inline"><i class="layui-icon '+(n>Math.floor(t.value)?c:u)+'" '+i+"></i></li>";t.half&&parseInt(t.value)!==t.value&&n==Math.ceil(t.value)?a=a+'<li><i class="layui-icon layui-icon-rate-half" '+i+"></i></li>":a+=l}a+="</ul>"+(t.text?'<span class="layui-inline">'+t.value+"星":"")+"</span>";var o=t.elem,r=o.next(".layui-rate");r[0]&&r.remove(),e.elemTemp=s(a),t.span=e.elemTemp.next("span"),t.setText&&t.setText(t.value),o.html(e.elemTemp),o.addClass("layui-inline"),t.readonly||e.action()},t.prototype.setvalue=function(e){this.config.value=e,this.render()},t.prototype.action=function(){var a=this.config,n=this.elemTemp,l=n.find("i").width();n.children("li").each(function(e){var t=e+1,i=s(this);i.on("click",function(e){a.value=t,!a.half||e.pageX-s(this).offset().left<=l/2&&(a.value=a.value-.5),a.text&&n.next("span").text(a.value+"星"),a.choose&&a.choose(a.value),a.setText&&a.setText(a.value)}),i.on("mousemove",function(e){n.find("i").each(function(){s(this).addClass(c).removeClass(r)}),n.find("i:lt("+t+")").each(function(){s(this).addClass(u).removeClass(d)}),!a.half||e.pageX-s(this).offset().left<=l/2&&i.children("i").addClass(o).removeClass(u)}),i.on("mouseleave",function(){n.find("i").each(function(){s(this).addClass(c).removeClass(r)}),n.find("i:lt("+Math.floor(a.value)+")").each(function(){s(this).addClass(u).removeClass(d)}),a.half&&parseInt(a.value)!==a.value&&n.children("li:eq("+Math.floor(a.value)+")").children("i").addClass(o).removeClass("layui-icon-rate-solid layui-icon-rate")})})},t.prototype.events=function(){this.config},i.render=function(e){e=new t(e);return function(){var t=this;return{setvalue:function(e){t.setvalue.call(t,e)},config:t.config}}.call(e)},e(a,i)}),layui.define(["layer","form"],function(e){"use strict";var u=layui.$,d=layui.layer,n=layui.form,c=(layui.hint(),layui.device()),i="layedit",y="layui-disabled",t=function(){this.index=0,this.config={tool:["strong","italic","underline","del","|","left","center","right","|","link","unlink","face","image"],hideTool:[],height:280}};t.prototype.set=function(e){return u.extend(!0,this.config,e),this},t.prototype.on=function(e,t){return layui.onevent(i,e,t)},t.prototype.build=function(e,t){t=t||{};var i,a,n=this.config,l="layui-layedit",o=u("string"==typeof e?"#"+e:e),r="LAY_layedit_"+ ++this.index,s=o.next("."+l),n=u.extend({},n,t),t=(i=[],a={},layui.each(n.hideTool,function(e,t){a[t]=!0}),layui.each(n.tool,function(e,t){w[t]&&!a[t]&&i.push(w[t])}),i.join("")),e=u(['<div class="'+l+'">','<div class="layui-unselect layui-layedit-tool">'+t+"</div>",'<div class="layui-layedit-iframe">','<iframe id="'+r+'" name="'+r+'" textarea="'+e+'" frameborder="0"></iframe>',"</div>","</div>"].join(""));return c.ie&&c.ie<8?o.removeClass("layui-hide").addClass("layui-show"):(s[0]&&s.remove(),p.call(this,e,o[0],n),o.addClass("layui-hide").after(e),this.index)},t.prototype.getContent=function(e){e=l(e);if(e[0])return a(e[0].document.body.innerHTML)},t.prototype.getText=function(e){e=l(e);if(e[0])return u(e[0].document.body).text()},t.prototype.setContent=function(e,t,i){var a=l(e);a[0]&&(i?u(a[0].document.body).append(t):u(a[0].document.body).html(t),layedit.sync(e))},t.prototype.sync=function(e){e=l(e);e[0]&&u("#"+e[1].attr("textarea")).val(a(e[0].document.body.innerHTML))},t.prototype.getSelection=function(e){e=l(e);if(e[0]){e=v(e[0].document);return document.selection?e.text:e.toString()}};function h(e,t,i){var a,n,l=this.document,o=document.createElement(e);for(a in t)o.setAttribute(a,t[a]);o.removeAttribute("text"),l.selection?(n=i.text||t.text,"a"===e&&!n||(n&&(o.innerHTML=n),i.pasteHTML(u(o).prop("outerHTML")),i.select())):(n=i.toString()||t.text,"a"===e&&!n||(n&&(o.innerHTML=n),i.deleteContents(),i.insertNode(o)))}function f(t,e){function i(e){return t.find(".layedit-tool-"+e)}var a=this.document,n="layedit-tool-active",a=g(v(a));e&&e[e.hasClass(n)?"removeClass":"addClass"](n),t.find(">i").removeClass(n),i("unlink").addClass(y),u(a).parents().each(function(){var e=this.tagName.toLowerCase(),t=this.style.textAlign;"b"!==e&&"strong"!==e||i("b").addClass(n),"i"!==e&&"em"!==e||i("i").addClass(n),"u"===e&&i("u").addClass(n),"strike"===e&&i("d").addClass(n),"p"===e&&i("center"===t?"center":"right"===t?"right":"left").addClass(n),"a"===e&&(i("link").addClass(n),i("unlink").removeClass(y))})}var p=function(n,l,o){var r=this,s=n.find("iframe");s.css({height:o.height}).on("load",function(){var e=s.contents(),t=s.prop("contentWindow"),i=e.find("head"),a=u(["<style>","*{margin: 0; padding: 0;}","body{padding: 10px; line-height: 20px; overflow-x: hidden; word-wrap: break-word; font: 14px Helvetica Neue,Helvetica,PingFang SC,Microsoft YaHei,Tahoma,Arial,sans-serif; -webkit-box-sizing: border-box !important; -moz-box-sizing: border-box !important; box-sizing: border-box !important;}","a{color:#01AAED; text-decoration:none;}a:hover{color:#c00}","p{margin-bottom: 10px;}","img{display: inline-block; border: none; vertical-align: middle;}","pre{margin: 10px 0; padding: 10px; line-height: 20px; border: 1px solid #ddd; border-left-width: 6px; background-color: #F2F2F2; color: #333; font-family: Courier New; font-size: 12px;}","</style>"].join("")),e=e.find("body");i.append(a),e.attr("contenteditable","true").css({"min-height":o.height}).html(l.value||""),m.apply(r,[t,s,l,o]),b.call(r,t,n,o)})},l=function(e){e=u("#LAY_layedit_"+e);return[e.prop("contentWindow"),e]},a=function(e){return e=8==c.ie?e.replace(/<.+>/g,function(e){return e.toLowerCase()}):e},m=function(t,e,i,a){var n=t.document,l=u(n.body);l.on("keydown",function(e){if(13===e.keyCode){var t=v(n);if("pre"===g(t).parentNode.tagName.toLowerCase())return e.shiftKey?void 0:(d.msg("请暂时用shift+enter"),!1);n.execCommand("formatBlock",!1,"<p>")}}),u(i).parents("form").on("submit",function(){var e=l.html();8==c.ie&&(e=e.replace(/<.+>/g,function(e){return e.toLowerCase()})),i.value=e}),l.on("paste",function(e){n.execCommand("formatBlock",!1,"<p>"),setTimeout(function(){o.call(t,l),i.value=l.html()},100)})},o=function(e){this.document,e.find("*[style]").each(function(){var e=this.style.textAlign;this.removeAttribute("style"),u(this).css({"text-align":e||""})}),e.find("table").addClass("layui-table"),e.find("script,link").remove()},v=function(e){return e.selection?e.selection.createRange():e.getSelection().getRangeAt(0)},g=function(e){return e.endContainer||e.parentElement().childNodes[0]},b=function(n,e,l){function t(){var e,t=u(this),i=t.attr("layedit-event"),a=t.attr("lay-command");t.hasClass(y)||(r.focus(),(e=v(o)).commonAncestorContainer,a?(o.execCommand(a),/justifyLeft|justifyCenter|justifyRight/.test(a)&&o.execCommand("formatBlock",!1,"<p>"),setTimeout(function(){r.focus()},10)):s[i]&&s[i].call(this,e),f.call(n,c,t))}var o=n.document,r=u(o.body),s={link:function(i){var e=g(i),a=u(e).parent();x.call(r,{href:a.attr("href"),target:a.attr("target")},function(e){var t=a[0];"A"===t.tagName?t.href=e.url:h.call(n,"a",{target:e.target,href:e.url,text:e.url},i)})},unlink:function(e){o.execCommand("unlink")},face:function(t){k.call(this,function(e){h.call(n,"img",{src:e.src,alt:e.alt},t)})},image:function(i){var a=this;layui.use("upload",function(e){var t=l.uploadImage||{};e.render({url:t.url,method:t.type,elem:u(a).find("input")[0],done:function(e){0==e.code?(e.data=e.data||{},h.call(n,"img",{src:e.data.src,alt:e.data.title},i)):d.msg(e.msg||"上传失败")}})})},code:function(t){C.call(r,function(e){h.call(n,"pre",{text:e.code,"lay-lang":e.lang},t)})},help:function(){d.open({type:2,title:"帮助",area:["600px","380px"],shadeClose:!0,shade:.1,skin:"layui-layer-msg",content:["","no"]})}},c=e.find(".layui-layedit-tool"),i=/image/;c.find(">i").on("mousedown",function(){var e=u(this).attr("layedit-event");i.test(e)||t.call(this)}).on("click",function(){var e=u(this).attr("layedit-event");i.test(e)&&t.call(this)}),r.on("click",function(){f.call(n,c),d.close(k.index)})},x=function(e,i){var a=this,e=d.open({type:1,id:"LAY_layedit_link",area:"350px",shade:.05,shadeClose:!0,moveType:1,title:"超链接",skin:"layui-layer-msg",content:['<ul class="layui-form" style="margin: 15px;">','<li class="layui-form-item">','<label class="layui-form-label" style="width: 60px;">URL</label>','<div class="layui-input-block" style="margin-left: 90px">','<input name="url" lay-verify="url" value="'+(e.href||"")+'" autofocus="true" autocomplete="off" class="layui-input">',"</div>","</li>",'<li class="layui-form-item">','<label class="layui-form-label" style="width: 60px;">打开方式</label>','<div class="layui-input-block" style="margin-left: 90px">','<input type="radio" name="target" value="_self" class="layui-input" title="当前窗口"'+("_self"!==e.target&&e.target?"":"checked")+">",'<input type="radio" name="target" value="_blank" class="layui-input" title="新窗口" '+("_blank"===e.target?"checked":"")+">","</div>","</li>",'<li class="layui-form-item" style="text-align: center;">','<button type="button" lay-submit lay-filter="layedit-link-yes" class="layui-btn"> 确定 </button>','<button style="margin-left: 20px;" type="button" class="layui-btn layui-btn-primary"> 取消 </button>',"</li>","</ul>"].join(""),success:function(e,t){n.render("radio"),e.find(".layui-btn-primary").on("click",function(){d.close(t),a.focus()}),n.on("submit(layedit-link-yes)",function(e){d.close(x.index),i&&i(e.field)})}});x.index=e},k=function(i){var a,n,l=(a={},layui.each(["[微笑]","[嘻嘻]","[哈哈]","[可爱]","[可怜]","[挖鼻]","[吃惊]","[害羞]","[挤眼]","[闭嘴]","[鄙视]","[爱你]","[泪]","[偷笑]","[亲亲]","[生病]","[太开心]","[白眼]","[右哼哼]","[左哼哼]","[嘘]","[衰]","[委屈]","[吐]","[哈欠]","[抱抱]","[怒]","[疑问]","[馋嘴]","[拜拜]","[思考]","[汗]","[困]","[睡]","[钱]","[失望]","[酷]","[色]","[哼]","[鼓掌]","[晕]","[悲伤]","[抓狂]","[黑线]","[阴险]","[怒骂]","[互粉]","[心]","[伤心]","[猪头]","[熊猫]","[兔子]","[ok]","[耶]","[good]","[NO]","[赞]","[来]","[弱]","[草泥马]","[神马]","[囧]","[浮云]","[给力]","[围观]","[威武]","[奥特曼]","[礼物]","[钟]","[话筒]","[蜡烛]","[蛋糕]"],function(e,t){a[t]=layui.cache.dir+"images/face/"+e+".gif"}),a);return k.hide=k.hide||function(e){"face"!==u(e.target).attr("layedit-event")&&d.close(k.index)},k.index=d.tips((n=[],layui.each(l,function(e,t){n.push('<li title="'+e+'"><img src="'+t+'" alt="'+e+'"></li>')}),'<ul class="layui-clear">'+n.join("")+"</ul>"),this,{tips:1,time:0,skin:"layui-box layui-util-face",maxWidth:500,success:function(e,t){e.css({marginTop:-4,marginLeft:-10}).find(".layui-clear>li").on("click",function(){i&&i({src:l[this.title],alt:this.title}),d.close(t)}),u(document).off("click",k.hide).on("click",k.hide)}})},C=function(i){var a=this,e=d.open({type:1,id:"LAY_layedit_code",area:"550px",shade:.05,shadeClose:!0,moveType:1,title:"插入代码",skin:"layui-layer-msg",content:['<ul class="layui-form layui-form-pane" style="margin: 15px;">','<li class="layui-form-item">','<label class="layui-form-label">请选择语言</label>','<div class="layui-input-block">','<select name="lang">','<option value="JavaScript">JavaScript</option>','<option value="HTML">HTML</option>','<option value="CSS">CSS</option>','<option value="Java">Java</option>','<option value="PHP">PHP</option>','<option value="C#">C#</option>','<option value="Python">Python</option>','<option value="Ruby">Ruby</option>','<option value="Go">Go</option>',"</select>","</div>","</li>",'<li class="layui-form-item layui-form-text">','<label class="layui-form-label">代码</label>','<div class="layui-input-block">','<textarea name="code" lay-verify="required" autofocus="true" class="layui-textarea" style="height: 200px;"></textarea>',"</div>","</li>",'<li class="layui-form-item" style="text-align: center;">','<button type="button" lay-submit lay-filter="layedit-code-yes" class="layui-btn"> 确定 </button>','<button style="margin-left: 20px;" type="button" class="layui-btn layui-btn-primary"> 取消 </button>',"</li>","</ul>"].join(""),success:function(e,t){n.render("select"),e.find(".layui-btn-primary").on("click",function(){d.close(t),a.focus()}),n.on("submit(layedit-code-yes)",function(e){d.close(C.index),i&&i(e.field)})}});C.index=e},w={html:'<i class="layui-icon layedit-tool-html" title="HTML源代码" lay-command="html" layedit-event="html"">&#xe64b;</i><span class="layedit-tool-mid"></span>',strong:'<i class="layui-icon layedit-tool-b" title="加粗" lay-command="Bold" layedit-event="b"">&#xe62b;</i>',italic:'<i class="layui-icon layedit-tool-i" title="斜体" lay-command="italic" layedit-event="i"">&#xe644;</i>',underline:'<i class="layui-icon layedit-tool-u" title="下划线" lay-command="underline" layedit-event="u"">&#xe646;</i>',del:'<i class="layui-icon layedit-tool-d" title="删除线" lay-command="strikeThrough" layedit-event="d"">&#xe64f;</i>',"|":'<span class="layedit-tool-mid"></span>',left:'<i class="layui-icon layedit-tool-left" title="左对齐" lay-command="justifyLeft" layedit-event="left"">&#xe649;</i>',center:'<i class="layui-icon layedit-tool-center" title="居中对齐" lay-command="justifyCenter" layedit-event="center"">&#xe647;</i>',right:'<i class="layui-icon layedit-tool-right" title="右对齐" lay-command="justifyRight" layedit-event="right"">&#xe648;</i>',link:'<i class="layui-icon layedit-tool-link" title="插入链接" layedit-event="link"">&#xe64c;</i>',unlink:'<i class="layui-icon layedit-tool-unlink layui-disabled" title="清除链接" lay-command="unlink" layedit-event="unlink"">&#xe64d;</i>',face:'<i class="layui-icon layedit-tool-face" title="表情" layedit-event="face"">&#xe650;</i>',image:'<i class="layui-icon layedit-tool-image" title="图片" layedit-event="image">&#xe64a;<input type="file" name="file"></i>',code:'<i class="layui-icon layedit-tool-code" title="插入代码" layedit-event="code">&#xe64e;</i>',help:'<i class="layui-icon layedit-tool-help" title="帮助" layedit-event="help">&#xe607;</i>'},t=new t;e(i,t)}),layui.define("jquery",function(e){"use strict";function t(e){}var m=layui.$;t.prototype.load=function(e){var a,n,l,t=0,o=m((e=e||{}).elem);if(o[0]){var i=m(e.scrollElem||document),r=e.mb||50,s=!("isAuto"in e)||e.isAuto,c=e.end||"没有更多了",u=e.scrollElem&&e.scrollElem!==document,d="<cite>加载更多</cite>",y=m('<div class="layui-flow-more"><a href="javascript:;">'+d+"</a></div>");o.find(".layui-flow-more")[0]||o.append(y);var h,f=function(e,t){e=m(e),y.before(e),(t=0==t||null)?y.html(c):y.find("a").html(d),n=t,a=null,h&&h()},p=function(){a=!0,y.find("a").html('<i class="layui-anim layui-anim-rotate layui-anim-loop layui-icon ">&#xe63e;</i>'),"function"==typeof e.done&&e.done(++t,f)};return p(),y.find("a").on("click",function(){m(this),n||a||p()}),e.isLazyimg&&(h=this.lazyimg({elem:e.elem+" img",scrollElem:e.scrollElem})),s&&i.on("scroll",function(){var t=m(this),i=t.scrollTop();l&&clearTimeout(l),!n&&o.width()&&(l=setTimeout(function(){var e=(u?t:m(window)).height();(u?t.prop("scrollHeight"):document.documentElement.scrollHeight)-i-e<=r&&(a||p())},100))}),this}},t.prototype.lazyimg=function(e){function s(t,e){var i,a=d.scrollTop(),n=a+e,e=h?t.offset().top-d.offset().top+a:t.offset().top;a<=e&&e<=n&&t.attr("lay-src")&&(i=t.attr("lay-src"),layui.img(i,function(){var e=c.lazyimg.elem.eq(u);t.attr("src",i).removeAttr("lay-src"),e[0]&&l(e),u++},function(){c.lazyimg.elem.eq(u),t.removeAttr("lay-src")}))}var t,c=this,u=0,d=m((e=e||{}).scrollElem||document),y=e.elem||"img",h=e.scrollElem&&e.scrollElem!==document,l=function(e,t){var i=(h?t||d:m(window)).height(),a=d.scrollTop(),n=a+i;if(c.lazyimg.elem=m(y),e)s(e,i);else for(var l=0;l<c.lazyimg.elem.length;l++){var o=c.lazyimg.elem.eq(l),r=h?o.offset().top-d.offset().top+a:o.offset().top;if(s(o,i),u=l,n<r)break}};return l(),d.on("scroll",function(){var e=m(this);t&&clearTimeout(t),t=setTimeout(function(){l(null,e)},50)}),l},e("flow",new t)});